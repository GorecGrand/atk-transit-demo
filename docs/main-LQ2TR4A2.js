var by=Object.defineProperty,Ny=Object.defineProperties;var xy=Object.getOwnPropertyDescriptors;var Gd=Object.getOwnPropertySymbols;var Ry=Object.prototype.hasOwnProperty,Py=Object.prototype.propertyIsEnumerable;var $d=(t,e,n)=>e in t?by(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,J=(t,e)=>{for(var n in e||={})Ry.call(e,n)&&$d(t,n,e[n]);if(Gd)for(var n of Gd(e))Py.call(e,n)&&$d(t,n,e[n]);return t},oe=(t,e)=>Ny(t,xy(e));var Se=null,Pr=!1,_a=1,Fy=null,Be=Symbol("SIGNAL");function b(t){let e=Se;return Se=t,e}function kr(){return Se}var Fo={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ca(t){if(Pr)throw new Error("");if(Se===null)return;Se.consumerOnSignalRead(t);let e=Se.producersTail;if(e!==void 0&&e.producer===t)return;let n,o=Se.recomputing;if(o&&(n=e!==void 0?e.nextProducer:Se.producers,n!==void 0&&n.producer===t)){Se.producersTail=n,n.lastReadVersion=t.version;return}let r=t.consumersTail;if(r!==void 0&&r.consumer===Se&&(!o||Ly(r,Se)))return;let i=jn(Se),s={producer:t,consumer:Se,nextProducer:n,prevConsumer:r,lastReadVersion:t.version,nextConsumer:void 0};Se.producersTail=s,e!==void 0?e.nextProducer=s:Se.producers=s,i&&Jd(t,s)}function qd(){_a++}function Da(t){if(!(jn(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===_a)){if(!t.producerMustRecompute(t)&&!wa(t)){Ea(t);return}t.producerRecomputeValue(t),Ea(t)}}function Ia(t){if(t.consumers===void 0)return;let e=Pr;Pr=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let o=n.consumer;o.dirty||ky(o)}}finally{Pr=e}}function Ta(){return Se?.consumerAllowSignalWrites!==!1}function ky(t){t.dirty=!0,Ia(t),t.consumerMarkedDirty?.(t)}function Ea(t){t.dirty=!1,t.lastCleanEpoch=_a}function Lr(t){return t&&Wd(t),b(t)}function Wd(t){t.producersTail=void 0,t.recomputing=!0}function Sa(t,e){b(e),t&&zd(t)}function zd(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(jn(t))do n=Aa(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function wa(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,o=e.lastReadVersion;if(o!==n.version||(Da(n),o!==n.version))return!0}return!1}function Or(t){if(jn(t)){let e=t.producers;for(;e!==void 0;)e=Aa(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function Jd(t,e){let n=t.consumersTail,o=jn(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!o)for(let r=t.producers;r!==void 0;r=r.nextProducer)Jd(r.producer,r)}function Aa(t){let e=t.producer,n=t.nextProducer,o=t.nextConsumer,r=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,o!==void 0?o.prevConsumer=r:e.consumersTail=r,r!==void 0)r.nextConsumer=o;else if(e.consumers=o,!jn(e)){let i=e.producers;for(;i!==void 0;)i=Aa(i)}return n}function jn(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Ma(t){Fy?.(t)}function Ly(t,e){let n=e.producersTail;if(n!==void 0){let o=e.producers;do{if(o===t)return!0;if(o===n)break;o=o.nextProducer}while(o!==void 0)}return!1}function ba(t,e){return Object.is(t,e)}function Vr(t,e){let n=Object.create(Oy);n.computation=t,e!==void 0&&(n.equal=e);let o=()=>{if(Da(n),Ca(n),n.value===Fr)throw n.error;return n.value};return o[Be]=n,Ma(n),o}var ya=Symbol("UNSET"),va=Symbol("COMPUTING"),Fr=Symbol("ERRORED"),Oy=oe(J({},Fo),{value:ya,dirty:!0,error:null,equal:ba,kind:"computed",producerMustRecompute(t){return t.value===ya||t.value===va},producerRecomputeValue(t){if(t.value===va)throw new Error("");let e=t.value;t.value=va;let n=Lr(t),o,r=!1;try{o=t.computation(),b(null),r=e!==ya&&e!==Fr&&o!==Fr&&t.equal(e,o)}catch(i){o=Fr,t.error=i}finally{Sa(t,n)}if(r){t.value=e;return}t.value=o,t.version++}});function Vy(){throw new Error}var jd=Vy;function Yd(t){jd(t)}function Na(t){jd=t}var By=null;function xa(t,e){let n=Object.create(Qd);n.value=t,e!==void 0&&(n.equal=e);let o=()=>Kd(n);return o[Be]=n,Ma(n),[o,s=>Ra(n,s),s=>Zd(n,s)]}function Kd(t){return Ca(t),t.value}function Ra(t,e){Ta()||Yd(t),t.equal(t.value,e)||(t.value=e,Uy(t))}function Zd(t,e){Ta()||Yd(t),Ra(t,e(t.value))}var Qd=oe(J({},Fo),{equal:ba,value:void 0,kind:"signal"});function Uy(t){t.version++,qd(),Ia(t),By?.(t)}function Pa(t){let e=b(null);try{return t()}finally{b(e)}}function W(t){return typeof t=="function"}function Br(t){let n=t(o=>{Error.call(o),o.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ur=Br(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((o,r)=>`${r+1}) ${o.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ko(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:o}=this;if(W(o))try{o()}catch(i){e=i instanceof Ur?i.errors:[i]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let i of r)try{Xd(i)}catch(s){e=e??[],s instanceof Ur?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ur(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Xd(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ko(n,e)}remove(e){let{_finalizers:n}=this;n&&ko(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var Fa=Ne.EMPTY;function Hr(t){return t instanceof Ne||t&&"closed"in t&&W(t.remove)&&W(t.add)&&W(t.unsubscribe)}function Xd(t){W(t)?t():t.unsubscribe()}var tt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Yn={setTimeout(t,e,...n){let{delegate:o}=Yn;return o?.setTimeout?o.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Yn;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Gr(t){Yn.setTimeout(()=>{let{onUnhandledError:e}=tt;if(e)e(t);else throw t})}function ka(){}var ef=La("C",void 0,void 0);function tf(t){return La("E",void 0,t)}function nf(t){return La("N",t,void 0)}function La(t,e,n){return{kind:t,value:e,error:n}}var hn=null;function Kn(t){if(tt.useDeprecatedSynchronousErrorHandling){let e=!hn;if(e&&(hn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:o}=hn;if(hn=null,n)throw o}}else t()}function of(t){tt.useDeprecatedSynchronousErrorHandling&&hn&&(hn.errorThrown=!0,hn.error=t)}var gn=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Hr(e)&&e.add(this)):this.destination=$y}static create(e,n,o){return new Zn(e,n,o)}next(e){this.isStopped?Va(nf(e),this):this._next(e)}error(e){this.isStopped?Va(tf(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Va(ef,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Hy=Function.prototype.bind;function Oa(t,e){return Hy.call(t,e)}var Ba=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(o){$r(o)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(o){$r(o)}else $r(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){$r(n)}}},Zn=class extends gn{constructor(e,n,o){super();let r;if(W(e)||!e)r={next:e??void 0,error:n??void 0,complete:o??void 0};else{let i;this&&tt.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Oa(e.next,i),error:e.error&&Oa(e.error,i),complete:e.complete&&Oa(e.complete,i)}):r=e}this.destination=new Ba(r)}};function $r(t){tt.useDeprecatedSynchronousErrorHandling?of(t):Gr(t)}function Gy(t){throw t}function Va(t,e){let{onStoppedNotification:n}=tt;n&&Yn.setTimeout(()=>n(t,e))}var $y={closed:!0,next:ka,error:Gy,complete:ka};var Qn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function rf(t){return t}function sf(t){return t.length===0?rf:t.length===1?t[0]:function(n){return t.reduce((o,r)=>r(o),n)}}var le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let o=new t;return o.source=this,o.operator=n,o}subscribe(n,o,r){let i=Wy(n)?n:new Zn(n,o,r);return Kn(()=>{let{operator:s,source:u}=this;i.add(s?s.call(i,u):u?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(o){n.error(o)}}forEach(n,o){return o=af(o),new o((r,i)=>{let s=new Zn({next:u=>{try{n(u)}catch(c){i(c),s.unsubscribe()}},error:i,complete:r});this.subscribe(s)})}_subscribe(n){var o;return(o=this.source)===null||o===void 0?void 0:o.subscribe(n)}[Qn](){return this}pipe(...n){return sf(n)(this)}toPromise(n){return n=af(n),new n((o,r)=>{let i;this.subscribe(s=>i=s,s=>r(s),()=>o(i))})}}return t.create=e=>new t(e),t})();function af(t){var e;return(e=t??tt.Promise)!==null&&e!==void 0?e:Promise}function qy(t){return t&&W(t.next)&&W(t.error)&&W(t.complete)}function Wy(t){return t&&t instanceof gn||qy(t)&&Hr(t)}function zy(t){return W(t?.lift)}function Xn(t){return e=>{if(zy(e))return e.lift(function(n){try{return t(n,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function eo(t,e,n,o,r){return new Ua(t,e,n,o,r)}var Ua=class extends gn{constructor(e,n,o,r,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(u){try{n(u)}catch(c){e.error(c)}}:super._next,this._error=r?function(u){try{r(u)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var uf=Br(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var mt=(()=>{class t extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let o=new qr(this,this);return o.operator=n,o}_throwIfClosed(){if(this.closed)throw new uf}next(n){Kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let o of this.currentObservers)o.next(n)}})}error(n){Kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:o}=this;for(;o.length;)o.shift().error(n)}})}complete(){Kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:o,isStopped:r,observers:i}=this;return o||r?Fa:(this.currentObservers=null,i.push(n),new Ne(()=>{this.currentObservers=null,ko(i,n)}))}_checkFinalizedStatuses(n){let{hasError:o,thrownError:r,isStopped:i}=this;o?n.error(r):i&&n.complete()}asObservable(){let n=new le;return n.source=this,n}}return t.create=(e,n)=>new qr(e,n),t})(),qr=class extends mt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.next)===null||o===void 0||o.call(n,e)}error(e){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.error)===null||o===void 0||o.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,o;return(o=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&o!==void 0?o:Fa}};var Lo=class extends mt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:o}=this;if(e)throw n;return this._throwIfClosed(),o}next(e){super.next(this._value=e)}};function Jy(t){return t[t.length-1]}function lf(t){return W(Jy(t))?t.pop():void 0}function df(t,e,n,o){function r(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(f){try{d(o.next(f))}catch(p){s(p)}}function c(f){try{d(o.throw(f))}catch(p){s(p)}}function d(f){f.done?i(f.value):r(f.value).then(u,c)}d((o=o.apply(t,e||[])).next())})}function cf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mn(t){return this instanceof mn?(this.v=t,this):new mn(t)}function ff(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(g){return function(m){return Promise.resolve(m).then(g,p)}}function u(g,m){o[g]&&(r[g]=function(y){return new Promise(function(_,v){i.push([g,y,_,v])>1||c(g,y)})},m&&(r[g]=m(r[g])))}function c(g,m){try{d(o[g](m))}catch(y){h(i[0][3],y)}}function d(g){g.value instanceof mn?Promise.resolve(g.value.v).then(f,p):h(i[0][2],g)}function f(g){c("next",g)}function p(g){c("throw",g)}function h(g,m){g(m),i.shift(),i.length&&c(i[0][0],i[0][1])}}function pf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof cf=="function"?cf(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=t[i]&&function(s){return new Promise(function(u,c){s=t[i](s),r(u,c,s.done,s.value)})}}function r(i,s,u,c){Promise.resolve(c).then(function(d){i({value:d,done:u})},s)}}var Wr=t=>t&&typeof t.length=="number"&&typeof t!="function";function zr(t){return W(t?.then)}function Jr(t){return W(t[Qn])}function jr(t){return Symbol.asyncIterator&&W(t?.[Symbol.asyncIterator])}function Yr(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function jy(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Kr=jy();function Zr(t){return W(t?.[Kr])}function Qr(t){return ff(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:o,done:r}=yield mn(n.read());if(r)return yield mn(void 0);yield yield mn(o)}}finally{n.releaseLock()}})}function Xr(t){return W(t?.getReader)}function Yt(t){if(t instanceof le)return t;if(t!=null){if(Jr(t))return Yy(t);if(Wr(t))return Ky(t);if(zr(t))return Zy(t);if(jr(t))return hf(t);if(Zr(t))return Qy(t);if(Xr(t))return Xy(t)}throw Yr(t)}function Yy(t){return new le(e=>{let n=t[Qn]();if(W(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ky(t){return new le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Zy(t){return new le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Gr)})}function Qy(t){return new le(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function hf(t){return new le(e=>{e0(t,e).catch(n=>e.error(n))})}function Xy(t){return hf(Qr(t))}function e0(t,e){var n,o,r,i;return df(this,void 0,void 0,function*(){try{for(n=pf(t);o=yield n.next(),!o.done;){let s=o.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{o&&!o.done&&(i=n.return)&&(yield i.call(n))}finally{if(r)throw r.error}}e.complete()})}function yt(t,e,n,o=0,r=!1){let i=e.schedule(function(){n(),r?t.add(this.schedule(null,o)):this.unsubscribe()},o);if(t.add(i),!r)return i}function ei(t,e=0){return Xn((n,o)=>{n.subscribe(eo(o,r=>yt(o,t,()=>o.next(r),e),()=>yt(o,t,()=>o.complete(),e),r=>yt(o,t,()=>o.error(r),e)))})}function ti(t,e=0){return Xn((n,o)=>{o.add(t.schedule(()=>n.subscribe(o),e))})}function gf(t,e){return Yt(t).pipe(ti(e),ei(e))}function mf(t,e){return Yt(t).pipe(ti(e),ei(e))}function yf(t,e){return new le(n=>{let o=0;return e.schedule(function(){o===t.length?n.complete():(n.next(t[o++]),n.closed||this.schedule())})})}function vf(t,e){return new le(n=>{let o;return yt(n,e,()=>{o=t[Kr](),yt(n,e,()=>{let r,i;try{({value:r,done:i}=o.next())}catch(s){n.error(s);return}i?n.complete():n.next(r)},0,!0)}),()=>W(o?.return)&&o.return()})}function ni(t,e){if(!t)throw new Error("Iterable cannot be null");return new le(n=>{yt(n,e,()=>{let o=t[Symbol.asyncIterator]();yt(n,e,()=>{o.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function Ef(t,e){return ni(Qr(t),e)}function _f(t,e){if(t!=null){if(Jr(t))return gf(t,e);if(Wr(t))return yf(t,e);if(zr(t))return mf(t,e);if(jr(t))return ni(t,e);if(Zr(t))return vf(t,e);if(Xr(t))return Ef(t,e)}throw Yr(t)}function Ha(t,e){return e?_f(t,e):Yt(t)}function yn(t,e){return Xn((n,o)=>{let r=0;n.subscribe(eo(o,i=>{o.next(t.call(e,i,r++))}))})}var{isArray:t0}=Array;function n0(t,e){return t0(e)?t(...e):t(e)}function Cf(t){return yn(e=>n0(t,e))}var{isArray:o0}=Array,{getPrototypeOf:r0,prototype:i0,keys:s0}=Object;function Df(t){if(t.length===1){let e=t[0];if(o0(e))return{args:e,keys:null};if(a0(e)){let n=s0(e);return{args:n.map(o=>e[o]),keys:n}}}return{args:t,keys:null}}function a0(t){return t&&typeof t=="object"&&r0(t)===i0}function If(t,e){return t.reduce((n,o,r)=>(n[o]=e[r],n),{})}function Ga(...t){let e=lf(t),{args:n,keys:o}=Df(t),r=new le(i=>{let{length:s}=n;if(!s){i.complete();return}let u=new Array(s),c=s,d=s;for(let f=0;f<s;f++){let p=!1;Yt(n[f]).subscribe(eo(i,h=>{p||(p=!0,d--),u[f]=h},()=>c--,void 0,()=>{(!c||!p)&&(d||i.next(o?If(o,u):u),i.complete())}))}});return e?r.pipe(Cf(e)):r}var $a;function oi(){return $a}function vt(t){let e=$a;return $a=t,e}var Tf=Symbol("NotFound");function to(t){return t===Tf||t?.name==="\u0275NotFound"}var ru="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",N=class extends Error{code;constructor(e,n){super(ui(e,n)),this.code=e}};function c0(t){return`NG0${Math.abs(t)}`}function ui(t,e){return`${c0(t)}${e?": "+e:""}`}var In=globalThis;function Z(t){for(let e in t)if(t[e]===Z)return e;throw Error("")}function bf(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Kt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Kt).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let o=n.indexOf(`
`);return o>=0?n.slice(0,o):n}function iu(t,e){return t?e?`${t} ${e}`:t:e||""}var d0=Z({__forward_ref__:Z});function je(t){return t.__forward_ref__=je,t.toString=function(){return Kt(this())},t}function De(t){return su(t)?t():t}function su(t){return typeof t=="function"&&t.hasOwnProperty(d0)&&t.__forward_ref__===je}function ee(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Xt(t){return{providers:t.providers||[],imports:t.imports||[]}}function li(t){return f0(t,ci)}function f0(t,e){return t.hasOwnProperty(e)&&t[e]||null}function p0(t){let e=t?.[ci]??null;return e||null}function Wa(t){return t&&t.hasOwnProperty(ii)?t[ii]:null}var ci=Z({\u0275prov:Z}),ii=Z({\u0275inj:Z}),L=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ee({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function au(t){return t&&!!t.\u0275providers}var uu=Z({\u0275cmp:Z}),lu=Z({\u0275dir:Z}),cu=Z({\u0275pipe:Z});var Vo=Z({\u0275fac:Z}),Tn=Z({__NG_ELEMENT_ID__:Z}),Sf=Z({__NG_ENV_ID__:Z});function Go(t){return fu(t,"@Component"),t[uu]||null}function du(t){return fu(t,"@Directive"),t[lu]||null}function Nf(t){return fu(t,"@Pipe"),t[cu]||null}function fu(t,e){if(t==null)throw new N(-919,!1)}function di(t){return typeof t=="string"?t:t==null?"":String(t)}function xf(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():di(t)}var Rf=Z({ngErrorCode:Z}),h0=Z({ngErrorMessage:Z}),g0=Z({ngTokenPath:Z});function pu(t,e){return Pf("",-200,e)}function fi(t,e){throw new N(-201,!1)}function Pf(t,e,n){let o=new N(e,t);return o[Rf]=e,o[h0]=t,n&&(o[g0]=n),o}function m0(t){return t[Rf]}var za;function Ff(){return za}function xe(t){let e=za;return za=t,e}function hu(t,e,n){let o=li(t);if(o&&o.providedIn=="root")return o.value===void 0?o.value=o.factory():o.value;if(n&8)return null;if(e!==void 0)return e;fi(t,"")}var y0={},vn=y0,v0="__NG_DI_FLAG__",Ja=class{injector;constructor(e){this.injector=e}retrieve(e,n){let o=En(n)||0;try{return this.injector.get(e,o&8?null:vn,o)}catch(r){if(to(r))return r;throw r}}};function E0(t,e=0){let n=oi();if(n===void 0)throw new N(-203,!1);if(n===null)return hu(t,void 0,e);{let o=_0(e),r=n.retrieve(t,o);if(to(r)){if(o.optional)return null;throw r}return r}}function j(t,e=0){return(Ff()||E0)(De(t),e)}function F(t,e){return j(t,En(e))}function En(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function _0(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function ja(t){let e=[];for(let n=0;n<t.length;n++){let o=De(t[n]);if(Array.isArray(o)){if(o.length===0)throw new N(900,!1);let r,i=0;for(let s=0;s<o.length;s++){let u=o[s],c=C0(u);typeof c=="number"?c===-1?r=u.token:i|=c:r=u}e.push(j(r,i))}else e.push(j(o))}return e}function C0(t){return t[v0]}function Zt(t,e){let n=t.hasOwnProperty(Vo);return n?t[Vo]:null}function pi(t,e){t.forEach(n=>Array.isArray(n)?pi(n,e):e(n))}function kf(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Lf(t,e,n,o){let r=t.length;if(r==e)t.push(n,o);else if(r===1)t.push(o,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let i=r-2;t[r]=t[i],r--}t[e]=n,t[e+1]=o}}function Of(t,e,n){let o=oo(t,e);return o>=0?t[o|1]=n:(o=~o,Lf(t,o,e,n)),o}function hi(t,e){let n=oo(t,e);if(n>=0)return t[n|1]}function oo(t,e){return D0(t,e,1)}function D0(t,e,n){let o=0,r=t.length>>n;for(;r!==o;){let i=o+(r-o>>1),s=t[i<<n];if(e===s)return i<<n;s>e?r=i:o=i+1}return~(r<<n)}var en={},He=[],$o=new L(""),mu=new L("",-1),yu=new L(""),Bo=class{get(e,n=vn){if(n===vn){let r=Pf("",-201);throw r.name="\u0275NotFound",r}return n}};function vu(t){return{\u0275providers:t}}function Vf(...t){return{\u0275providers:Eu(!0,t),\u0275fromNgModule:!0}}function Eu(t,...e){let n=[],o=new Set,r,i=s=>{n.push(s)};return pi(e,s=>{let u=s;si(u,i,[],o)&&(r||=[],r.push(u))}),r!==void 0&&Bf(r,i),n}function Bf(t,e){for(let n=0;n<t.length;n++){let{ngModule:o,providers:r}=t[n];_u(r,i=>{e(i,o)})}}function si(t,e,n,o){if(t=De(t),!t)return!1;let r=null,i=Wa(t),s=!i&&Go(t);if(!i&&!s){let c=t.ngModule;if(i=Wa(c),i)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=t}let u=o.has(r);if(s){if(u)return!1;if(o.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of c)si(d,e,n,o)}}else if(i){if(i.imports!=null&&!u){o.add(r);let d;pi(i.imports,f=>{si(f,e,n,o)&&(d||=[],d.push(f))}),d!==void 0&&Bf(d,e)}if(!u){let d=Zt(r)||(()=>new r);e({provide:r,useFactory:d,deps:He},r),e({provide:yu,useValue:r,multi:!0},r),e({provide:$o,useValue:()=>j(r),multi:!0},r)}let c=i.providers;if(c!=null&&!u){let d=t;_u(c,f=>{e(f,d)})}}else return!1;return r!==t&&t.providers!==void 0}function _u(t,e){for(let n of t)au(n)&&(n=n.\u0275providers),Array.isArray(n)?_u(n,e):e(n)}var I0=Z({provide:String,useValue:Z});function Uf(t){return t!==null&&typeof t=="object"&&I0 in t}function T0(t){return!!(t&&t.useExisting)}function S0(t){return!!(t&&t.useFactory)}function _n(t){return typeof t=="function"}function Hf(t){return!!t.useClass}var qo=new L(""),ri={},wf={},qa;function Wo(){return qa===void 0&&(qa=new Bo),qa}var nt=class{},Cn=class extends nt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,o,r){super(),this.parent=n,this.source=o,this.scopes=r,Ka(e,s=>this.processProvider(s)),this.records.set(mu,no(void 0,this)),r.has("environment")&&this.records.set(nt,no(void 0,this));let i=this.records.get(qo);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(yu,He,{self:!0}))}retrieve(e,n){let o=En(n)||0;try{return this.get(e,vn,o)}catch(r){if(to(r))return r;throw r}}destroy(){Oo(this),this._destroyed=!0;let e=b(null);try{for(let o of this._ngOnDestroyHooks)o.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),b(e)}}onDestroy(e){return Oo(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Oo(this);let n=vt(this),o=xe(void 0),r;try{return e()}finally{vt(n),xe(o)}}get(e,n=vn,o){if(Oo(this),e.hasOwnProperty(Sf))return e[Sf](this);let r=En(o),i,s=vt(this),u=xe(void 0);try{if(!(r&4)){let d=this.records.get(e);if(d===void 0){let f=N0(e)&&li(e);f&&this.injectableDefInScope(f)?d=no(Ya(e),ri):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,r)}let c=r&2?Wo():this.parent;return n=r&8&&n===vn?null:n,c.get(e,n)}catch(c){let d=m0(c);throw d===-200||d===-201?new N(d,null):c}finally{xe(u),vt(s)}}resolveInjectorInitializers(){let e=b(null),n=vt(this),o=xe(void 0),r;try{let i=this.get($o,He,{self:!0});for(let s of i)s()}finally{vt(n),xe(o),b(e)}}toString(){let e=[],n=this.records;for(let o of n.keys())e.push(Kt(o));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=De(e);let n=_n(e)?e:De(e&&e.provide),o=A0(e);if(!_n(e)&&e.multi===!0){let r=this.records.get(n);r||(r=no(void 0,ri,!0),r.factory=()=>ja(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,o)}hydrate(e,n,o){let r=b(null);try{if(n.value===wf)throw pu(Kt(e));return n.value===ri&&(n.value=wf,n.value=n.factory(void 0,o)),typeof n.value=="object"&&n.value&&b0(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{b(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=De(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ya(t){let e=li(t),n=e!==null?e.factory:Zt(t);if(n!==null)return n;if(t instanceof L)throw new N(204,!1);if(t instanceof Function)return w0(t);throw new N(204,!1)}function w0(t){if(t.length>0)throw new N(204,!1);let n=p0(t);return n!==null?()=>n.factory(t):()=>new t}function A0(t){if(Uf(t))return no(void 0,t.useValue);{let e=Cu(t);return no(e,ri)}}function Cu(t,e,n){let o;if(_n(t)){let r=De(t);return Zt(r)||Ya(r)}else if(Uf(t))o=()=>De(t.useValue);else if(S0(t))o=()=>t.useFactory(...ja(t.deps||[]));else if(T0(t))o=(r,i)=>j(De(t.useExisting),i!==void 0&&i&8?8:void 0);else{let r=De(t&&(t.useClass||t.provide));if(M0(t))o=()=>new r(...ja(t.deps));else return Zt(r)||Ya(r)}return o}function Oo(t){if(t.destroyed)throw new N(205,!1)}function no(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function M0(t){return!!t.deps}function b0(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function N0(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Ka(t,e){for(let n of t)Array.isArray(n)?Ka(n,e):n&&au(n)?Ka(n.\u0275providers,e):e(n)}function gi(t,e){let n;t instanceof Cn?(Oo(t),n=t):n=new Ja(t);let o,r=vt(n),i=xe(void 0);try{return e()}finally{vt(r),xe(i)}}function Gf(){return Ff()!==void 0||oi()!=null}var ot=0,x=1,k=2,Re=3,Ye=4,rt=5,ro=6,io=7,ce=8,Vt=9,Bt=10,se=11,so=12,Du=13,Sn=14,$e=15,wn=16,An=17,Mn=18,Ut=19,Iu=20,Lt=21,mi=22,zo=23,qe=24,bn=25,Nn=26,he=27,$f=1,Tu=6,ao=7,qf=8,Jo=9,ge=10;function _t(t){return Array.isArray(t)&&typeof t[$f]=="object"}function Ht(t){return Array.isArray(t)&&t[$f]===!0}function Su(t){return(t.flags&4)!==0}function tn(t){return t.componentOffset>-1}function yi(t){return(t.flags&1)===1}function Ct(t){return!!t.template}function uo(t){return(t[k]&512)!==0}function xn(t){return(t[k]&256)===256}var wu="svg",Wf="math";function it(t){for(;Array.isArray(t);)t=t[ot];return t}function Au(t,e){return it(e[t])}function Dt(t,e){return it(e[t.index])}function jo(t,e){return t.data[e]}function Mu(t,e){return t[e]}function bu(t,e,n,o){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=o}function Ke(t,e){let n=e[t];return _t(n)?n:n[ot]}function vi(t){return(t[k]&128)===128}function It(t,e){return e==null?null:t[e]}function Nu(t){t[An]=0}function xu(t){t[k]&1024||(t[k]|=1024,vi(t)&&lo(t))}function zf(t,e){for(;t>0;)e=e[Sn],t--;return e}function Yo(t){return!!(t[k]&9216||t[qe]?.dirty)}function Ei(t){t[Bt].changeDetectionScheduler?.notify(8),t[k]&64&&(t[k]|=1024),Yo(t)&&lo(t)}function lo(t){t[Bt].changeDetectionScheduler?.notify(0);let e=Qt(t);for(;e!==null&&!(e[k]&8192||(e[k]|=8192,!vi(e)));)e=Qt(e)}function Ru(t,e){if(xn(t))throw new N(911,!1);t[Lt]===null&&(t[Lt]=[]),t[Lt].push(e)}function Jf(t,e){if(t[Lt]===null)return;let n=t[Lt].indexOf(e);n!==-1&&t[Lt].splice(n,1)}function Qt(t){let e=t[Re];return Ht(e)?e[Re]:e}function jf(t){return t[io]??=[]}function Yf(t){return t.cleanup??=[]}var V={lFrame:lp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Za=!1;function Kf(){return V.lFrame.elementDepthCount}function Zf(){V.lFrame.elementDepthCount++}function Pu(){V.lFrame.elementDepthCount--}function Qf(){return V.bindingsEnabled}function Xf(){return V.skipHydrationRootTNode!==null}function Fu(t){return V.skipHydrationRootTNode===t}function ku(){V.skipHydrationRootTNode=null}function H(){return V.lFrame.lView}function we(){return V.lFrame.tView}function Ie(t){return V.lFrame.contextLView=t,t[ce]}function Te(t){return V.lFrame.contextLView=null,t}function We(){let t=Lu();for(;t!==null&&t.type===64;)t=t.parent;return t}function Lu(){return V.lFrame.currentTNode}function ep(){let t=V.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function co(t,e){let n=V.lFrame;n.currentTNode=t,n.isParent=e}function Ou(){return V.lFrame.isParent}function tp(){V.lFrame.isParent=!1}function Vu(){return Za}function Bu(t){let e=Za;return Za=t,e}function Uu(){let t=V.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function np(t){return V.lFrame.bindingIndex=t}function Rn(){return V.lFrame.bindingIndex++}function op(t){let e=V.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function rp(){return V.lFrame.inI18n}function ip(t,e){let n=V.lFrame;n.bindingIndex=n.bindingRootIndex=t,_i(e)}function sp(){return V.lFrame.currentDirectiveIndex}function _i(t){V.lFrame.currentDirectiveIndex=t}function ap(t){let e=V.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Hu(t){V.lFrame.currentQueryIndex=t}function x0(t){let e=t[x];return e.type===2?e.declTNode:e.type===1?t[rt]:null}function Gu(t,e,n){if(n&4){let r=e,i=t;for(;r=r.parent,r===null&&!(n&1);)if(r=x0(i),r===null||(i=i[Sn],r.type&10))break;if(r===null)return!1;e=r,t=i}let o=V.lFrame=up();return o.currentTNode=e,o.lView=t,!0}function Ci(t){let e=up(),n=t[x];V.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function up(){let t=V.lFrame,e=t===null?null:t.child;return e===null?lp(t):e}function lp(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function cp(){let t=V.lFrame;return V.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var $u=cp;function Di(){let t=cp();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function dp(t){return(V.lFrame.contextLView=zf(t,V.lFrame.contextLView))[ce]}function nn(){return V.lFrame.selectedIndex}function on(t){V.lFrame.selectedIndex=t}function Ii(){let t=V.lFrame;return jo(t.tView,t.selectedIndex)}function de(){V.lFrame.currentNamespace=wu}function _e(){R0()}function R0(){V.lFrame.currentNamespace=null}function fp(){return V.lFrame.currentNamespace}var pp=!0;function Ti(){return pp}function Si(t){pp=t}function Qa(t,e=null,n=null,o){let r=hp(t,e,n,o);return r.resolveInjectorInitializers(),r}function hp(t,e=null,n=null,o,r=new Set){let i=[n||He,Vf(t)];return o=o||(typeof t=="object"?void 0:Kt(t)),new Cn(i,e||Wo(),o||null,r)}var Ot=class t{static THROW_IF_NOT_FOUND=vn;static NULL=new Bo;static create(e,n){if(Array.isArray(e))return Qa({name:""},n,e,"");{let o=e.name??"";return Qa({name:o},e.parent,e.providers,o)}}static \u0275prov=ee({token:t,providedIn:"any",factory:()=>j(mu)});static __NG_ELEMENT_ID__=-1},st=new L(""),Pn=(()=>{class t{static __NG_ELEMENT_ID__=P0;static __NG_ENV_ID__=n=>n}return t})(),Xa=class extends Pn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return xn(this._lView)}onDestroy(e){let n=this._lView;return Ru(n,e),()=>Jf(n,e)}};function P0(){return new Xa(H())}var gp=!1,mp=new L(""),fo=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Lo(!1);debugTaskTracker=F(mp,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new le(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),this.debugTaskTracker?.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.debugTaskTracker?.remove(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=ee({token:t,providedIn:"root",factory:()=>new t})}return t})(),eu=class extends mt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Gf()&&(this.destroyRef=F(Pn,{optional:!0})??void 0,this.pendingTasks=F(fo,{optional:!0})??void 0)}emit(e){let n=b(null);try{super.next(e)}finally{b(n)}}subscribe(e,n,o){let r=e,i=n||(()=>null),s=o;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let u=super.subscribe({next:r,error:i,complete:s});return e instanceof Ne&&e.add(u),u}wrapInTimeout(e){return n=>{let o=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{o!==void 0&&this.pendingTasks?.remove(o)}})}}},Ue=eu;function ai(...t){}function qu(t){let e,n;function o(){t=ai;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),o()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),o()})),()=>o()}function yp(t){return queueMicrotask(()=>t()),()=>{t=ai}}var Wu="isAngularZone",Uo=Wu+"_ID",F0=0,Ge=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ue(!1);onMicrotaskEmpty=new Ue(!1);onStable=new Ue(!1);onError=new Ue(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:i=gp}=e;if(typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&o,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=i,O0(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Wu)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new N(909,!1)}run(e,n,o){return this._inner.run(e,n,o)}runTask(e,n,o,r){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,k0,ai,ai);try{return i.runTask(s,n,o)}finally{i.cancelTask(s)}}runGuarded(e,n,o){return this._inner.runGuarded(e,n,o)}runOutsideAngular(e){return this._outer.run(e)}},k0={};function zu(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function L0(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){qu(()=>{t.callbackScheduled=!1,tu(t),t.isCheckStableRunning=!0,zu(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),tu(t)}function O0(t){let e=()=>{L0(t)},n=F0++;t._inner=t._inner.fork({name:"angular",properties:{[Wu]:!0,[Uo]:n,[Uo+n]:!0},onInvokeTask:(o,r,i,s,u,c)=>{if(V0(c))return o.invokeTask(i,s,u,c);try{return Af(t),o.invokeTask(i,s,u,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Mf(t)}},onInvoke:(o,r,i,s,u,c,d)=>{try{return Af(t),o.invoke(i,s,u,c,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!B0(c)&&e(),Mf(t)}},onHasTask:(o,r,i,s)=>{o.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,tu(t),zu(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(o,r,i,s)=>(o.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function tu(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Af(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Mf(t){t._nesting--,zu(t)}var Ho=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ue;onMicrotaskEmpty=new Ue;onStable=new Ue;onError=new Ue;run(e,n,o){return e.apply(n,o)}runGuarded(e,n,o){return e.apply(n,o)}runOutsideAngular(e){return e()}runTask(e,n,o,r){return e.apply(n,o)}};function V0(t){return vp(t,"__ignore_ng_zone__")}function B0(t){return vp(t,"__scheduler_tick__")}function vp(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Et=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Fn=new L("",{factory:()=>{let t=F(Ge),e=F(nt),n;return o=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw o}):(n??=e.get(Et),n.handleError(o))})}}}),Ep={provide:$o,useValue:()=>{let t=F(Et,{optional:!0})},multi:!0};function ae(t,e){let[n,o,r]=xa(t,e?.equal),i=n,s=i[Be];return i.set=o,i.update=r,i.asReadonly=_p.bind(i),i}function _p(){let t=this[Be];if(t.readonlyFn===void 0){let e=()=>this();e[Be]=t,t.readonlyFn=e}return t.readonlyFn}var wi=(()=>{class t{view;node;constructor(n,o){this.view=n,this.node=o}static __NG_ELEMENT_ID__=U0}return t})();function U0(){return new wi(H(),We())}var Dn=class{},Ko=new L("",{factory:()=>!0});var Ju=new L("");var ju=(()=>{class t{static \u0275prov=ee({token:t,providedIn:"root",factory:()=>new nu})}return t})(),nu=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,o=this.queues.get(n);o.has(e)&&(o.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let o=this.queues.get(n);o.has(e)||o.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,o]of this.queues)n===null?e||=this.flushQueue(o):e||=n.run(()=>this.flushQueue(o));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let o of e)o.dirty&&(this.dirtyEffectCount--,n=!0,o.run());return n}},ou=class{[Be];constructor(e){this[Be]=e}destroy(){this[Be].destroy()}};function Tt(t){return Pa(t)}function rr(t){return{toString:t}.toString()}function Jp(t,e,n,o){e!==null?e.applyValueToInputSignal(e,o):t[n]=o}var xi=class{previousValue;currentValue;firstChange;constructor(e,n,o){this.previousValue=e,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}},ir=(()=>{let t=()=>jp;return t.ngInherit=!0,t})();function jp(t){return t.type.prototype.ngOnChanges&&(t.setInput=K0),Y0}function Y0(){let t=Kp(this),e=t?.current;if(e){let n=t.previous;if(n===en)t.previous=e;else for(let o in e)n[o]=e[o];t.current=null,this.ngOnChanges(e)}}function K0(t,e,n,o,r){let i=this.declaredInputs[o],s=Kp(t)||Z0(t,{previous:en,current:null}),u=s.current||(s.current={}),c=s.previous,d=c[i];u[i]=new xi(d&&d.currentValue,n,c===en),Jp(t,e,r,n)}var Yp="__ngSimpleChanges__";function Kp(t){return t[Yp]||null}function Z0(t,e){return t[Yp]=e}var Cp=[];var z=function(t,e=null,n){for(let o=0;o<Cp.length;o++){let r=Cp[o];r(t,e,n)}},G=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(G||{});function Q0(t,e,n){let{ngOnChanges:o,ngOnInit:r,ngDoCheck:i}=e.type.prototype;if(o){let s=jp(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function X0(t,e){for(let n=e.directiveStart,o=e.directiveEnd;n<o;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:u,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:f}=i;s&&(t.contentHooks??=[]).push(-n,s),u&&((t.contentHooks??=[]).push(n,u),(t.contentCheckHooks??=[]).push(n,u)),c&&(t.viewHooks??=[]).push(-n,c),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Mi(t,e,n){Zp(t,e,3,n)}function bi(t,e,n,o){(t[k]&3)===n&&Zp(t,e,n,o)}function Yu(t,e){let n=t[k];(n&3)===e&&(n&=16383,n+=1,t[k]=n)}function Zp(t,e,n,o){let r=o!==void 0?t[An]&65535:0,i=o??-1,s=e.length-1,u=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(u=e[c],o!=null&&u>=o)break}else e[c]<0&&(t[An]+=65536),(u<i||i==-1)&&(ev(t,n,e,c),t[An]=(t[An]&4294901760)+c+2),c++}function Dp(t,e){z(G.LifecycleHookStart,t,e);let n=b(null);try{e.call(t)}finally{b(n),z(G.LifecycleHookEnd,t,e)}}function ev(t,e,n,o){let r=n[o]<0,i=n[o+1],s=r?-n[o]:n[o],u=t[s];r?t[k]>>14<t[An]>>16&&(t[k]&3)===e&&(t[k]+=16384,Dp(u,i)):Dp(u,i)}var ho=-1,kn=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,o,r){this.factory=e,this.name=r,this.canSeeViewProviders=n,this.injectImpl=o}};function tv(t){return(t.flags&8)!==0}function nv(t){return(t.flags&16)!==0}function ov(t,e,n){let o=0;for(;o<n.length;){let r=n[o];if(typeof r=="number"){if(r!==0)break;o++;let i=n[o++],s=n[o++],u=n[o++];t.setAttribute(e,s,u,i)}else{let i=r,s=n[++o];iv(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),o++}}return o}function rv(t){return t===3||t===4||t===6}function iv(t){return t.charCodeAt(0)===64}function go(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let o=0;o<e.length;o++){let r=e[o];typeof r=="number"?n=r:n===0||(n===-1||n===2?Ip(t,n,r,null,e[++o]):Ip(t,n,r,null,null))}}return t}function Ip(t,e,n,o,r){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let u=t[i++];if(typeof u=="number"){if(u===e){s=-1;break}else if(u>e){s=i-1;break}}}for(;i<t.length;){let u=t[i];if(typeof u=="number")break;if(u===n){r!==null&&(t[i+1]=r);return}i++,r!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),r!==null&&t.splice(i++,0,r)}function sv(t){return t!==ho}function sl(t){return t&32767}function av(t){return t>>16}function al(t,e){let n=av(t),o=e;for(;n>0;)o=o[Sn],n--;return o}var ul=!0;function Ri(t){let e=ul;return ul=t,e}var uv=256,Qp=uv-1,Xp=5,lv=0,St={};function cv(t,e,n){let o;typeof n=="string"?o=n.charCodeAt(0)||0:n.hasOwnProperty(Tn)&&(o=n[Tn]),o==null&&(o=n[Tn]=lv++);let r=o&Qp,i=1<<r;e.data[t+(r>>Xp)]|=i}function Pi(t,e){let n=eh(t,e);if(n!==-1)return n;let o=e[x];o.firstCreatePass&&(t.injectorIndex=e.length,Ku(o.data,t),Ku(e,null),Ku(o.blueprint,null));let r=th(t,e),i=t.injectorIndex;if(sv(r)){let s=sl(r),u=al(r,e),c=u[x].data;for(let d=0;d<8;d++)e[i+d]=u[s+d]|c[s+d]}return e[i+8]=r,i}function Ku(t,e){t.push(0,0,0,0,0,0,0,0,e)}function eh(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function th(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,o=null,r=e;for(;r!==null;){if(o=sh(r),o===null)return ho;if(n++,r=r[Sn],o.injectorIndex!==-1)return o.injectorIndex|n<<16}return ho}function ll(t,e,n){cv(t,e,n)}function nh(t,e,n){if(n&8||t!==void 0)return t;fi(e,"NodeInjector")}function oh(t,e,n,o){if(n&8&&o===void 0&&(o=null),(n&3)===0){let r=t[Vt],i=xe(void 0);try{return r?r.get(e,o,n&8):hu(e,o,n&8)}finally{xe(i)}}return nh(o,e,n)}function rh(t,e,n,o=0,r){if(t!==null){if(e[k]&2048&&!(o&2)){let s=gv(t,e,n,o,St);if(s!==St)return s}let i=ih(t,e,n,o,St);if(i!==St)return i}return oh(e,n,o,r)}function ih(t,e,n,o,r){let i=pv(n);if(typeof i=="function"){if(!Gu(e,t,o))return o&1?nh(r,n,o):oh(e,n,o,r);try{let s;if(s=i(o),s==null&&!(o&8))fi(n);else return s}finally{$u()}}else if(typeof i=="number"){let s=null,u=eh(t,e),c=ho,d=o&1?e[$e][rt]:null;for((u===-1||o&4)&&(c=u===-1?th(t,e):e[u+8],c===ho||!Sp(o,!1)?u=-1:(s=e[x],u=sl(c),e=al(c,e)));u!==-1;){let f=e[x];if(Tp(i,u,f.data)){let p=dv(u,e,n,s,o,d);if(p!==St)return p}c=e[u+8],c!==ho&&Sp(o,e[x].data[u+8]===d)&&Tp(i,u,e)?(s=f,u=sl(c),e=al(c,e)):u=-1}}return r}function dv(t,e,n,o,r,i){let s=e[x],u=s.data[t+8],c=o==null?tn(u)&&ul:o!=s&&(u.type&3)!==0,d=r&1&&i===u,f=fv(u,s,n,c,d);return f!==null?Fi(e,s,f,u,r):St}function fv(t,e,n,o,r){let i=t.providerIndexes,s=e.data,u=i&1048575,c=t.directiveStart,d=t.directiveEnd,f=i>>20,p=o?u:u+f,h=r?u+f:d;for(let g=p;g<h;g++){let m=s[g];if(g<c&&n===m||g>=c&&m.type===n)return g}if(r){let g=s[c];if(g&&Ct(g)&&g.type===n)return c}return null}function Fi(t,e,n,o,r){let i=t[n],s=e.data;if(i instanceof kn){let u=i;if(u.resolving){let g=xf(s[n]);throw pu(g)}let c=Ri(u.canSeeViewProviders);u.resolving=!0;let d=s[n].type||s[n],f,p=u.injectImpl?xe(u.injectImpl):null,h=Gu(t,o,0);try{i=t[n]=u.factory(void 0,r,s,t,o),e.firstCreatePass&&n>=o.directiveStart&&Q0(n,s[n],e)}finally{p!==null&&xe(p),Ri(c),u.resolving=!1,$u()}}return i}function pv(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Tn)?t[Tn]:void 0;return typeof e=="number"?e>=0?e&Qp:hv:e}function Tp(t,e,n){let o=1<<t;return!!(n[e+(t>>Xp)]&o)}function Sp(t,e){return!(t&2)&&!(t&1&&e)}var ki=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,o){return rh(this._tNode,this._lView,e,En(o),n)}};function hv(){return new ki(We(),H())}function rn(t){return rr(()=>{let e=t.prototype.constructor,n=e[Vo]||cl(e),o=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==o;){let i=r[Vo]||cl(r);if(i&&i!==n)return i;r=Object.getPrototypeOf(r)}return i=>new i})}function cl(t){return su(t)?()=>{let e=cl(De(t));return e&&e()}:Zt(t)}function gv(t,e,n,o,r){let i=t,s=e;for(;i!==null&&s!==null&&s[k]&2048&&!uo(s);){let u=ih(i,s,n,o|2,St);if(u!==St)return u;let c=i.parent;if(!c){let d=s[Iu];if(d){let f=d.get(n,St,o);if(f!==St)return f}c=sh(s),s=s[Sn]}i=c}return r}function sh(t){let e=t[x],n=e.type;return n===2?e.declTNode:n===1?t[rt]:null}function mv(){return ah(We(),H())}function ah(t,e){return new sn(Dt(t,e))}var sn=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=mv}return t})();function uh(t){return(t.flags&128)===128}var xl=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(xl||{}),lh=new Map,yv=0;function vv(){return yv++}function Ev(t){lh.set(t[Ut],t)}function dl(t){lh.delete(t[Ut])}var wp="__ngContext__";function mo(t,e){_t(e)?(t[wp]=e[Ut],Ev(e)):t[wp]=e}function ch(t){return fh(t[so])}function dh(t){return fh(t[Ye])}function fh(t){for(;t!==null&&!Ht(t);)t=t[Ye];return t}var _v;function Rl(t){_v=t}var qi=new L("",{factory:()=>Cv}),Cv="ng";var Wi=new L(""),sr=new L("",{providedIn:"platform",factory:()=>"unknown"});var zi=new L("",{factory:()=>F(st).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ph="r";var hh="di";var gh=!1,mh=new L("",{factory:()=>gh});var Dv=(t,e,n,o)=>{};function Iv(t,e,n,o){Dv(t,e,n,o)}function Pl(t){return(t.flags&32)===32}var Tv=()=>null;function yh(t,e,n=!1){return Tv(t,e,n)}function vh(t,e){let n=t.contentQueries;if(n!==null){let o=b(null);try{for(let r=0;r<n.length;r+=2){let i=n[r],s=n[r+1];if(s!==-1){let u=t.data[s];Hu(i),u.contentQueries(2,e[s],s)}}}finally{b(o)}}}function fl(t,e,n){Hu(0);let o=b(null);try{e(t,n)}finally{b(o)}}function Eh(t,e,n){if(Su(e)){let o=b(null);try{let r=e.directiveStart,i=e.directiveEnd;for(let s=r;s<i;s++){let u=t.data[s];if(u.contentQueries){let c=n[s];u.contentQueries(1,c,s)}}}finally{b(o)}}}var ut=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(ut||{});var pl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ru})`}};function _h(t){return t instanceof pl?t.changingThisBreaksApplicationSecurity:t}function Sv(t,e){return t.createText(e)}function wv(t,e,n){t.setValue(e,n)}function Ch(t,e,n){return t.createElement(e,n)}function hl(t,e,n,o,r){t.insertBefore(e,n,o,r)}function Dh(t,e,n){t.appendChild(e,n)}function Ap(t,e,n,o,r){o!==null?hl(t,e,n,o,r):Dh(t,e,n)}function Ih(t,e,n,o){t.removeChild(null,e,n,o)}function Av(t,e,n){t.setAttribute(e,"style",n)}function Mv(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Th(t,e,n){let{mergedAttrs:o,classes:r,styles:i}=n;o!==null&&ov(t,e,o),r!==null&&Mv(t,e,r),i!==null&&Av(t,e,i)}function bv(t,e,n){let o=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let i=e.length;if(r+i===o||t.charCodeAt(r+i)<=32)return r}n=r+1}}var Sh="ng-template";function Nv(t,e,n,o){let r=0;if(o){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&bv(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(Fl(t))return!1;if(r=e.indexOf(1,r),r>-1){let i;for(;++r<e.length&&typeof(i=e[r])=="string";)if(i.toLowerCase()===n)return!0}return!1}function Fl(t){return t.type===4&&t.value!==Sh}function xv(t,e,n){let o=t.type===4&&!n?Sh:t.value;return e===o}function Rv(t,e,n){let o=4,r=t.attrs,i=r!==null?kv(r):0,s=!1;for(let u=0;u<e.length;u++){let c=e[u];if(typeof c=="number"){if(!s&&!at(o)&&!at(c))return!1;if(s&&at(c))continue;s=!1,o=c|o&1;continue}if(!s)if(o&4){if(o=2|o&1,c!==""&&!xv(t,c,n)||c===""&&e.length===1){if(at(o))return!1;s=!0}}else if(o&8){if(r===null||!Nv(t,r,c,n)){if(at(o))return!1;s=!0}}else{let d=e[++u],f=Pv(c,r,Fl(t),n);if(f===-1){if(at(o))return!1;s=!0;continue}if(d!==""){let p;if(f>i?p="":p=r[f+1].toLowerCase(),o&2&&d!==p){if(at(o))return!1;s=!0}}}}return at(o)||s}function at(t){return(t&1)===0}function Pv(t,e,n,o){if(e===null)return-1;let r=0;if(o||!n){let i=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)i=!0;else if(s===1||s===2){let u=e[++r];for(;typeof u=="string";)u=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=i?1:2}return-1}else return Lv(e,t)}function Fv(t,e,n=!1){for(let o=0;o<e.length;o++)if(Rv(t,e[o],n))return!0;return!1}function kv(t){for(let e=0;e<t.length;e++){let n=t[e];if(rv(n))return e}return t.length}function Lv(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let o=t[n];if(typeof o=="number")return-1;if(o===e)return n;n++}return-1}function Mp(t,e){return t?":not("+e.trim()+")":e}function Ov(t){let e=t[0],n=1,o=2,r="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(o&2){let u=t[++n];r+="["+s+(u.length>0?'="'+u+'"':"")+"]"}else o&8?r+="."+s:o&4&&(r+=" "+s);else r!==""&&!at(s)&&(e+=Mp(i,r),r=""),o=s,i=i||!at(o);n++}return r!==""&&(e+=Mp(i,r)),e}function Vv(t){return t.map(Ov).join(",")}function Bv(t){let e=[],n=[],o=1,r=2;for(;o<t.length;){let i=t[o];if(typeof i=="string")r===2?i!==""&&e.push(i,t[++o]):r===8&&n.push(i);else{if(!at(r))break;r=i}o++}return n.length&&e.push(1,...n),e}var Mt={};function kl(t,e,n,o,r,i,s,u,c,d,f){let p=he+o,h=p+r,g=Uv(p,h),m=typeof d=="function"?d():d;return g[x]={type:t,blueprint:g,template:n,queries:null,viewQuery:u,declTNode:e,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:f}}function Uv(t,e){let n=[];for(let o=0;o<e;o++)n.push(o<t?null:Mt);return n}function Hv(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=kl(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ll(t,e,n,o,r,i,s,u,c,d,f){let p=e.blueprint.slice();return p[ot]=r,p[k]=o|4|128|8|64|1024,(d!==null||t&&t[k]&2048)&&(p[k]|=2048),Nu(p),p[Re]=p[Sn]=t,p[ce]=n,p[Bt]=s||t&&t[Bt],p[se]=u||t&&t[se],p[Vt]=c||t&&t[Vt]||null,p[rt]=i,p[Ut]=vv(),p[ro]=f,p[Iu]=d,p[$e]=e.type==2?t[$e]:p,p}function Gv(t,e,n){let o=Dt(e,t),r=Hv(n),i=t[Bt].rendererFactory,s=Mh(t,Ll(t,r,null,wh(n),o,e,null,i.createRenderer(o,n),null,null,null));return t[e.index]=s}function wh(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Ah(t,e,n,o){if(n===0)return-1;let r=e.length;for(let i=0;i<n;i++)e.push(o),t.blueprint.push(o),t.data.push(null);return r}function Mh(t,e){return t[so]?t[Du][Ye]=e:t[so]=e,t[Du]=e,e}function w(t=1){bh(we(),H(),nn()+t,!1)}function bh(t,e,n,o){if(!o)if((e[k]&3)===3){let i=t.preOrderCheckHooks;i!==null&&Mi(e,i,n)}else{let i=t.preOrderHooks;i!==null&&bi(e,i,0,n)}on(n)}var Ji=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Ji||{});function gl(t,e,n,o){let r=b(null);try{let[i,s,u]=t.inputs[n],c=null;(s&Ji.SignalBased)!==0&&(c=e[i][Be]),c!==null&&c.transformFn!==void 0?o=c.transformFn(o):u!==null&&(o=u.call(e,o)),t.setInput!==null?t.setInput(e,c,o,n,i):Jp(e,c,i,o)}finally{b(r)}}var wt=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(wt||{}),$v;function Ol(t,e){return $v(t,e)}var Ln=new Set,ji=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(ji||{}),Bn=new L(""),bp=new Set;function an(t){bp.has(t)||(bp.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Vl=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=ee({token:t,providedIn:"root",factory:()=>new t})}return t})(),Nh=[0,1,2,3],xh=(()=>{class t{ngZone=F(Ge);scheduler=F(Dn);errorHandler=F(Et,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){F(Bn,{optional:!0})}execute(){let n=this.sequences.size>0;n&&z(G.AfterRenderHooksStart),this.executing=!0;for(let o of Nh)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[o]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=r.hooks[o];return i(r.pipelinedValue)},r.snapshot))}catch(i){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let o of this.sequences)o.afterRun(),o.once&&(this.sequences.delete(o),o.destroy());for(let o of this.deferredRegistrations)this.sequences.add(o);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&z(G.AfterRenderHooksEnd)}register(n){let{view:o}=n;o!==void 0?((o[bn]??=[]).push(n),lo(o),o[k]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,o){return o?o.run(ji.AFTER_NEXT_RENDER,n):n()}static \u0275prov=ee({token:t,providedIn:"root",factory:()=>new t})}return t})(),Li=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,o,r,i,s=null){this.impl=e,this.hooks=n,this.view=o,this.once=r,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[bn];e&&(this.view[bn]=e.filter(n=>n!==this))}};function Bl(t,e){let n=e?.injector??F(Ot);return an("NgAfterNextRender"),Wv(t,n,e,!0)}function qv(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function Wv(t,e,n,o){let r=e.get(Vl);r.impl??=e.get(xh);let i=e.get(Bn,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(Pn):null,u=e.get(wi,null,{optional:!0}),c=new Li(r.impl,qv(t),u?.view,o,s,i?.snapshot(null));return r.impl.register(c),c}var Rh=new L("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:F(nt)})});function Ph(t,e,n){let o=t.get(Rh);if(Array.isArray(e))for(let r of e)o.queue.add(r),n?.detachedLeaveAnimationFns?.push(r);else o.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);o.scheduler&&o.scheduler(t)}function zv(t,e){let n=t.get(Rh);if(e.detachedLeaveAnimationFns){for(let o of e.detachedLeaveAnimationFns)n.queue.delete(o);e.detachedLeaveAnimationFns=void 0}}function Jv(t,e){for(let[n,o]of e)Ph(t,o.animateFns)}function Np(t,e,n,o){let r=t?.[Nn]?.enter;e!==null&&r&&r.has(n.index)&&Jv(o,r)}function po(t,e,n,o,r,i,s,u){if(r!=null){let c,d=!1;Ht(r)?c=r:_t(r)&&(d=!0,r=r[ot]);let f=it(r);t===0&&o!==null?(Np(u,o,i,n),s==null?Dh(e,o,f):hl(e,o,f,s||null,!0)):t===1&&o!==null?(Np(u,o,i,n),hl(e,o,f,s||null,!0)):t===2?xp(u,i,n,p=>{Ih(e,f,d,p)}):t===3&&xp(u,i,n,()=>{e.destroyNode(f)}),c!=null&&sE(e,t,n,c,i,o,s)}}function jv(t,e){Fh(t,e),e[ot]=null,e[rt]=null}function Yv(t,e,n,o,r,i){o[ot]=r,o[rt]=e,Yi(t,o,n,1,r,i)}function Fh(t,e){e[Bt].changeDetectionScheduler?.notify(9),Yi(t,e,e[se],2,null,null)}function Kv(t){let e=t[so];if(!e)return Zu(t[x],t);for(;e;){let n=null;if(_t(e))n=e[so];else{let o=e[ge];o&&(n=o)}if(!n){for(;e&&!e[Ye]&&e!==t;)_t(e)&&Zu(e[x],e),e=e[Re];e===null&&(e=t),_t(e)&&Zu(e[x],e),n=e&&e[Ye]}e=n}}function Ul(t,e){let n=t[Jo],o=n.indexOf(e);n.splice(o,1)}function Hl(t,e){if(xn(e))return;let n=e[se];n.destroyNode&&Yi(t,e,n,3,null,null),Kv(e)}function Zu(t,e){if(xn(e))return;let n=b(null);try{e[k]&=-129,e[k]|=256,e[qe]&&Or(e[qe]),Xv(t,e),Qv(t,e),e[x].type===1&&e[se].destroy();let o=e[wn];if(o!==null&&Ht(e[Re])){o!==e[Re]&&Ul(o,e);let r=e[Mn];r!==null&&r.detachView(t)}dl(e)}finally{b(n)}}function xp(t,e,n,o){let r=t?.[Nn];if(r==null||r.leave==null||!r.leave.has(e.index))return o(!1);t&&Ln.add(t[Ut]),Ph(n,()=>{if(r.leave&&r.leave.has(e.index)){let s=r.leave.get(e.index),u=[];if(s){for(let c=0;c<s.animateFns.length;c++){let d=s.animateFns[c],{promise:f}=d();u.push(f)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(u),Zv(t,o)}else t&&Ln.delete(t[Ut]),o(!1)},r)}function Zv(t,e){let n=t[Nn]?.running;if(n){n.then(()=>{t[Nn].running=void 0,Ln.delete(t[Ut]),e(!0)});return}e(!1)}function Qv(t,e){let n=t.cleanup,o=e[io];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let u=n[s+3];u>=0?o[u]():o[-u].unsubscribe(),s+=2}else{let u=o[n[s+1]];n[s].call(u)}o!==null&&(e[io]=null);let r=e[Lt];if(r!==null){e[Lt]=null;for(let s=0;s<r.length;s++){let u=r[s];u()}}let i=e[zo];if(i!==null){e[zo]=null;for(let s of i)s.destroy()}}function Xv(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let o=0;o<n.length;o+=2){let r=e[n[o]];if(!(r instanceof kn)){let i=n[o+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let u=r[i[s]],c=i[s+1];z(G.LifecycleHookStart,u,c);try{c.call(u)}finally{z(G.LifecycleHookEnd,u,c)}}else{z(G.LifecycleHookStart,r,i);try{i.call(r)}finally{z(G.LifecycleHookEnd,r,i)}}}}}function eE(t,e,n){return tE(t,e.parent,n)}function tE(t,e,n){let o=e;for(;o!==null&&o.type&168;)e=o,o=e.parent;if(o===null)return n[ot];if(tn(o)){let{encapsulation:r}=t.data[o.directiveStart+o.componentOffset];if(r===ut.None||r===ut.Emulated)return null}return Dt(o,n)}function nE(t,e,n){return rE(t,e,n)}function oE(t,e,n){return t.type&40?Dt(t,n):null}var rE=oE,Rp;function Gl(t,e,n,o){let r=eE(t,o,e),i=e[se],s=o.parent||e[rt],u=nE(s,o,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Ap(i,r,n[c],u,!1);else Ap(i,r,n,u,!1);Rp!==void 0&&Rp(i,o,e,n,r)}function Qo(t,e){if(e!==null){let n=e.type;if(n&3)return Dt(e,t);if(n&4)return ml(-1,t[e.index]);if(n&8){let o=e.child;if(o!==null)return Qo(t,o);{let r=t[e.index];return Ht(r)?ml(-1,r):it(r)}}else{if(n&128)return Qo(t,e.next);if(n&32)return Ol(e,t)()||it(t[e.index]);{let o=kh(t,e);if(o!==null){if(Array.isArray(o))return o[0];let r=Qt(t[$e]);return Qo(r,o)}else return Qo(t,e.next)}}}return null}function kh(t,e){if(e!==null){let o=t[$e][rt],r=e.projection;return o.projection[r]}return null}function ml(t,e){let n=ge+t+1;if(n<e.length){let o=e[n],r=o[x].firstChild;if(r!==null)return Qo(o,r)}return e[ao]}function $l(t,e,n,o,r,i,s){for(;n!=null;){let u=o[Vt];if(n.type===128){n=n.next;continue}let c=o[n.index],d=n.type;if(s&&e===0&&(c&&mo(it(c),o),n.flags|=2),!Pl(n))if(d&8)$l(t,e,n.child,o,r,i,!1),po(e,t,u,r,c,n,i,o);else if(d&32){let f=Ol(n,o),p;for(;p=f();)po(e,t,u,r,p,n,i,o);po(e,t,u,r,c,n,i,o)}else d&16?iE(t,e,o,n,r,i):po(e,t,u,r,c,n,i,o);n=s?n.projectionNext:n.next}}function Yi(t,e,n,o,r,i){$l(n,o,t.firstChild,e,r,i,!1)}function iE(t,e,n,o,r,i){let s=n[$e],c=s[rt].projection[o.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++){let f=c[d];po(e,t,n[Vt],r,f,o,i,n)}else{let d=c,f=s[Re];uh(o)&&(d.flags|=128),$l(t,e,d,f,r,i,!0)}}function sE(t,e,n,o,r,i,s){let u=o[ao],c=it(o);u!==c&&po(e,t,n,i,u,r,s);for(let d=ge;d<o.length;d++){let f=o[d];Yi(f[x],f,t,e,i,u)}}function aE(t,e,n,o,r){if(e)r?t.addClass(n,o):t.removeClass(n,o);else{let i=o.indexOf("-")===-1?void 0:wt.DashCase;r==null?t.removeStyle(n,o,i):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),i|=wt.Important),t.setStyle(n,o,r,i))}}function Lh(t,e,n,o,r){let i=nn(),s=o&2;try{on(-1),s&&e.length>he&&bh(t,e,he,!1);let u=s?G.TemplateUpdateStart:G.TemplateCreateStart;z(u,r,n),n(o,r)}finally{on(i);let u=s?G.TemplateUpdateEnd:G.TemplateCreateEnd;z(u,r,n)}}function Oh(t,e,n){hE(t,e,n),(n.flags&64)===64&&gE(t,e,n)}function ql(t,e,n=Dt){let o=e.localNames;if(o!==null){let r=e.index+1;for(let i=0;i<o.length;i+=2){let s=o[i+1],u=s===-1?n(e,t):t[s];t[r++]=u}}}function uE(t,e,n,o){let i=o.get(mh,gh)||n===ut.ShadowDom||n===ut.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,i);return lE(s),s}function lE(t){cE(t)}var cE=()=>null;function dE(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Vh(t,e,n,o,r,i){let s=e[x];if(Wl(t,s,e,n,o)){tn(t)&&pE(e,t.index);return}t.type&3&&(n=dE(n)),fE(t,e,n,o,r,i)}function fE(t,e,n,o,r,i){if(t.type&3){let s=Dt(t,e);o=i!=null?i(o,t.value||"",n):o,r.setProperty(s,n,o)}else t.type&12}function pE(t,e){let n=Ke(e,t);n[k]&16||(n[k]|=64)}function hE(t,e,n){let o=n.directiveStart,r=n.directiveEnd;tn(n)&&Gv(e,n,t.data[o+n.componentOffset]),t.firstCreatePass||Pi(n,e);let i=n.initialInputs;for(let s=o;s<r;s++){let u=t.data[s],c=Fi(e,t,s,n);if(mo(c,e),i!==null&&_E(e,s-o,c,u,n,i),Ct(u)){let d=Ke(n.index,e);d[ce]=Fi(e,t,s,n)}}}function gE(t,e,n){let o=n.directiveStart,r=n.directiveEnd,i=n.index,s=sp();try{on(i);for(let u=o;u<r;u++){let c=t.data[u],d=e[u];_i(u),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&mE(c,d)}}finally{on(-1),_i(s)}}function mE(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function yE(t,e){let n=t.directiveRegistry,o=null;if(n)for(let r=0;r<n.length;r++){let i=n[r];Fv(e,i.selectors,!1)&&(o??=[],Ct(i)?o.unshift(i):o.push(i))}return o}function vE(t,e,n,o,r,i){let s=Dt(t,e);EE(e[se],s,i,t.value,n,o,r)}function EE(t,e,n,o,r,i,s){if(i==null)t.removeAttribute(e,r,n);else{let u=s==null?di(i):s(i,o||"",r);t.setAttribute(e,r,u,n)}}function _E(t,e,n,o,r,i){let s=i[e];if(s!==null)for(let u=0;u<s.length;u+=2){let c=s[u],d=s[u+1];gl(o,n,c,d)}}function Bh(t,e,n,o,r){let i=he+n,s=e[x],u=r(s,e,t,o,n);e[i]=u,co(t,!0);let c=t.type===2;return c?(Th(e[se],u,t),(Kf()===0||yi(t))&&mo(u,e),Zf()):mo(u,e),Ti()&&(!c||!Pl(t))&&Gl(s,e,u,t),t}function Uh(t){let e=t;return Ou()?tp():(e=e.parent,co(e,!1)),e}function CE(t,e){let n=t[Vt];if(!n)return;let o;try{o=n.get(Fn,null)}catch{o=null}o?.(e)}function Wl(t,e,n,o,r){let i=t.inputs?.[o],s=t.hostDirectiveInputs?.[o],u=!1;if(s)for(let c=0;c<s.length;c+=2){let d=s[c],f=s[c+1],p=e.data[d];gl(p,n[d],f,r),u=!0}if(i)for(let c of i){let d=n[c],f=e.data[c];gl(f,d,o,r),u=!0}return u}function DE(t,e){let n=Ke(e,t),o=n[x];IE(o,n);let r=n[ot];r!==null&&n[ro]===null&&(n[ro]=yh(r,n[Vt])),z(G.ComponentStart);try{zl(o,n,n[ce])}finally{z(G.ComponentEnd,n[ce])}}function IE(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function zl(t,e,n){Ci(e);try{let o=t.viewQuery;o!==null&&fl(1,o,n);let r=t.template;r!==null&&Lh(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Mn]?.finishViewCreation(t),t.staticContentQueries&&vh(t,e),t.staticViewQueries&&fl(2,t.viewQuery,n);let i=t.components;i!==null&&TE(e,i)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{e[k]&=-5,Di()}}function TE(t,e){for(let n=0;n<e.length;n++)DE(t,e[n])}function Jl(t,e,n,o){let r=b(null);try{let i=e.tView,u=t[k]&4096?4096:16,c=Ll(t,i,n,u,null,e,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null),d=t[e.index];c[wn]=d;let f=t[Mn];return f!==null&&(c[Mn]=f.createEmbeddedView(i)),zl(i,c,n),c}finally{b(r)}}function jl(t,e){return!e||e.firstChild===null||uh(t)}function er(t,e,n,o,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let i=e[n.index];i!==null&&o.push(it(i)),Ht(i)&&Hh(i,o);let s=n.type;if(s&8)er(t,e,n.child,o);else if(s&32){let u=Ol(n,e),c;for(;c=u();)o.push(c)}else if(s&16){let u=kh(e,n);if(Array.isArray(u))o.push(...u);else{let c=Qt(e[$e]);er(c[x],c,u,o,!0)}}n=r?n.projectionNext:n.next}return o}function Hh(t,e){for(let n=ge;n<t.length;n++){let o=t[n],r=o[x].firstChild;r!==null&&er(o[x],o,r,e)}t[ao]!==t[ot]&&e.push(t[ao])}function Gh(t){if(t[bn]!==null){for(let e of t[bn])e.impl.addSequence(e);t[bn].length=0}}var $h=[];function SE(t){return t[qe]??wE(t)}function wE(t){let e=$h.pop()??Object.create(ME);return e.lView=t,e}function AE(t){t.lView[qe]!==t&&(t.lView=null,$h.push(t))}var ME=oe(J({},Fo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{lo(t.lView)},consumerOnSignalRead(){this.lView[qe]=this}});function bE(t){let e=t[qe]??Object.create(NE);return e.lView=t,e}var NE=oe(J({},Fo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Qt(t.lView);for(;e&&!qh(e[x]);)e=Qt(e);e&&xu(e)},consumerOnSignalRead(){this.lView[qe]=this}});function qh(t){return t.type!==2}function Wh(t){if(t[zo]===null)return;let e=!0;for(;e;){let n=!1;for(let o of t[zo])o.dirty&&(n=!0,o.zone===null||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));e=n&&!!(t[k]&8192)}}var xE=100;function zh(t,e=0){let o=t[Bt].rendererFactory,r=!1;r||o.begin?.();try{RE(t,e)}finally{r||o.end?.()}}function RE(t,e){let n=Vu();try{Bu(!0),yl(t,e);let o=0;for(;Yo(t);){if(o===xE)throw new N(103,!1);o++,yl(t,1)}}finally{Bu(n)}}function PE(t,e,n,o){if(xn(e))return;let r=e[k],i=!1,s=!1;Ci(e);let u=!0,c=null,d=null;i||(qh(t)?(d=SE(e),c=Lr(d)):kr()===null?(u=!1,d=bE(e),c=Lr(d)):e[qe]&&(Or(e[qe]),e[qe]=null));try{Nu(e),np(t.bindingStartIndex),n!==null&&Lh(t,e,n,2,o);let f=(r&3)===3;if(!i)if(f){let g=t.preOrderCheckHooks;g!==null&&Mi(e,g,null)}else{let g=t.preOrderHooks;g!==null&&bi(e,g,0,null),Yu(e,0)}if(s||FE(e),Wh(e),Jh(e,0),t.contentQueries!==null&&vh(t,e),!i)if(f){let g=t.contentCheckHooks;g!==null&&Mi(e,g)}else{let g=t.contentHooks;g!==null&&bi(e,g,1),Yu(e,1)}LE(t,e);let p=t.components;p!==null&&Yh(e,p,0);let h=t.viewQuery;if(h!==null&&fl(2,h,o),!i)if(f){let g=t.viewCheckHooks;g!==null&&Mi(e,g)}else{let g=t.viewHooks;g!==null&&bi(e,g,2),Yu(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[mi]){for(let g of e[mi])g();e[mi]=null}i||(Gh(e),e[k]&=-73)}catch(f){throw i||lo(e),f}finally{d!==null&&(Sa(d,c),u&&AE(d)),Di()}}function Jh(t,e){for(let n=ch(t);n!==null;n=dh(n))for(let o=ge;o<n.length;o++){let r=n[o];jh(r,e)}}function FE(t){for(let e=ch(t);e!==null;e=dh(e)){if(!(e[k]&2))continue;let n=e[Jo];for(let o=0;o<n.length;o++){let r=n[o];xu(r)}}}function kE(t,e,n){z(G.ComponentStart);let o=Ke(e,t);try{jh(o,n)}finally{z(G.ComponentEnd,o[ce])}}function jh(t,e){vi(t)&&yl(t,e)}function yl(t,e){let o=t[x],r=t[k],i=t[qe],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(i?.dirty&&wa(i)),s||=!1,i&&(i.dirty=!1),t[k]&=-9217,s)PE(o,t,o.template,t[ce]);else if(r&8192){let u=b(null);try{Wh(t),Jh(t,1);let c=o.components;c!==null&&Yh(t,c,1),Gh(t)}finally{b(u)}}}function Yh(t,e,n){for(let o=0;o<e.length;o++)kE(t,e[o],n)}function LE(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let o=0;o<n.length;o++){let r=n[o];if(r<0)on(~r);else{let i=r,s=n[++o],u=n[++o];ip(s,i);let c=e[i];z(G.HostBindingsUpdateStart,c);try{u(2,c)}finally{z(G.HostBindingsUpdateEnd,c)}}}}finally{on(-1)}}function Yl(t,e){let n=Vu()?64:1088;for(t[Bt].changeDetectionScheduler?.notify(e);t;){t[k]|=n;let o=Qt(t);if(uo(t)&&!o)return t;t=o}return null}function OE(t,e,n,o){return[t,!0,0,e,null,o,null,n,null,null]}function Kh(t,e){let n=ge+e;if(n<t.length)return t[n]}function Kl(t,e,n,o=!0){let r=e[x];if(VE(r,e,t,n),o){let s=ml(n,t),u=e[se],c=u.parentNode(t[ao]);c!==null&&Yv(r,t[rt],u,e,c,s)}let i=e[ro];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Zh(t,e){let n=Zl(t,e);return n!==void 0&&Hl(n[x],n),n}function Zl(t,e){if(t.length<=ge)return;let n=ge+e,o=t[n];if(o){let r=o[wn];r!==null&&r!==t&&Ul(r,o),e>0&&(t[n-1][Ye]=o[Ye]);let i=gu(t,ge+e);jv(o[x],o);let s=i[Mn];s!==null&&s.detachView(i[x]),o[Re]=null,o[Ye]=null,o[k]&=-129}return o}function VE(t,e,n,o){let r=ge+o,i=n.length;o>0&&(n[r-1][Ye]=e),o<i-ge?(e[Ye]=n[r],kf(n,ge+o,e)):(n.push(e),e[Ye]=null),e[Re]=n;let s=e[wn];s!==null&&n!==s&&Qh(s,e);let u=e[Mn];u!==null&&u.insertView(t),Ei(e),e[k]|=128}function Qh(t,e){let n=t[Jo],o=e[Re];if(_t(o))t[k]|=2;else{let r=o[Re][$e];e[$e]!==r&&(t[k]|=2)}n===null?t[Jo]=[e]:n.push(e)}var yo=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[x];return er(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[ce]}set context(e){this._lView[ce]=e}get destroyed(){return xn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Re];if(Ht(e)){let n=e[qf],o=n?n.indexOf(this):-1;o>-1&&(Zl(e,o),gu(n,o))}this._attachedToViewContainer=!1}Hl(this._lView[x],this._lView)}onDestroy(e){Ru(this._lView,e)}markForCheck(){Yl(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[k]&=-129}reattach(){Ei(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,zh(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=uo(this._lView),n=this._lView[wn];n!==null&&!e&&Ul(n,this._lView),Fh(this._lView[x],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=e;let n=uo(this._lView),o=this._lView[wn];o!==null&&!n&&Qh(o,this._lView),Ei(this._lView)}};function Ki(t,e,n,o,r){let i=t.data[e];if(i===null)i=BE(t,e,n,o,r),rp()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=o,i.attrs=r;let s=ep();i.injectorIndex=s===null?-1:s.injectorIndex}return co(i,!0),i}function BE(t,e,n,o,r){let i=Lu(),s=Ou(),u=s?i:i&&i.parent,c=t.data[e]=HE(t,u,n,e,o,r);return UE(t,c,i,s),c}function UE(t,e,n,o){t.firstChild===null&&(t.firstChild=e),n!==null&&(o?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function HE(t,e,n,o,r,i){let s=e?e.injectorIndex:-1,u=0;return Xf()&&(u|=128),{type:n,index:o,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:u,providerIndexes:0,value:r,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function GE(t){let e=t[Tu]??[],o=t[Re][se],r=[];for(let i of e)i.data[hh]!==void 0?r.push(i):$E(i,o);t[Tu]=r}function $E(t,e){let n=0,o=t.firstChild;if(o){let r=t.data[ph];for(;n<r;){let i=o.nextSibling;Ih(e,o,!1),o=i,n++}}}var qE=()=>null,WE=()=>null;function zE(t,e){return qE(t,e)}function Xh(t,e,n){return WE(t,e,n)}var eg=class{},Zi=class{},vl=class{resolveComponentFactory(e){throw new N(917,!1)}},Qi=class{static NULL=new vl},On=class{},Un=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>JE()}return t})();function JE(){let t=H(),e=We(),n=Ke(e.index,t);return(_t(n)?n:t)[se]}var tg=(()=>{class t{static \u0275prov=ee({token:t,providedIn:"root",factory:()=>null})}return t})();var Ni={},El=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,o){let r=this.injector.get(e,Ni,o);return r!==Ni||n===Ni?r:this.parentInjector.get(e,n,o)}};function Oi(t,e,n){let o=n?t.styles:null,r=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let u=e[s];if(typeof u=="number")i=u;else if(i==1)r=iu(r,u);else if(i==2){let c=u,d=e[++s];o=iu(o,c+": "+d+";")}}n?t.styles=o:t.stylesWithoutHost=o,n?t.classes=r:t.classesWithoutHost=r}function Y(t,e=0){let n=H();if(n===null)return j(t,e);let o=We();return rh(o,n,De(t),e)}function jE(t,e,n,o,r){let i=o===null?null:{"":-1},s=r(t,n);if(s!==null){let u=s,c=null,d=null;for(let f of s)if(f.resolveHostDirectives!==null){[u,c,d]=f.resolveHostDirectives(s);break}ZE(t,e,n,u,i,c,d)}i!==null&&o!==null&&YE(n,o,i)}function YE(t,e,n){let o=t.localNames=[];for(let r=0;r<e.length;r+=2){let i=n[e[r+1]];if(i==null)throw new N(-301,!1);o.push(e[r],i)}}function KE(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ZE(t,e,n,o,r,i,s){let u=o.length,c=null;for(let h=0;h<u;h++){let g=o[h];c===null&&Ct(g)&&(c=g,KE(t,n,h)),ll(Pi(n,e),t,g.type)}o_(n,t.data.length,u),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let h=0;h<u;h++){let g=o[h];g.providersResolver&&g.providersResolver(g)}let d=!1,f=!1,p=Ah(t,e,u,null);u>0&&(n.directiveToIndex=new Map);for(let h=0;h<u;h++){let g=o[h];if(n.mergedAttrs=go(n.mergedAttrs,g.hostAttrs),XE(t,n,e,p,g),n_(p,g,r),s!==null&&s.has(g)){let[y,_]=s.get(g);n.directiveToIndex.set(g.type,[p,y+n.directiveStart,_+n.directiveStart])}else(i===null||!i.has(g))&&n.directiveToIndex.set(g.type,p);g.contentQueries!==null&&(n.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(n.flags|=64);let m=g.type.prototype;!d&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),d=!0),!f&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}QE(t,n,i)}function QE(t,e,n){for(let o=e.directiveStart;o<e.directiveEnd;o++){let r=t.data[o];if(n===null||!n.has(r))Pp(0,e,r,o),Pp(1,e,r,o),kp(e,o,!1);else{let i=n.get(r);Fp(0,e,i,o),Fp(1,e,i,o),kp(e,o,!0)}}}function Pp(t,e,n,o){let r=t===0?n.inputs:n.outputs;for(let i in r)if(r.hasOwnProperty(i)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[i]??=[],s[i].push(o),ng(e,i)}}function Fp(t,e,n,o){let r=t===0?n.inputs:n.outputs;for(let i in r)if(r.hasOwnProperty(i)){let s=r[i],u;t===0?u=e.hostDirectiveInputs??={}:u=e.hostDirectiveOutputs??={},u[s]??=[],u[s].push(o,i),ng(e,s)}}function ng(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function kp(t,e,n){let{attrs:o,inputs:r,hostDirectiveInputs:i}=t;if(o===null||!n&&r===null||n&&i===null||Fl(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,u=0;for(;u<o.length;){let c=o[u];if(c===0){u+=4;continue}else if(c===5){u+=2;continue}else if(typeof c=="number")break;if(!n&&r.hasOwnProperty(c)){let d=r[c];for(let f of d)if(f===e){s??=[],s.push(c,o[u+1]);break}}else if(n&&i.hasOwnProperty(c)){let d=i[c];for(let f=0;f<d.length;f+=2)if(d[f]===e){s??=[],s.push(d[f+1],o[u+1]);break}}u+=2}t.initialInputs??=[],t.initialInputs.push(s)}function XE(t,e,n,o,r){t.data[o]=r;let i=r.factory||(r.factory=Zt(r.type,!0)),s=new kn(i,Ct(r),Y,null);t.blueprint[o]=s,n[o]=s,e_(t,e,o,Ah(t,n,r.hostVars,Mt),r)}function e_(t,e,n,o,r){let i=r.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let u=~e.index;t_(s)!=u&&s.push(u),s.push(n,o,i)}}function t_(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function n_(t,e,n){if(n){if(e.exportAs)for(let o=0;o<e.exportAs.length;o++)n[e.exportAs[o]]=t;Ct(e)&&(n[""]=t)}}function o_(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function og(t,e,n,o,r,i,s,u){let c=e[x],d=c.consts,f=It(d,s),p=Ki(c,t,n,o,f);return i&&jE(c,e,p,It(d,u),r),p.mergedAttrs=go(p.mergedAttrs,p.attrs),p.attrs!==null&&Oi(p,p.attrs,!1),p.mergedAttrs!==null&&Oi(p,p.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,p),p}function rg(t,e){X0(t,e),Su(e)&&t.queries.elementEnd(e)}function r_(t,e,n,o,r,i){let s=e.consts,u=It(s,r),c=Ki(e,t,n,o,u);if(c.mergedAttrs=go(c.mergedAttrs,c.attrs),i!=null){let d=It(s,i);c.localNames=[];for(let f=0;f<d.length;f+=2)c.localNames.push(d[f],-1)}return c.attrs!==null&&Oi(c,c.attrs,!1),c.mergedAttrs!==null&&Oi(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function ig(t,e,n){return t[e]=n}function At(t,e,n){if(n===Mt)return!1;let o=t[e];return Object.is(o,n)?!1:(t[e]=n,!0)}function i_(t,e,n,o){let r=At(t,e,n);return At(t,e+1,o)||r}function Qu(t,e,n){return function o(r){let i=tn(t)?Ke(t.index,e):e;Yl(i,5);let s=e[ce],u=Lp(e,s,n,r),c=o.__ngNextListenerFn__;for(;c;)u=Lp(e,s,c,r)&&u,c=c.__ngNextListenerFn__;return u}}function Lp(t,e,n,o){let r=b(null);try{return z(G.OutputStart,e,n),n(o)!==!1}catch(i){return CE(t,i),!1}finally{z(G.OutputEnd,e,n),b(r)}}function s_(t,e,n,o,r,i,s,u){let c=yi(t),d=!1,f=null;if(!o&&c&&(f=u_(e,n,i,t.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,d=!0}else{let p=Dt(t,n),h=o?o(p):p;Iv(n,h,i,u);let g=r.listen(h,i,u);if(!a_(i)){let m=o?y=>o(it(y[t.index])):t.index;sg(m,e,n,i,u,g,!1)}}return d}function a_(t){return t.startsWith("animation")||t.startsWith("transition")}function u_(t,e,n,o){let r=t.cleanup;if(r!=null)for(let i=0;i<r.length-1;i+=2){let s=r[i];if(s===n&&r[i+1]===o){let u=e[io],c=r[i+2];return u&&u.length>c?u[c]:null}typeof s=="string"&&(i+=2)}return null}function sg(t,e,n,o,r,i,s){let u=e.firstCreatePass?Yf(e):null,c=jf(n),d=c.length;c.push(r,i),u&&u.push(o,t,d,(d+1)*(s?-1:1))}function Op(t,e,n,o,r,i){let s=e[n],u=e[x],d=u.data[n].outputs[o],p=s[d].subscribe(i);sg(t.index,u,e,r,i,p,!0)}var _l=Symbol("BINDING");var Cl=class extends Qi{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Go(e);return new Vi(n,this.ngModule)}};function l_(t){return Object.keys(t).map(e=>{let[n,o,r]=t[e],i={propName:n,templateName:e,isSignal:(o&Ji.SignalBased)!==0};return r&&(i.transform=r),i})}function c_(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function d_(t,e,n){let o=e instanceof nt?e:e?.injector;return o&&t.getStandaloneInjector!==null&&(o=t.getStandaloneInjector(o)||o),o?new El(n,o):n}function f_(t){let e=t.get(On,null);if(e===null)throw new N(407,!1);let n=t.get(tg,null),o=t.get(Dn,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:o,ngReflect:!1}}function p_(t,e){let n=ag(t);return Ch(e,n,n==="svg"?wu:n==="math"?Wf:null)}function ag(t){return(t.selectors[0][0]||"div").toLowerCase()}var Vi=class extends Zi{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=l_(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=c_(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Vv(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,o,r,i,s){z(G.DynamicComponentStart);let u=b(null);try{let c=this.componentDef,d=h_(o,c,s,i),f=d_(c,r||this.ngModule,e),p=f_(f),h=p.rendererFactory.createRenderer(null,c),g=o?uE(h,o,c.encapsulation,f):p_(c,h),m=s?.some(Vp)||i?.some(v=>typeof v!="function"&&v.bindings.some(Vp)),y=Ll(null,d,null,512|wh(c),null,null,p,h,f,null,yh(g,f,!0));y[he]=g,Ci(y);let _=null;try{let v=og(he,y,2,"#host",()=>d.directiveRegistry,!0,0);Th(h,g,v),mo(g,y),Oh(d,y,v),Eh(d,v,y),rg(d,v),n!==void 0&&m_(v,this.ngContentSelectors,n),_=Ke(v.index,y),y[ce]=_[ce],zl(d,y,null)}catch(v){throw _!==null&&dl(_),dl(y),v}finally{z(G.DynamicComponentEnd),Di()}return new Bi(this.componentType,y,!!m)}finally{b(u)}}};function h_(t,e,n,o){let r=t?["ng-version","21.1.0"]:Bv(e.selectors[0]),i=null,s=null,u=0;if(n)for(let f of n)u+=f[_l].requiredVars,f.create&&(f.targetIdx=0,(i??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(o)for(let f=0;f<o.length;f++){let p=o[f];if(typeof p!="function")for(let h of p.bindings){u+=h[_l].requiredVars;let g=f+1;h.create&&(h.targetIdx=g,(i??=[]).push(h)),h.update&&(h.targetIdx=g,(s??=[]).push(h))}}let c=[e];if(o)for(let f of o){let p=typeof f=="function"?f:f.type,h=du(p);c.push(h)}return kl(0,null,g_(i,s),1,u,c,null,null,null,[r],null)}function g_(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let o of t)o.create();if(n&2&&e)for(let o of e)o.update()}}function Vp(t){let e=t[_l].kind;return e==="input"||e==="twoWay"}var Bi=class extends eg{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,o){super(),this._rootLView=n,this._hasInputBindings=o,this._tNode=jo(n[x],he),this.location=ah(this._tNode,n),this.instance=Ke(this._tNode.index,n)[ce],this.hostView=this.changeDetectorRef=new yo(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let o=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let r=this._rootLView,i=Wl(o,r[x],r,e,n);this.previousInputValues.set(e,n);let s=Ke(o.index,r);Yl(s,1)}get injector(){return new ki(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function m_(t,e,n){let o=t.projection=[];for(let r=0;r<e.length;r++){let i=n[r];o.push(i!=null&&i.length?Array.from(i):null)}}var y_=()=>!1;function v_(t,e,n){return y_(t,e,n)}var tr=class{};var nr=class extends tr{injector;componentFactoryResolver=new Cl(this);instance=null;constructor(e){super();let n=new Cn([...e.providers,{provide:tr,useValue:this},{provide:Qi,useValue:this.componentFactoryResolver}],e.parent||Wo(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ug(t,e,n=null){return new nr({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var E_=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let o=Eu(!1,n.type),r=o.length>0?ug([o],this._injector,""):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ee({token:t,providedIn:"environment",factory:()=>new t(j(nt))})}return t})();function Gt(t){return rr(()=>{let e=lg(t),n=oe(J({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===xl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(E_).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ut.Emulated,styles:t.styles||He,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&an("NgStandalone"),cg(n);let o=t.dependencies;return n.directiveDefs=Bp(o,__),n.pipeDefs=Bp(o,Nf),n.id=I_(n),n})}function __(t){return Go(t)||du(t)}function Hn(t){return rr(()=>({type:t.type,bootstrap:t.bootstrap||He,declarations:t.declarations||He,imports:t.imports||He,exports:t.exports||He,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function C_(t,e){if(t==null)return en;let n={};for(let o in t)if(t.hasOwnProperty(o)){let r=t[o],i,s,u,c;Array.isArray(r)?(u=r[0],i=r[1],s=r[2]??i,c=r[3]||null):(i=r,s=r,u=Ji.None,c=null),n[i]=[o,u,c],e[i]=s}return n}function D_(t){if(t==null)return en;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Ae(t){return rr(()=>{let e=lg(t);return cg(e),e})}function Xi(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function lg(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||en,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||He,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:C_(t.inputs,e),outputs:D_(t.outputs),debugInfo:null}}function cg(t){t.features?.forEach(e=>e(t))}function Bp(t,e){return t?()=>{let n=typeof t=="function"?t():t,o=[];for(let r of n){let i=e(r);i!==null&&o.push(i)}return o}:null}function I_(t){let e=0,n=typeof t.consts=="function"?"":t.consts,o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let i of o.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function T_(t){return Object.getPrototypeOf(t.prototype).constructor}function Ze(t){let e=T_(t.type),n=!0,o=[t];for(;e;){let r;if(Ct(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new N(903,!1);r=e.\u0275dir}if(r){if(n){o.push(r);let s=t;s.inputs=Xu(t.inputs),s.declaredInputs=Xu(t.declaredInputs),s.outputs=Xu(t.outputs);let u=r.hostBindings;u&&b_(t,u);let c=r.viewQuery,d=r.contentQueries;if(c&&A_(t,c),d&&M_(t,d),S_(t,r),bf(t.outputs,r.outputs),Ct(r)&&r.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(r.data.animation)}}let i=r.features;if(i)for(let s=0;s<i.length;s++){let u=i[s];u&&u.ngInherit&&u(t),u===Ze&&(n=!1)}}e=Object.getPrototypeOf(e)}w_(o)}function S_(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let o=e.inputs[n];o!==void 0&&(t.inputs[n]=o,t.declaredInputs[n]=e.declaredInputs[n])}}function w_(t){let e=0,n=null;for(let o=t.length-1;o>=0;o--){let r=t[o];r.hostVars=e+=r.hostVars,r.hostAttrs=go(r.hostAttrs,n=go(n,r.hostAttrs))}}function Xu(t){return t===en?{}:t===He?[]:t}function A_(t,e){let n=t.viewQuery;n?t.viewQuery=(o,r)=>{e(o,r),n(o,r)}:t.viewQuery=e}function M_(t,e){let n=t.contentQueries;n?t.contentQueries=(o,r,i)=>{e(o,r,i),n(o,r,i)}:t.contentQueries=e}function b_(t,e){let n=t.hostBindings;n?t.hostBindings=(o,r)=>{e(o,r),n(o,r)}:t.hostBindings=e}function N_(t,e,n,o,r,i,s,u){if(n.firstCreatePass){t.mergedAttrs=go(t.mergedAttrs,t.attrs);let f=t.tView=kl(2,t,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),f.queries=n.queries.embeddedTView(t))}u&&(t.flags|=u),co(t,!1);let c=x_(n,e,t,o);Ti()&&Gl(n,e,c,t),mo(c,e);let d=OE(c,e,c,t);e[o+he]=d,Mh(e,d),v_(d,t,e)}function Ui(t,e,n,o,r,i,s,u,c,d,f){let p=n+he,h;if(e.firstCreatePass){if(h=Ki(e,p,4,s||null,u||null),d!=null){let g=It(e.consts,d);h.localNames=[];for(let m=0;m<g.length;m+=2)h.localNames.push(g[m],-1)}}else h=e.data[p];return N_(h,t,e,n,o,r,i,c),d!=null&&ql(t,h,f),h}var x_=R_;function R_(t,e,n,o){return Si(!0),e[se].createComment("")}function dg(t){return typeof t=="function"&&t[Be]!==void 0}function Ql(t){return dg(t)&&typeof t.set=="function"}var Xl=new L("");function Eo(t){return!!t&&typeof t.then=="function"}function ec(t){return!!t&&typeof t.subscribe=="function"}var fg=new L("");var tc=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o});appInits=F(fg,{optional:!0})??[];injector=F(Ot);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let i=gi(this.injector,r);if(Eo(i))n.push(i);else if(ec(i)){let s=new Promise((u,c)=>{i.subscribe({complete:u,error:c})});n.push(s)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(r=>{this.reject(r)}),n.length===0&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pg=new L("");function hg(){Na(()=>{let t="";throw new N(600,t)})}function gg(t){return t.isBoundToModule}var P_=10;var _o=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=F(Fn);afterRenderManager=F(Vl);zonelessEnabled=F(Ko);rootEffectScheduler=F(ju);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new mt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=F(fo);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(yn(n=>!n))}constructor(){F(Bn,{optional:!0})}whenStable(){let n;return new Promise(o=>{n=this.isStable.subscribe({next:r=>{r&&o()}})}).finally(()=>{n.unsubscribe()})}_injector=F(nt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,o){return this.bootstrapImpl(n,o)}bootstrapImpl(n,o,r=Ot.NULL){return this._injector.get(Ge).run(()=>{z(G.BootstrapComponentStart);let s=n instanceof Zi;if(!this._injector.get(tc).done){let m="";throw new N(405,m)}let c;s?c=n:c=this._injector.get(Qi).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let d=gg(c)?void 0:this._injector.get(tr),f=o||c.selector,p=c.create(r,[],f,d),h=p.location.nativeElement,g=p.injector.get(Xl,null);return g?.registerApplication(h),p.onDestroy(()=>{this.detachView(p.hostView),Xo(this.components,p),g?.unregisterApplication(h)}),this._loadComponent(p),z(G.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){z(G.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(ji.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw z(G.ChangeDetectionEnd),new N(101,!1);let n=b(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,b(n),this.afterTick.next(),z(G.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(On,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<P_;){z(G.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{z(G.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let o=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!o&&!Yo(r))continue;let i=o&&!this.zonelessEnabled?0:1;zh(r,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Yo(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){let o=n;Xo(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(n),this._injector.get(pg,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Xo(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new N(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(o){return new(o||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Xo(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ar(t,e,n,o){let r=H(),i=Rn();if(At(r,i,e)){let s=we(),u=Ii();vE(u,r,t,e,n,o)}return ar}var a1=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Dl=class{destroy(e){}updateValue(e,n){}swap(e,n){let o=Math.min(e,n),r=Math.max(e,n),i=this.detach(r);if(r-o>1){let s=this.detach(o);this.attach(o,i),this.attach(r,s)}else this.attach(o,i)}move(e,n){this.attach(n,this.detach(e))}};function el(t,e,n,o,r){return t===n&&Object.is(e,o)?1:Object.is(r(t,e),r(n,o))?-1:0}function F_(t,e,n,o){let r,i,s=0,u=t.length-1,c=void 0;if(Array.isArray(e)){b(o);let d=e.length-1;for(b(null);s<=u&&s<=d;){let f=t.at(s),p=e[s],h=el(s,f,s,p,n);if(h!==0){h<0&&t.updateValue(s,p),s++;continue}let g=t.at(u),m=e[d],y=el(u,g,d,m,n);if(y!==0){y<0&&t.updateValue(u,m),u--,d--;continue}let _=n(s,f),v=n(u,g),I=n(s,p);if(Object.is(I,v)){let T=n(d,m);Object.is(T,_)?(t.swap(s,u),t.updateValue(u,m),d--,u--):t.move(u,s),t.updateValue(s,p),s++;continue}if(r??=new Hi,i??=Hp(t,s,u,n),Il(t,r,s,I))t.updateValue(s,p),s++,u++;else if(i.has(I))r.set(_,t.detach(s)),u--;else{let T=t.create(s,e[s]);t.attach(s,T),s++,u++}}for(;s<=d;)Up(t,r,n,s,e[s]),s++}else if(e!=null){b(o);let d=e[Symbol.iterator]();b(null);let f=d.next();for(;!f.done&&s<=u;){let p=t.at(s),h=f.value,g=el(s,p,s,h,n);if(g!==0)g<0&&t.updateValue(s,h),s++,f=d.next();else{r??=new Hi,i??=Hp(t,s,u,n);let m=n(s,h);if(Il(t,r,s,m))t.updateValue(s,h),s++,u++,f=d.next();else if(!i.has(m))t.attach(s,t.create(s,h)),s++,u++,f=d.next();else{let y=n(s,p);r.set(y,t.detach(s)),u--}}}for(;!f.done;)Up(t,r,n,t.length,f.value),f=d.next()}for(;s<=u;)t.destroy(t.detach(u--));r?.forEach(d=>{t.destroy(d)})}function Il(t,e,n,o){return e!==void 0&&e.has(o)?(t.attach(n,e.get(o)),e.delete(o),!0):!1}function Up(t,e,n,o,r){if(Il(t,e,o,n(o,r)))t.updateValue(o,r);else{let i=t.create(o,r);t.attach(o,i)}}function Hp(t,e,n,o){let r=new Set;for(let i=e;i<=n;i++)r.add(o(i,t.at(i)));return r}var Hi=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let o=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(o);)o=r.get(o);r.set(o,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,o]of this.kvMap)if(e(o,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(o);)o=r.get(o),e(o,n)}}};function me(t,e,n,o,r,i,s,u){an("NgControlFlow");let c=H(),d=we(),f=It(d.consts,i);return Ui(c,d,t,e,n,o,r,f,256,s,u),nc}function nc(t,e,n,o,r,i,s,u){an("NgControlFlow");let c=H(),d=we(),f=It(d.consts,i);return Ui(c,d,t,e,n,o,r,f,512,s,u),nc}function ye(t,e){an("NgControlFlow");let n=H(),o=Rn(),r=n[o]!==Mt?n[o]:-1,i=r!==-1?Gi(n,he+r):void 0,s=0;if(At(n,o,t)){let u=b(null);try{if(i!==void 0&&Zh(i,s),t!==-1){let c=he+t,d=Gi(n,c),f=Al(n[x],c),p=Xh(d,f,n),h=Jl(n,f,e,{dehydratedView:p});Kl(d,h,s,jl(f,p))}}finally{b(u)}}else if(i!==void 0){let u=Kh(i,s);u!==void 0&&(u[ce]=e)}}var Tl=class{lContainer;$implicit;$index;constructor(e,n,o){this.lContainer=e,this.$implicit=n,this.$index=o}get $count(){return this.lContainer.length-ge}};function oc(t,e){return e}var Sl=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,o){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=o}};function es(t,e,n,o,r,i,s,u,c,d,f,p,h){an("NgControlFlow");let g=H(),m=we(),y=c!==void 0,_=H(),v=u?s.bind(_[$e][ce]):s,I=new Sl(y,v);_[he+t]=I,Ui(g,m,t+1,e,n,o,r,It(m.consts,i),256),y&&Ui(g,m,t+2,c,d,f,p,It(m.consts,h),512)}var wl=class extends Dl{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,o){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=o}get length(){return this.lContainer.length-ge}at(e){return this.getLView(e)[ce].$implicit}attach(e,n){let o=n[ro];this.needsIndexUpdate||=e!==this.length,Kl(this.lContainer,n,e,jl(this.templateTNode,o)),k_(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,L_(this.lContainer,e),O_(this.lContainer,e)}create(e,n){let o=zE(this.lContainer,this.templateTNode.tView.ssrId);return Jl(this.hostLView,this.templateTNode,new Tl(this.lContainer,n,e),{dehydratedView:o})}destroy(e){Hl(e[x],e)}updateValue(e,n){this.getLView(e)[ce].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ce].$index=e}getLView(e){return V_(this.lContainer,e)}};function ts(t){let e=b(null),n=nn();try{let o=H(),r=o[x],i=o[n],s=n+1,u=Gi(o,s);if(i.liveCollection===void 0){let d=Al(r,s);i.liveCollection=new wl(u,o,d)}else i.liveCollection.reset();let c=i.liveCollection;if(F_(c,t,i.trackByFn,e),c.updateIndexes(),i.hasEmptyBlock){let d=Rn(),f=c.length===0;if(At(o,d,f)){let p=n+2,h=Gi(o,p);if(f){let g=Al(r,p),m=Xh(h,g,o),y=Jl(o,g,void 0,{dehydratedView:m});Kl(h,y,0,jl(g,m))}else r.firstUpdatePass&&GE(h),Zh(h,0)}}}finally{b(e)}}function Gi(t,e){return t[e]}function k_(t,e){if(t.length<=ge)return;let n=ge+e,o=t[n],r=o?o[Nn]:void 0;if(o&&r&&r.detachedLeaveAnimationFns&&r.detachedLeaveAnimationFns.length>0){let i=o[Vt];zv(i,r),Ln.delete(o[Ut]),r.detachedLeaveAnimationFns=void 0}}function L_(t,e){if(t.length<=ge)return;let n=ge+e,o=t[n],r=o?o[Nn]:void 0;r&&r.leave&&r.leave.size>0&&(r.detachedLeaveAnimationFns=[])}function O_(t,e){return Zl(t,e)}function V_(t,e){return Kh(t,e)}function Al(t,e){return jo(t,e)}function lt(t,e,n){let o=H(),r=Rn();if(At(o,r,e)){let i=we(),s=Ii();Vh(s,o,t,e,o[se],n)}return lt}function Gp(t,e,n,o,r){Wl(e,t,n,r?"class":"style",o)}function C(t,e,n,o){let r=H(),i=r[x],s=t+he,u=i.firstCreatePass?og(s,r,2,e,yE,Qf(),n,o):i.data[s];if(Bh(u,r,t,e,mg),yi(u)){let c=r[x];Oh(c,r,u),Eh(c,u,r)}return o!=null&&ql(r,u),C}function E(){let t=we(),e=We(),n=Uh(e);return t.firstCreatePass&&rg(t,n),Fu(n)&&ku(),Pu(),n.classesWithoutHost!=null&&tv(n)&&Gp(t,n,H(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&nv(n)&&Gp(t,n,H(),n.stylesWithoutHost,!1),E}function fe(t,e,n,o){return C(t,e,n,o),E(),fe}function q(t,e,n,o){let r=H(),i=r[x],s=t+he,u=i.firstCreatePass?r_(s,i,2,e,n,o):i.data[s];return Bh(u,r,t,e,mg),o!=null&&ql(r,u),q}function te(){let t=We(),e=Uh(t);return Fu(e)&&ku(),Pu(),te}function un(t,e,n,o){return q(t,e,n,o),te(),un}var mg=(t,e,n,o,r)=>(Si(!0),Ch(e[se],o,fp()));function $t(){return H()}var Zo=void 0;function B_(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var U_=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",Zo,Zo,Zo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",B_],tl={};function Fe(t){let e=H_(t),n=$p(e);if(n)return n;let o=e.split("-")[0];if(n=$p(o),n)return n;if(o==="en")return U_;throw new N(701,!1)}function $p(t){return t in tl||(tl[t]=In.ng&&In.ng.common&&In.ng.common.locales&&In.ng.common.locales[t]),tl[t]}var ue=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(ue||{});function H_(t){return t.toLowerCase().replace(/_/g,"-")}var ur="en-US";var G_=ur;function yg(t){typeof t=="string"&&(G_=t.toLowerCase().replace(/_/g,"-"))}function K(t,e,n){let o=H(),r=we(),i=We();return vg(r,o,o[se],i,t,e,n),K}function vg(t,e,n,o,r,i,s){let u=!0,c=null;if((o.type&3||s)&&(c??=Qu(o,e,i),s_(o,t,e,s,n,r,i,c)&&(u=!1)),u){let d=o.outputs?.[r],f=o.hostDirectiveOutputs?.[r];if(f&&f.length)for(let p=0;p<f.length;p+=2){let h=f[p],g=f[p+1];c??=Qu(o,e,i),Op(o,e,h,g,r,c)}if(d&&d.length)for(let p of d)c??=Qu(o,e,i),Op(o,e,p,r,r,c)}}function Q(t=1){return dp(t)}function Ai(t,e){return t<<17|e<<2}function Vn(t){return t>>17&32767}function $_(t){return(t&2)==2}function q_(t,e){return t&131071|e<<17}function Ml(t){return t|2}function vo(t){return(t&131068)>>2}function nl(t,e){return t&-131069|e<<2}function W_(t){return(t&1)===1}function bl(t){return t|1}function z_(t,e,n,o,r,i){let s=i?e.classBindings:e.styleBindings,u=Vn(s),c=vo(s);t[o]=n;let d=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||oo(p,f)>0)&&(d=!0)}else f=n;if(r)if(c!==0){let h=Vn(t[u+1]);t[o+1]=Ai(h,u),h!==0&&(t[h+1]=nl(t[h+1],o)),t[u+1]=q_(t[u+1],o)}else t[o+1]=Ai(u,0),u!==0&&(t[u+1]=nl(t[u+1],o)),u=o;else t[o+1]=Ai(c,0),u===0?u=o:t[c+1]=nl(t[c+1],o),c=o;d&&(t[o+1]=Ml(t[o+1])),qp(t,f,o,!0),qp(t,f,o,!1),J_(e,f,t,o,i),s=Ai(u,c),i?e.classBindings=s:e.styleBindings=s}function J_(t,e,n,o,r){let i=r?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&oo(i,e)>=0&&(n[o+1]=bl(n[o+1]))}function qp(t,e,n,o){let r=t[n+1],i=e===null,s=o?Vn(r):vo(r),u=!1;for(;s!==0&&(u===!1||i);){let c=t[s],d=t[s+1];j_(c,e)&&(u=!0,t[s+1]=o?bl(d):Ml(d)),s=o?Vn(d):vo(d)}u&&(t[n+1]=o?Ml(r):bl(r))}function j_(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?oo(t,e)>=0:!1}function bt(t,e){return Y_(t,e,null,!0),bt}function Y_(t,e,n,o){let r=H(),i=we(),s=op(2);if(i.firstUpdatePass&&Z_(i,t,s,o),e!==Mt&&At(r,s,e)){let u=i.data[nn()];nC(i,u,r,r[se],t,r[s+1]=oC(e,n),o,s)}}function K_(t,e){return e>=t.expandoStartIndex}function Z_(t,e,n,o){let r=t.data;if(r[n+1]===null){let i=r[nn()],s=K_(t,n);rC(i,o)&&e===null&&!s&&(e=!1),e=Q_(r,i,e,o),z_(r,i,e,n,s,o)}}function Q_(t,e,n,o){let r=ap(t),i=o?e.residualClasses:e.residualStyles;if(r===null)(o?e.classBindings:e.styleBindings)===0&&(n=ol(null,t,e,n,o),n=or(n,e.attrs,o),i=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=ol(r,t,e,n,o),i===null){let c=X_(t,e,o);c!==void 0&&Array.isArray(c)&&(c=ol(null,t,e,c[1],o),c=or(c,e.attrs,o),eC(t,e,o,c))}else i=tC(t,e,o)}return i!==void 0&&(o?e.residualClasses=i:e.residualStyles=i),n}function X_(t,e,n){let o=n?e.classBindings:e.styleBindings;if(vo(o)!==0)return t[Vn(o)]}function eC(t,e,n,o){let r=n?e.classBindings:e.styleBindings;t[Vn(r)]=o}function tC(t,e,n){let o,r=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<r;i++){let s=t[i].hostAttrs;o=or(o,s,n)}return or(o,e.attrs,n)}function ol(t,e,n,o,r){let i=null,s=n.directiveEnd,u=n.directiveStylingLast;for(u===-1?u=n.directiveStart:u++;u<s&&(i=e[u],o=or(o,i.hostAttrs,r),i!==t);)u++;return t!==null&&(n.directiveStylingLast=u),o}function or(t,e,n){let o=n?1:2,r=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?r=s:r===o&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Of(t,s,n?!0:e[++i]))}return t===void 0?null:t}function nC(t,e,n,o,r,i,s,u){if(!(e.type&3))return;let c=t.data,d=c[u+1],f=W_(d)?Wp(c,e,n,r,vo(d),s):void 0;if(!$i(f)){$i(i)||$_(d)&&(i=Wp(c,null,n,r,u,s));let p=Au(nn(),n);aE(o,s,p,r,i)}}function Wp(t,e,n,o,r,i){let s=e===null,u;for(;r>0;){let c=t[r],d=Array.isArray(c),f=d?c[1]:c,p=f===null,h=n[r+1];h===Mt&&(h=p?He:void 0);let g=p?hi(h,o):f===o?h:void 0;if(d&&!$i(g)&&(g=hi(c,o)),$i(g)&&(u=g,s))return u;let m=t[r+1];r=s?Vn(m):vo(m)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(u=hi(c,o))}return u}function $i(t){return t!==void 0}function oC(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Kt(_h(t)))),t}function rC(t,e){return(t.flags&(e?8:16))!==0}function D(t,e=""){let n=H(),o=we(),r=t+he,i=o.firstCreatePass?Ki(o,r,1,e,null):o.data[r],s=iC(o,n,i,e,t);n[r]=s,Ti()&&Gl(o,n,s,i),co(i,!1)}var iC=(t,e,n,o,r)=>(Si(!0),Sv(e[se],o));function sC(t,e,n,o=""){return At(t,Rn(),n)?e+di(n)+o:Mt}function Nt(t){return pe("",t),Nt}function pe(t,e,n){let o=H(),r=sC(o,t,e,n);return r!==Mt&&aC(o,nn(),r),pe}function aC(t,e,n){let o=Au(e,t);wv(t[se],o,n)}function ze(t,e,n){Ql(e)&&(e=e());let o=H(),r=Rn();if(At(o,r,e)){let i=we(),s=Ii();Vh(s,o,t,e,o[se],n)}return ze}function Qe(t,e){let n=Ql(t);return n&&t.set(e),n}function Je(t,e){let n=H(),o=we(),r=We();return vg(o,n,n[se],r,t,e),Je}function zp(t,e,n){let o=we();o.firstCreatePass&&Eg(e,o.data,o.blueprint,Ct(t),n)}function Eg(t,e,n,o,r){if(t=De(t),Array.isArray(t))for(let i=0;i<t.length;i++)Eg(t[i],e,n,o,r);else{let i=we(),s=H(),u=We(),c=_n(t)?t:De(t.provide),d=Cu(t),f=u.providerIndexes&1048575,p=u.directiveStart,h=u.providerIndexes>>20;if(_n(t)||!t.multi){let g=new kn(d,r,Y,null),m=il(c,e,r?f:f+h,p);m===-1?(ll(Pi(u,s),i,c),rl(i,t,e.length),e.push(c),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(g),s.push(g)):(n[m]=g,s[m]=g)}else{let g=il(c,e,f+h,p),m=il(c,e,f,f+h),y=g>=0&&n[g],_=m>=0&&n[m];if(r&&!_||!r&&!y){ll(Pi(u,s),i,c);let v=cC(r?lC:uC,n.length,r,o,d,t);!r&&_&&(n[m].providerFactory=v),rl(i,t,e.length,0),e.push(c),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(v),s.push(v)}else{let v=_g(n[r?m:g],d,!r&&o);rl(i,t,g>-1?g:m,v)}!r&&o&&_&&n[m].componentProviders++}}}function rl(t,e,n,o){let r=_n(e),i=Hf(e);if(r||i){let c=(i?De(e.useClass):e).prototype.ngOnDestroy;if(c){let d=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let f=d.indexOf(n);f===-1?d.push(n,[o,c]):d[f+1].push(o,c)}else d.push(n,c)}}}function _g(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function il(t,e,n,o){for(let r=n;r<o;r++)if(e[r]===t)return r;return-1}function uC(t,e,n,o,r){return Nl(this.multi,[])}function lC(t,e,n,o,r){let i=this.multi,s;if(this.providerFactory){let u=this.providerFactory.componentProviders,c=Fi(o,o[x],this.providerFactory.index,r);s=c.slice(0,u),Nl(i,s);for(let d=u;d<c.length;d++)s.push(c[d])}else s=[],Nl(i,s);return s}function Nl(t,e){for(let n=0;n<t.length;n++){let o=t[n];e.push(o())}return e}function cC(t,e,n,o,r,i){let s=new kn(t,n,Y,null);return s.multi=[],s.index=e,s.componentProviders=0,_g(s,r,o&&!n),s}function qt(t,e){return n=>{n.providersResolver=(o,r)=>zp(o,r?r(t):t,!1),e&&(n.viewProvidersResolver=(o,r)=>zp(o,r?r(e):e,!0))}}function Cg(t,e){let n=t[e];return n===Mt?void 0:n}function dC(t,e,n,o,r,i){let s=e+n;return At(t,s,r)?ig(t,s+1,i?o.call(i,r):o(r)):Cg(t,s+1)}function fC(t,e,n,o,r,i,s){let u=e+n;return i_(t,u,r,i)?ig(t,u+2,s?o.call(s,r,i):o(r,i)):Cg(t,u+2)}function ln(t,e){let n=we(),o,r=t+he;n.firstCreatePass?(o=pC(e,n.pipeRegistry),n.data[r]=o,o.onDestroy&&(n.destroyHooks??=[]).push(r,o.onDestroy)):o=n.data[r];let i=o.factory||(o.factory=Zt(o.type,!0)),s,u=xe(Y);try{let c=Ri(!1),d=i();return Ri(c),bu(n,H(),r,d),d}finally{xe(u)}}function pC(t,e){if(e)for(let n=e.length-1;n>=0;n--){let o=e[n];if(t===o.name)return o}}function Gn(t,e,n){let o=t+he,r=H(),i=Mu(r,o);return Dg(r,o)?dC(r,Uu(),e,i.transform,n,i):i.transform(n)}function rc(t,e,n,o){let r=t+he,i=H(),s=Mu(i,r);return Dg(i,r)?fC(i,Uu(),e,s.transform,n,o,s):s.transform(n,o)}function Dg(t,e){return t[x].data[e].pure}var Ig=(()=>{class t{applicationErrorHandler=F(Fn);appRef=F(_o);taskService=F(fo);ngZone=F(Ge);zonelessEnabled=F(Ko);tracing=F(Bn,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ne;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Uo):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(Ju,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let n=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(n);return}this.switchToMicrotaskScheduler(),this.taskService.remove(n)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let n=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})})}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let o=this.useMicrotaskScheduler?yp:qu;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Uo+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){this.applicationErrorHandler(o)}finally{this.taskService.remove(n),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(o){return new(o||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ic(){return an("NgZoneless"),vu([...sc(),[]])}function sc(){return[{provide:Dn,useExisting:Ig},{provide:Ge,useClass:Ho},{provide:Ko,useValue:!0}]}function hC(){return typeof $localize<"u"&&$localize.locale||ur}var Co=new L("",{factory:()=>F(Co,{optional:!0,skipSelf:!0})||hC()});function xt(t,e){return Vr(t,e?.equal)}var ac=new L(""),MC=new L("");function lr(t){return!t.moduleRef}function bC(t){let e=lr(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ge);return n.run(()=>{lr(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let o=e.get(Fn),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o})}),lr(t)){let i=()=>e.destroy(),s=t.platformInjector.get(ac);s.add(i),e.onDestroy(()=>{r.unsubscribe(),s.delete(i)})}else{let i=()=>t.moduleRef.destroy(),s=t.platformInjector.get(ac);s.add(i),t.moduleRef.onDestroy(()=>{Xo(t.allPlatformModules,t.moduleRef),r.unsubscribe(),s.delete(i)})}return xC(o,n,()=>{let i=e.get(fo),s=i.add(),u=e.get(tc);return u.runInitializers(),u.donePromise.then(()=>{let c=e.get(Co,ur);if(yg(c||ur),!e.get(MC,!0))return lr(t)?e.get(_o):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(lr(t)){let f=e.get(_o);return t.rootComponent!==void 0&&f.bootstrap(t.rootComponent),f}else return NC?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>{i.remove(s)})})})}var NC;function xC(t,e,n){try{let o=n();return Eo(o)?o.catch(r=>{throw e.runOutsideAngular(()=>t(r)),r}):o}catch(o){throw e.runOutsideAngular(()=>t(o)),o}}var ns=null;function RC(t=[],e){return Ot.create({name:e,providers:[{provide:qo,useValue:"platform"},{provide:ac,useValue:new Set([()=>ns=null])},...t]})}function PC(t=[]){if(ns)return ns;let e=RC(t);return ns=e,hg(),FC(e),e}function FC(t){let e=t.get(Wi,null);gi(t,()=>{e?.forEach(n=>n())})}var kC=1e4;var zV=kC-1e3;var rs=(()=>{class t{static __NG_ELEMENT_ID__=LC}return t})();function LC(t){return OC(We(),H(),(t&16)===16)}function OC(t,e,n){if(tn(t)&&!n){let o=Ke(t.index,e);return new yo(o,o)}else if(t.type&175){let o=e[$e];return new yo(o,e)}return null}function Tg(t){let{rootComponent:e,appProviders:n,platformProviders:o,platformRef:r}=t;z(G.BootstrapApplicationStart);try{let i=r?.injector??PC(o),s=[sc(),Ep,...n||[]],u=new nr({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return bC({r3Injector:u.injector,platformInjector:i,rootComponent:e})}catch(i){return Promise.reject(i)}finally{z(G.BootstrapApplicationEnd)}}function Sg(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var wg=null;function cn(){return wg}function uc(t){wg??=t}var cr=class{};var hc=(function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t})(hc||{});var Me=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(Me||{}),X=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(X||{}),ke=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(ke||{}),Le={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function bg(t){return Fe(t)[ue.LocaleId]}function Ng(t,e,n){let o=Fe(t),r=[o[ue.DayPeriodsFormat],o[ue.DayPeriodsStandalone]],i=Xe(r,e);return Xe(i,n)}function xg(t,e,n){let o=Fe(t),r=[o[ue.DaysFormat],o[ue.DaysStandalone]],i=Xe(r,e);return Xe(i,n)}function Rg(t,e,n){let o=Fe(t),r=[o[ue.MonthsFormat],o[ue.MonthsStandalone]],i=Xe(r,e);return Xe(i,n)}function Pg(t,e){let o=Fe(t)[ue.Eras];return Xe(o,e)}function dr(t,e){let n=Fe(t);return Xe(n[ue.DateFormat],e)}function fr(t,e){let n=Fe(t);return Xe(n[ue.TimeFormat],e)}function pr(t,e){let o=Fe(t)[ue.DateTimeFormat];return Xe(o,e)}function Pt(t,e){let n=Fe(t),o=n[ue.NumberSymbols][e];if(typeof o>"u"){if(e===Le.CurrencyDecimal)return n[ue.NumberSymbols][Le.Decimal];if(e===Le.CurrencyGroup)return n[ue.NumberSymbols][Le.Group]}return o}function Fg(t,e){return Fe(t)[ue.NumberFormats][e]}function kg(t){if(!t[ue.ExtraData])throw new N(2303,!1)}function Lg(t){let e=Fe(t);return kg(e),(e[ue.ExtraData][2]||[]).map(o=>typeof o=="string"?lc(o):[lc(o[0]),lc(o[1])])}function Og(t,e,n){let o=Fe(t);kg(o);let r=[o[ue.ExtraData][0],o[ue.ExtraData][1]],i=Xe(r,e)||[];return Xe(i,n)||[]}function Xe(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new N(2304,!1)}function lc(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var VC=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,is={},BC=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Vg(t,e,n,o){let r=jC(t);e=Wt(n,e)||e;let s=[],u;for(;e;)if(u=BC.exec(e),u){s=s.concat(u.slice(1));let f=s.pop();if(!f)break;e=f}else{s.push(e);break}let c=r.getTimezoneOffset();o&&(c=Ug(o,c),r=JC(r,o));let d="";return s.forEach(f=>{let p=WC(f);d+=p?p(r,n,c):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function cs(t,e,n){let o=new Date(0);return o.setFullYear(t,e,n),o.setHours(0,0,0),o}function Wt(t,e){let n=bg(t);if(is[n]??={},is[n][e])return is[n][e];let o="";switch(e){case"shortDate":o=dr(t,ke.Short);break;case"mediumDate":o=dr(t,ke.Medium);break;case"longDate":o=dr(t,ke.Long);break;case"fullDate":o=dr(t,ke.Full);break;case"shortTime":o=fr(t,ke.Short);break;case"mediumTime":o=fr(t,ke.Medium);break;case"longTime":o=fr(t,ke.Long);break;case"fullTime":o=fr(t,ke.Full);break;case"short":let r=Wt(t,"shortTime"),i=Wt(t,"shortDate");o=ss(pr(t,ke.Short),[r,i]);break;case"medium":let s=Wt(t,"mediumTime"),u=Wt(t,"mediumDate");o=ss(pr(t,ke.Medium),[s,u]);break;case"long":let c=Wt(t,"longTime"),d=Wt(t,"longDate");o=ss(pr(t,ke.Long),[c,d]);break;case"full":let f=Wt(t,"fullTime"),p=Wt(t,"fullDate");o=ss(pr(t,ke.Full),[f,p]);break}return o&&(is[n][e]=o),o}function ss(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,o){return e!=null&&o in e?e[o]:n})),t}function ct(t,e,n="-",o,r){let i="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,i=n));let s=String(t);for(;s.length<e;)s="0"+s;return o&&(s=s.slice(s.length-e)),i+s}function UC(t,e){return ct(t,3).substring(0,e)}function ve(t,e,n=0,o=!1,r=!1){return function(i,s){let u=HC(t,i);if((n>0||u>-n)&&(u+=n),t===3)u===0&&n===-12&&(u=12);else if(t===6)return UC(u,e);let c=Pt(s,Le.MinusSign);return ct(u,e,c,o,r)}}function HC(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new N(2301,!1)}}function ne(t,e,n=Me.Format,o=!1){return function(r,i){return GC(r,i,t,e,n,o)}}function GC(t,e,n,o,r,i){switch(n){case 2:return Rg(e,r,o)[t.getMonth()];case 1:return xg(e,r,o)[t.getDay()];case 0:let s=t.getHours(),u=t.getMinutes();if(i){let d=Lg(e),f=Og(e,r,o),p=d.findIndex(h=>{if(Array.isArray(h)){let[g,m]=h,y=s>=g.hours&&u>=g.minutes,_=s<m.hours||s===m.hours&&u<m.minutes;if(g.hours<m.hours){if(y&&_)return!0}else if(y||_)return!0}else if(h.hours===s&&h.minutes===u)return!0;return!1});if(p!==-1)return f[p]}return Ng(e,r,o)[s<12?0:1];case 3:return Pg(e,o)[t.getFullYear()<=0?0:1];default:let c=n;throw new N(2302,!1)}}function as(t){return function(e,n,o){let r=-1*o,i=Pt(n,Le.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case 0:return(r>=0?"+":"")+ct(s,2,i)+ct(Math.abs(r%60),2,i);case 1:return"GMT"+(r>=0?"+":"")+ct(s,1,i);case 2:return"GMT"+(r>=0?"+":"")+ct(s,2,i)+":"+ct(Math.abs(r%60),2,i);case 3:return o===0?"Z":(r>=0?"+":"")+ct(s,2,i)+":"+ct(Math.abs(r%60),2,i);default:throw new N(2310,!1)}}}var $C=0,ls=4;function qC(t){let e=cs(t,$C,1).getDay();return cs(t,0,1+(e<=ls?ls:ls+7)-e)}function Bg(t){let e=t.getDay(),n=e===0?-3:ls-e;return cs(t.getFullYear(),t.getMonth(),t.getDate()+n)}function cc(t,e=!1){return function(n,o){let r;if(e){let i=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();r=1+Math.floor((s+i)/7)}else{let i=Bg(n),s=qC(i.getFullYear()),u=i.getTime()-s.getTime();r=1+Math.round(u/6048e5)}return ct(r,t,Pt(o,Le.MinusSign))}}function us(t,e=!1){return function(n,o){let i=Bg(n).getFullYear();return ct(i,t,Pt(o,Le.MinusSign),e)}}var dc={};function WC(t){if(dc[t])return dc[t];let e;switch(t){case"G":case"GG":case"GGG":e=ne(3,X.Abbreviated);break;case"GGGG":e=ne(3,X.Wide);break;case"GGGGG":e=ne(3,X.Narrow);break;case"y":e=ve(0,1,0,!1,!0);break;case"yy":e=ve(0,2,0,!0,!0);break;case"yyy":e=ve(0,3,0,!1,!0);break;case"yyyy":e=ve(0,4,0,!1,!0);break;case"Y":e=us(1);break;case"YY":e=us(2,!0);break;case"YYY":e=us(3);break;case"YYYY":e=us(4);break;case"M":case"L":e=ve(1,1,1);break;case"MM":case"LL":e=ve(1,2,1);break;case"MMM":e=ne(2,X.Abbreviated);break;case"MMMM":e=ne(2,X.Wide);break;case"MMMMM":e=ne(2,X.Narrow);break;case"LLL":e=ne(2,X.Abbreviated,Me.Standalone);break;case"LLLL":e=ne(2,X.Wide,Me.Standalone);break;case"LLLLL":e=ne(2,X.Narrow,Me.Standalone);break;case"w":e=cc(1);break;case"ww":e=cc(2);break;case"W":e=cc(1,!0);break;case"d":e=ve(2,1);break;case"dd":e=ve(2,2);break;case"c":case"cc":e=ve(7,1);break;case"ccc":e=ne(1,X.Abbreviated,Me.Standalone);break;case"cccc":e=ne(1,X.Wide,Me.Standalone);break;case"ccccc":e=ne(1,X.Narrow,Me.Standalone);break;case"cccccc":e=ne(1,X.Short,Me.Standalone);break;case"E":case"EE":case"EEE":e=ne(1,X.Abbreviated);break;case"EEEE":e=ne(1,X.Wide);break;case"EEEEE":e=ne(1,X.Narrow);break;case"EEEEEE":e=ne(1,X.Short);break;case"a":case"aa":case"aaa":e=ne(0,X.Abbreviated);break;case"aaaa":e=ne(0,X.Wide);break;case"aaaaa":e=ne(0,X.Narrow);break;case"b":case"bb":case"bbb":e=ne(0,X.Abbreviated,Me.Standalone,!0);break;case"bbbb":e=ne(0,X.Wide,Me.Standalone,!0);break;case"bbbbb":e=ne(0,X.Narrow,Me.Standalone,!0);break;case"B":case"BB":case"BBB":e=ne(0,X.Abbreviated,Me.Format,!0);break;case"BBBB":e=ne(0,X.Wide,Me.Format,!0);break;case"BBBBB":e=ne(0,X.Narrow,Me.Format,!0);break;case"h":e=ve(3,1,-12);break;case"hh":e=ve(3,2,-12);break;case"H":e=ve(3,1);break;case"HH":e=ve(3,2);break;case"m":e=ve(4,1);break;case"mm":e=ve(4,2);break;case"s":e=ve(5,1);break;case"ss":e=ve(5,2);break;case"S":e=ve(6,1);break;case"SS":e=ve(6,2);break;case"SSS":e=ve(6,3);break;case"Z":case"ZZ":case"ZZZ":e=as(0);break;case"ZZZZZ":e=as(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=as(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=as(2);break;default:return null}return dc[t]=e,e}function Ug(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function zC(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function JC(t,e,n){let r=t.getTimezoneOffset(),i=Ug(e,r);return zC(t,-1*(i-r))}function jC(t){if(Ag(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,i=1,s=1]=t.split("-").map(u=>+u);return cs(r,i-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let o;if(o=t.match(VC))return YC(o)}let e=new Date(t);if(!Ag(e))throw new N(2311,!1);return e}function YC(t){let e=new Date(0),n=0,o=0,r=t[8]?e.setUTCFullYear:e.setFullYear,i=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),o=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,u=Number(t[5]||0)-o,c=Number(t[6]||0),d=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return i.call(e,s,u,c,d),e}function Ag(t){return t instanceof Date&&!isNaN(t.valueOf())}var KC=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Mg=22,ds=".",hr="0",ZC=";",QC=",",fc="#";function XC(t,e,n,o,r,i,s=!1){let u="",c=!1;if(!isFinite(t))u=Pt(n,Le.Infinity);else{let d=nD(t);s&&(d=tD(d));let f=e.minInt,p=e.minFrac,h=e.maxFrac;if(i){let I=i.match(KC);if(I===null)throw new N(2306,!1);let T=I[1],A=I[3],M=I[5];T!=null&&(f=pc(T)),A!=null&&(p=pc(A)),M!=null?h=pc(M):A!=null&&p>h&&(h=p)}oD(d,p,h);let g=d.digits,m=d.integerLen,y=d.exponent,_=[];for(c=g.every(I=>!I);m<f;m++)g.unshift(0);for(;m<0;m++)g.unshift(0);m>0?_=g.splice(m,g.length):(_=g,g=[0]);let v=[];for(g.length>=e.lgSize&&v.unshift(g.splice(-e.lgSize,g.length).join(""));g.length>e.gSize;)v.unshift(g.splice(-e.gSize,g.length).join(""));g.length&&v.unshift(g.join("")),u=v.join(Pt(n,o)),_.length&&(u+=Pt(n,r)+_.join("")),y&&(u+=Pt(n,Le.Exponential)+"+"+y)}return t<0&&!c?u=e.negPre+u+e.negSuf:u=e.posPre+u+e.posSuf,u}function Hg(t,e,n){let o=Fg(e,hc.Decimal),r=eD(o,Pt(e,Le.MinusSign));return XC(t,r,e,Le.Group,Le.Decimal,n)}function eD(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},o=t.split(ZC),r=o[0],i=o[1],s=r.indexOf(ds)!==-1?r.split(ds):[r.substring(0,r.lastIndexOf(hr)+1),r.substring(r.lastIndexOf(hr)+1)],u=s[0],c=s[1]||"";n.posPre=u.substring(0,u.indexOf(fc));for(let f=0;f<c.length;f++){let p=c.charAt(f);p===hr?n.minFrac=n.maxFrac=f+1:p===fc?n.maxFrac=f+1:n.posSuf+=p}let d=u.split(QC);if(n.gSize=d[1]?d[1].length:0,n.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,i){let f=r.length-n.posPre.length-n.posSuf.length,p=i.indexOf(fc);n.negPre=i.substring(0,p).replace(/'/g,""),n.negSuf=i.slice(p+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function tD(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function nD(t){let e=Math.abs(t)+"",n=0,o,r,i,s,u;for((r=e.indexOf(ds))>-1&&(e=e.replace(ds,"")),(i=e.search(/e/i))>0?(r<0&&(r=i),r+=+e.slice(i+1),e=e.substring(0,i)):r<0&&(r=e.length),i=0;e.charAt(i)===hr;i++);if(i===(u=e.length))o=[0],r=1;else{for(u--;e.charAt(u)===hr;)u--;for(r-=i,o=[],s=0;i<=u;i++,s++)o[s]=Number(e.charAt(i))}return r>Mg&&(o=o.splice(0,Mg-1),n=r-1,r=1),{digits:o,exponent:n,integerLen:r}}function oD(t,e,n){if(e>n)throw new N(2307,!1);let o=t.digits,r=o.length-t.integerLen,i=Math.min(Math.max(e,r),n),s=i+t.integerLen,u=o[s];if(s>0){o.splice(Math.max(t.integerLen,s));for(let p=s;p<o.length;p++)o[p]=0}else{r=Math.max(0,r),t.integerLen=1,o.length=Math.max(1,s=i+1),o[0]=0;for(let p=1;p<s;p++)o[p]=0}if(u>=5)if(s-1<0){for(let p=0;p>s;p--)o.unshift(0),t.integerLen++;o.unshift(1),t.integerLen++}else o[s-1]++;for(;r<Math.max(0,i);r++)o.push(0);let c=i!==0,d=e+t.integerLen,f=o.reduceRight(function(p,h,g,m){return h=h+p,m[g]=h<10?h:h-10,c&&(m[g]===0&&g>=d?m.pop():c=!1),h>=10?1:0},0);f&&(o.unshift(f),t.integerLen++)}function pc(t){let e=parseInt(t);if(isNaN(e))throw new N(2305,!1);return e}function Gg(t,e){return new N(2100,!1)}var rD="mediumDate",$g=new L(""),qg=new L(""),gc=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,o,r){this.locale=n,this.defaultTimezone=o,this.defaultOptions=r}transform(n,o,r,i){if(n==null||n===""||n!==n)return null;try{let s=o??this.defaultOptions?.dateFormat??rD,u=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Vg(n,s,i||this.locale,u)}catch(s){throw Gg(t,s.message)}}static \u0275fac=function(o){return new(o||t)(Y(Co,16),Y($g,24),Y(qg,24))};static \u0275pipe=Xi({name:"date",type:t,pure:!0})}return t})();var $n=(()=>{class t{_locale;constructor(n){this._locale=n}transform(n,o,r){if(!iD(n))return null;r||=this._locale;try{let i=sD(n);return Hg(i,r,o)}catch(i){throw Gg(t,i.message)}}static \u0275fac=function(o){return new(o||t)(Y(Co,16))};static \u0275pipe=Xi({name:"number",type:t,pure:!0})}return t})();function iD(t){return!(t==null||t===""||t!==t)}function sD(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new N(2309,!1);return t}var Ft=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=Hn({type:t});static \u0275inj=Xt({})}return t})();function mc(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let o=n.indexOf("="),[r,i]=o==-1?[n,""]:[n.slice(0,o),n.slice(o+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}var gr=class{};var Wg="browser";var mr=class{_doc;constructor(e){this._doc=e}manager},fs=(()=>{class t extends mr{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,r,i){return n.addEventListener(o,r,i),()=>this.removeEventListener(n,o,r,i)}removeEventListener(n,o,r,i){return n.removeEventListener(o,r,i)}static \u0275fac=function(o){return new(o||t)(j(st))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),gs=new L(""),Cc=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,o){this._zone=o,n.forEach(s=>{s.manager=this});let r=n.filter(s=>!(s instanceof fs));this._plugins=r.slice().reverse();let i=n.find(s=>s instanceof fs);i&&this._plugins.push(i)}addEventListener(n,o,r,i){return this._findPluginFor(o).addEventListener(n,o,r,i)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(i=>i.supports(n)),!o)throw new N(5101,!1);return this._eventNameToPlugin.set(n,o),o}static \u0275fac=function(o){return new(o||t)(j(gs),j(Ge))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),vc="ng-app-id";function zg(t){for(let e of t)e.remove()}function Jg(t,e){let n=e.createElement("style");return n.textContent=t,n}function uD(t,e,n,o){let r=t.head?.querySelectorAll(`style[${vc}="${e}"],link[${vc}="${e}"]`);if(r)for(let i of r)i.removeAttribute(vc),i instanceof HTMLLinkElement?o.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function _c(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Dc=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,o,r,i={}){this.doc=n,this.appId=o,this.nonce=r,uD(n,o,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,o){for(let r of n)this.addUsage(r,this.inline,Jg);o?.forEach(r=>this.addUsage(r,this.external,_c))}removeStyles(n,o){for(let r of n)this.removeUsage(r,this.inline);o?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,o,r){let i=o.get(n);i?i.usage++:o.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(n,this.doc)))})}removeUsage(n,o){let r=o.get(n);r&&(r.usage--,r.usage<=0&&(zg(r.elements),o.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])zg(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[o,{elements:r}]of this.inline)r.push(this.addElement(n,Jg(o,this.doc)));for(let[o,{elements:r}]of this.external)r.push(this.addElement(n,_c(o,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,o){return this.nonce&&o.setAttribute("nonce",this.nonce),n.appendChild(o)}static \u0275fac=function(o){return new(o||t)(j(st),j(qi),j(zi,8),j(sr))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),Ec={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ic=/%COMP%/g;var Yg="%COMP%",lD=`_nghost-${Yg}`,cD=`_ngcontent-${Yg}`,dD=!0,fD=new L("",{factory:()=>dD});function pD(t){return cD.replace(Ic,t)}function hD(t){return lD.replace(Ic,t)}function Kg(t,e){return e.map(n=>n.replace(Ic,t))}var Tc=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,o,r,i,s,u,c=null,d=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=r,this.removeStylesOnCompDestroy=i,this.doc=s,this.ngZone=u,this.nonce=c,this.tracingService=d,this.defaultRenderer=new yr(n,s,u,this.tracingService)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;let r=this.getOrCreateRenderer(n,o);return r instanceof hs?r.applyToHost(n):r instanceof vr&&r.applyStyles(),r}getOrCreateRenderer(n,o){let r=this.rendererByCompId,i=r.get(o.id);if(!i){let s=this.doc,u=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.tracingService;switch(o.encapsulation){case ut.Emulated:i=new hs(c,d,o,this.appId,f,s,u,p);break;case ut.ShadowDom:return new ps(c,n,o,s,u,this.nonce,p,d);case ut.ExperimentalIsolatedShadowDom:return new ps(c,n,o,s,u,this.nonce,p);default:i=new vr(c,d,o,f,s,u,p);break}r.set(o.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(o){return new(o||t)(j(Cc),j(Dc),j(qi),j(fD),j(st),j(Ge),j(zi),j(Bn,8))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),yr=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,o,r){this.eventManager=e,this.doc=n,this.ngZone=o,this.tracingService=r}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Ec[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(jg(e)?e.content:e).appendChild(n)}insertBefore(e,n,o){e&&(jg(e)?e.content:e).insertBefore(n,o)}removeChild(e,n){n.remove()}selectRootElement(e,n){let o=typeof e=="string"?this.doc.querySelector(e):e;if(!o)throw new N(-5104,!1);return n||(o.textContent=""),o}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,o,r){if(r){n=r+":"+n;let i=Ec[r];i?e.setAttributeNS(i,n,o):e.setAttribute(n,o)}else e.setAttribute(n,o)}removeAttribute(e,n,o){if(o){let r=Ec[o];r?e.removeAttributeNS(r,n):e.removeAttribute(`${o}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,o,r){r&(wt.DashCase|wt.Important)?e.style.setProperty(n,o,r&wt.Important?"important":""):e.style[n]=o}removeStyle(e,n,o){o&wt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,o){e!=null&&(e[n]=o)}setValue(e,n){e.nodeValue=n}listen(e,n,o,r){if(typeof e=="string"&&(e=cn().getGlobalEventTarget(this.doc,e),!e))throw new N(5102,!1);let i=this.decoratePreventDefault(o);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,n,i)),this.eventManager.addEventListener(e,n,i,r)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function jg(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ps=class extends yr{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,o,r,i,s,u,c){super(e,r,i,u),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let d=o.styles;d=Kg(o.id,d);for(let p of d){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=p,this.shadowRoot.appendChild(h)}let f=o.getExternalStyles?.();if(f)for(let p of f){let h=_c(p,r);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,o){return super.insertBefore(this.nodeOrShadowRoot(e),n,o)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},vr=class extends yr{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,o,r,i,s,u,c){super(e,i,s,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r;let d=o.styles;this.styles=c?Kg(c,d):d,this.styleUrls=o.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ln.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},hs=class extends vr{contentAttr;hostAttr;constructor(e,n,o,r,i,s,u,c){let d=r+"-"+o.id;super(e,n,o,i,s,u,c,d),this.contentAttr=pD(d),this.hostAttr=hD(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let o=super.createElement(e,n);return super.setAttribute(o,this.contentAttr,""),o}};var ms=class t extends cr{supportsDOMEvents=!0;static makeCurrent(){uc(new t)}onAndCancel(e,n,o,r){return e.addEventListener(n,o,r),()=>{e.removeEventListener(n,o,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=gD();return n==null?null:mD(n)}resetBaseElement(){Er=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return mc(document.cookie,e)}},Er=null;function gD(){return Er=Er||document.head.querySelector("base"),Er?Er.getAttribute("href"):null}function mD(t){return new URL(t,document.baseURI).pathname}var yD=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(o){return new(o||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),Zg=["alt","control","meta","shift"],vD={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ED={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Qg=(()=>{class t extends mr{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,o,r,i){let s=t.parseEventName(o),u=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cn().onAndCancel(n,s.domEventName,u,i))}static parseEventName(n){let o=n.toLowerCase().split("."),r=o.shift();if(o.length===0||!(r==="keydown"||r==="keyup"))return null;let i=t._normalizeKey(o.pop()),s="",u=o.indexOf("code");if(u>-1&&(o.splice(u,1),s="code."),Zg.forEach(d=>{let f=o.indexOf(d);f>-1&&(o.splice(f,1),s+=d+".")}),s+=i,o.length!=0||i.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(n,o){let r=vD[n.key]||n.key,i="";return o.indexOf("code.")>-1&&(r=n.code,i="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Zg.forEach(s=>{if(s!==r){let u=ED[s];u(n)&&(i+=s+".")}}),i+=r,i===o)}static eventCallback(n,o,r){return i=>{t.matchEventFullKeyCode(i,n)&&r.runGuarded(()=>o(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(o){return new(o||t)(j(st))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})();async function Sc(t,e,n){let o=J({rootComponent:t},_D(e,n));return Tg(o)}function _D(t,e){return{platformRef:e?.platformRef,appProviders:[...SD,...t?.providers??[]],platformProviders:TD}}function CD(){ms.makeCurrent()}function DD(){return new Et}function ID(){return Rl(document),document}var TD=[{provide:sr,useValue:Wg},{provide:Wi,useValue:CD,multi:!0},{provide:st,useFactory:ID}];var SD=[{provide:qo,useValue:"root"},{provide:Et,useFactory:DD},{provide:gs,useClass:fs,multi:!0},{provide:gs,useClass:Qg,multi:!0},Tc,Dc,Cc,{provide:On,useExisting:Tc},{provide:gr,useClass:yD},[]];var dn=class t{constructor(){this.orders=ae([{id:"REQ-1094",client:"\u041F\u0410\u041E \u0413\u0430\u0437\u043F\u0440\u043E\u043C (\u0422\u0440\u0430\u043D\u0441\u0444\u0435\u0440)",route:"\u041F\u0443\u043B\u043A\u043E\u0432\u043E -> \u041B\u0430\u0445\u0442\u0430 \u0426\u0435\u043D\u0442\u0440",date:"2024-05-20 10:00",status:"Completed",price:18500,driver:"\u0410\u043B\u0435\u043A\u0441\u0435\u0439 \u0421.",vehicle:"Mercedes Sprinter (\u0410001\u0410\u0410)",aiNotes:"\u0420\u0435\u0439\u0441 \u0448\u0442\u0430\u0442\u043D\u044B\u0439. \u041F\u0440\u043E\u0441\u0442\u043E\u0439 15 \u043C\u0438\u043D \u0432 \u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0438 \u0434\u0435\u043B\u0435\u0433\u0430\u0446\u0438\u0438."},{id:"REQ-1095",client:"\u0421\u0432\u0430\u0434\u044C\u0431\u0430 (\u0421\u043C\u0438\u0440\u043D\u043E\u0432\u044B)",route:'\u0417\u0410\u0413\u0421 \u21161 -> \u0420\u0435\u0441\u0442\u043E\u0440\u0430\u043D "\u041F\u0430\u0440\u0443\u0441\u0430"',date:"2024-05-21 14:00",status:"Assigned",price:24e3,driver:"\u0414\u043C\u0438\u0442\u0440\u0438\u0439 \u041A.",vehicle:"Yutong 6122 (\u0412555\u041E\u0420)"},{id:"REQ-1096",client:'\u0428\u043A\u043E\u043B\u0430 "\u0412\u0437\u043C\u0430\u0445"',route:"\u0428\u043A\u043E\u043B\u0430 -> \u041C\u0443\u0437\u0435\u0439 \u0420\u0416\u0414",date:"2024-05-22 09:00",status:"New",price:12e3},{id:"REQ-1097",client:"\u0420\u0430\u0437\u0432\u043E\u0437\u043A\u0430 \u0441\u043C\u0435\u043D\u044B (\u0417\u0430\u0432\u043E\u0434)",route:"\u0417\u0430\u0432\u043E\u0434 Toyota -> \u041C. \u0428\u0443\u0448\u0430\u0440\u044B",date:"2024-05-22 23:30",status:"New",price:9500}]);this.drivers=ae(["\u0410\u043B\u0435\u043A\u0441\u0435\u0439 \u0421.","\u0414\u043C\u0438\u0442\u0440\u0438\u0439 \u041A.","\u0418\u0432\u0430\u043D \u041F.","\u0421\u0435\u0440\u0433\u0435\u0439 \u0412.","\u041E\u043B\u044C\u0433\u0430 \u041C."]);this.vehicles=ae(["Mercedes Sprinter (\u0410001\u0410\u0410)","Yutong 6122 (\u0412555\u041E\u0420)","Ford Transit (\u041A321\u041C\u041C)","Higer (\u0415123\u041A\u0425)"]);this.activeOrdersCount=xt(()=>this.orders().filter(e=>e.status==="Assigned"||e.status==="New").length);this.completedRevenue=xt(()=>this.orders().filter(e=>e.status==="Completed").reduce((e,n)=>e+n.price,0))}addOrder(e){this.orders.update(n=>[e,...n])}updateOrderStatus(e,n,o){this.orders.update(r=>r.map(i=>i.id===e?oe(J({},i),{status:n,driver:o||i.driver}):i))}updateOrderStatusWithVehicle(e,n,o,r){this.orders.update(i=>i.map(s=>s.id===e?oe(J({},s),{status:n,driver:o,vehicle:r}):s))}updateOrderNotes(e,n){this.orders.update(o=>o.map(r=>r.id===e?oe(J({},r),{aiNotes:n}):r))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}};var ys=class t{constructor(){this.store=F(dn)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=Gt({type:t,selectors:[["app-dashboard"]],decls:65,vars:4,consts:[[1,"grid","grid-cols-1","md:grid-cols-3","gap-6","mb-8"],[1,"bg-white","p-6","rounded-xl","shadow-sm","border","border-gray-100","relative","overflow-hidden"],[1,"absolute","right-0","top-0","p-4","opacity-10"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-16","w-16","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"text-sm","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"text-3xl","font-bold","text-gray-900","mt-2"],[1,"text-xs","text-green-600","bg-green-50","px-2","py-1","rounded-full","mt-2","inline-block"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-16","w-16","text-emerald-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-xs","text-blue-600","bg-blue-50","px-2","py-1","rounded-full","mt-2","inline-block"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-16","w-16","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 10V3L4 14h7v7l9-11h-7z"],[1,"w-full","bg-gray-200","rounded-full","h-2.5","mt-2"],[1,"bg-purple-600","h-2.5","rounded-full",2,"width","28%"],[1,"text-xs","text-purple-600","mt-2","inline-block"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","p-6"],[1,"text-lg","font-bold","text-gray-900","mb-4"],[1,"space-y-4"],[1,"flex","items-center"],[1,"flex-shrink-0","h-8","w-8","rounded-full","bg-green-100","flex","items-center","justify-center","text-green-600"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],[1,"ml-4","flex-1"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"flex-shrink-0","h-8","w-8","rounded-full","bg-blue-100","flex","items-center","justify-center","text-blue-600","animate-pulse"],[1,"font-bold","text-xs"],[1,"flex","items-center","opacity-60"],[1,"flex-shrink-0","h-8","w-8","rounded-full","bg-gray-100","flex","items-center","justify-center","text-gray-400"]],template:function(n,o){n&1&&(q(0,"div",0)(1,"div",1)(2,"div",2),de(),q(3,"svg",3),un(4,"path",4),te()(),_e(),q(5,"h3",5),D(6,"\u0417\u0430\u043A\u0430\u0437\u044B \u0432 \u0440\u0430\u0431\u043E\u0442\u0435"),te(),q(7,"p",6),D(8),te(),q(9,"span",7),D(10,"\u0421\u0442\u0430\u0442\u0443\u0441: \u0428\u0442\u0430\u0442\u043D\u044B\u0439 \u0440\u0435\u0436\u0438\u043C"),te()(),q(11,"div",1)(12,"div",2),de(),q(13,"svg",8),un(14,"path",9),te()(),_e(),q(15,"h3",5),D(16,"\u0412\u044B\u0440\u0443\u0447\u043A\u0430 (\u041D\u0435\u0434\u0435\u043B\u044F)"),te(),q(17,"p",6),D(18),ln(19,"number"),te(),q(20,"span",10),D(21,"\u0414\u0438\u043D\u0430\u043C\u0438\u043A\u0430: +15% \u043A \u043F\u043B\u0430\u043D\u0443"),te()(),q(22,"div",1)(23,"div",2),de(),q(24,"svg",11),un(25,"path",12),te()(),_e(),q(26,"h3",5),D(27,"\u0423\u0440\u043E\u0432\u0435\u043D\u044C \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u0438"),te(),q(28,"p",6),D(29,"28%"),te(),q(30,"div",13),un(31,"div",14),te(),q(32,"span",15),D(33,"\u0426\u0435\u043B\u044C: \u0412\u043D\u0435\u0434\u0440\u0435\u043D\u0438\u0435 \u0430\u0432\u0442\u043E-\u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u043E\u043E\u0431\u043E\u0440\u043E\u0442\u0430"),te()()(),q(34,"div",16)(35,"h3",17),D(36,"\u041F\u043B\u0430\u043D \u0446\u0438\u0444\u0440\u043E\u0432\u043E\u0439 \u0442\u0440\u0430\u043D\u0441\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u0438"),te(),q(37,"div",18)(38,"div",19)(39,"div",20),de(),q(40,"svg",21),un(41,"path",22),te()(),_e(),q(42,"div",23)(43,"p",24),D(44,"\u042D\u0442\u0430\u043F 1: \u0415\u0434\u0438\u043D\u0430\u044F \u0431\u0430\u0437\u0430 \u0437\u0430\u043A\u0430\u0437\u043E\u0432"),te(),q(45,"p",25),D(46,"\u0420\u0435\u0430\u043B\u0438\u0437\u043E\u0432\u0430\u043D\u043E. \u041E\u0442\u043A\u0430\u0437 \u043E\u0442 Excel, \u043F\u0440\u043E\u0437\u0440\u0430\u0447\u043D\u044B\u0439 \u0443\u0447\u0435\u0442 \u0440\u0435\u0439\u0441\u043E\u0432, \u0441\u0442\u0430\u0442\u0443\u0441\u044B \u0432 \u0440\u0435\u0430\u043B\u044C\u043D\u043E\u043C \u0432\u0440\u0435\u043C\u0435\u043D\u0438."),te()()(),q(47,"div",19)(48,"div",26)(49,"span",27),D(50,"AI"),te()(),q(51,"div",23)(52,"p",24),D(53,"\u042D\u0442\u0430\u043F 2: \u0423\u043C\u043D\u043E\u0435 \u0446\u0435\u043D\u043E\u043E\u0431\u0440\u0430\u0437\u043E\u0432\u0430\u043D\u0438\u0435"),te(),q(54,"p",25),D(55,"\u0410\u043A\u0442\u0438\u0432\u043D\u043E. \u0410\u043B\u0433\u043E\u0440\u0438\u0442\u043C \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u044B\u0432\u0430\u0435\u0442 \u0440\u0435\u043D\u0442\u0430\u0431\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C \u0441 \u0443\u0447\u0435\u0442\u043E\u043C \u043F\u0440\u043E\u0431\u043E\u043A, \u043F\u043E\u0433\u043E\u0434\u044B \u0438 \u0441\u0440\u043E\u0447\u043D\u043E\u0441\u0442\u0438."),te()()(),q(56,"div",28)(57,"div",29)(58,"span",27),D(59,"5"),te()(),q(60,"div",23)(61,"p",24),D(62,'\u042D\u0442\u0430\u043F 3: \u041E\u0446\u0438\u0444\u0440\u043E\u0432\u043A\u0430 "\u0433\u043E\u043B\u043E\u0441\u0430" (Human API)'),te(),q(63,"p",25),D(64,"\u041F\u0438\u043B\u043E\u0442\u043D\u044B\u0439 \u043F\u0440\u043E\u0435\u043A\u0442. \u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u0435 \u043E\u0442\u0447\u0435\u0442\u043E\u0432 \u0438\u0437 \u0433\u043E\u043B\u043E\u0441\u043E\u0432\u044B\u0445 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u0432\u043E\u0434\u0438\u0442\u0435\u043B\u0435\u0439."),te()()()()()),n&2&&(w(8),Nt(o.store.activeOrdersCount()),w(10),pe("\u20BD",Gn(19,2,o.store.completedRevenue())))},dependencies:[Ft,$n],encapsulation:2})}};var um=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,o){this._renderer=n,this._elementRef=o}setProperty(n,o){this._renderer.setProperty(this._elementRef.nativeElement,n,o)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(o){return new(o||t)(Y(Un),Y(sn))};static \u0275dir=Ae({type:t})}return t})(),Ds=(()=>{class t extends um{static \u0275fac=(()=>{let n;return function(r){return(n||(n=rn(t)))(r||t)}})();static \u0275dir=Ae({type:t,features:[Ze]})}return t})(),Sr=new L("");var wD={provide:Sr,useExisting:je(()=>To),multi:!0};function AD(){let t=cn()?cn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var MD=new L(""),To=(()=>{class t extends um{_compositionMode;_composing=!1;constructor(n,o,r){super(n,o),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!AD())}writeValue(n){let o=n??"";this.setProperty("value",o)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(o){return new(o||t)(Y(Un),Y(sn),Y(MD,8))};static \u0275dir=Ae({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(o,r){o&1&&K("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[qt([wD]),Ze]})}return t})();var xc=new L(""),bD=new L("");function ND(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function xD(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function Xg(t){return null}function lm(t){return t!=null}function cm(t){return Eo(t)?Ha(t):t}function dm(t){let e={};return t.forEach(n=>{e=n!=null?J(J({},e),n):e}),Object.keys(e).length===0?null:e}function fm(t,e){return e.map(n=>n(t))}function RD(t){return!t.validate}function pm(t){return t.map(e=>RD(e)?e:n=>e.validate(n))}function PD(t){if(!t)return null;let e=t.filter(lm);return e.length==0?null:function(n){return dm(fm(n,e))}}function hm(t){return t!=null?PD(pm(t)):null}function FD(t){if(!t)return null;let e=t.filter(lm);return e.length==0?null:function(n){let o=fm(n,e).map(cm);return Ga(o).pipe(yn(dm))}}function gm(t){return t!=null?FD(pm(t)):null}function em(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function kD(t){return t._rawValidators}function LD(t){return t._rawAsyncValidators}function wc(t){return t?Array.isArray(t)?t:[t]:[]}function Es(t,e){return Array.isArray(t)?t.includes(e):t===e}function tm(t,e){let n=wc(e);return wc(t).forEach(r=>{Es(n,r)||n.push(r)}),n}function nm(t,e){return wc(e).filter(n=>!Es(t,n))}var _s=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ac=class extends _s{name;get formDirective(){return null}get path(){return null}},Tr=class extends _s{_parent=null;name=null;valueAccessor=null},Mc=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var Is=(()=>{class t extends Mc{constructor(n){super(n)}static \u0275fac=function(o){return new(o||t)(Y(Tr,2))};static \u0275dir=Ae({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(o,r){o&2&&bt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Ze]})}return t})();var _r="VALID",vs="INVALID",Do="PENDING",Cr="DISABLED",qn=class{},Cs=class extends qn{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Dr=class extends qn{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Ir=class extends qn{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Io=class extends qn{status;source;constructor(e,n){super(),this.status=e,this.source=n}};var bc=class extends qn{source;constructor(e){super(),this.source=e}};function OD(t){return(Ts(t)?t.validators:t)||null}function VD(t){return Array.isArray(t)?hm(t):t||null}function BD(t,e){return(Ts(e)?e.asyncValidators:t)||null}function UD(t){return Array.isArray(t)?gm(t):t||null}function Ts(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Nc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Tt(this.statusReactive)}set status(e){Tt(()=>this.statusReactive.set(e))}_status=xt(()=>this.statusReactive());statusReactive=ae(void 0);get valid(){return this.status===_r}get invalid(){return this.status===vs}get pending(){return this.status==Do}get disabled(){return this.status===Cr}get enabled(){return this.status!==Cr}errors;get pristine(){return Tt(this.pristineReactive)}set pristine(e){Tt(()=>this.pristineReactive.set(e))}_pristine=xt(()=>this.pristineReactive());pristineReactive=ae(!0);get dirty(){return!this.pristine}get touched(){return Tt(this.touchedReactive)}set touched(e){Tt(()=>this.touchedReactive.set(e))}_touched=xt(()=>this.touchedReactive());touchedReactive=ae(!1);get untouched(){return!this.touched}_events=new mt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(tm(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(tm(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(nm(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(nm(e,this._rawAsyncValidators))}hasValidator(e){return Es(this._rawValidators,e)}hasAsyncValidator(e){return Es(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let o=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(oe(J({},e),{sourceControl:o})),n&&e.emitEvent!==!1&&this._events.next(new Ir(!0,o))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let o=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:o})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,o),n&&e.emitEvent!==!1&&this._events.next(new Ir(!1,o))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let o=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(oe(J({},e),{sourceControl:o})),n&&e.emitEvent!==!1&&this._events.next(new Dr(!1,o))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let o=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,o),n&&e.emitEvent!==!1&&this._events.next(new Dr(!0,o))}markAsPending(e={}){this.status=Do;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Io(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(oe(J({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Cr,this.errors=null,this._forEachChild(r=>{r.disable(oe(J({},e),{onlySelf:!0}))}),this._updateValue();let o=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cs(this.value,o)),this._events.next(new Io(this.status,o)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(oe(J({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=_r,this._forEachChild(o=>{o.enable(oe(J({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(oe(J({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let o=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_r||this.status===Do)&&this._runAsyncValidator(o,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cs(this.value,n)),this._events.next(new Io(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(oe(J({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cr:_r}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Do,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let o=cm(this.asyncValidator(this));this._asyncValidationSubscription=o.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((o,r)=>o&&o._find(r),this)}getError(e,n){let o=n?this.get(n):this;return o&&o.errors?o.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,o){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||o)&&this._events.next(new Io(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,o)}_initObservables(){this.valueChanges=new Ue,this.statusChanges=new Ue}_calculateStatus(){return this._allControlsDisabled()?Cr:this.errors?vs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Do)?Do:this._anyControlsHaveStatus(vs)?vs:_r}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let o=!this._anyControlsDirty(),r=this.pristine!==o;this.pristine=o,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&this._events.next(new Dr(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ir(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ts(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=VD(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=UD(this._rawAsyncValidators)}};var mm=new L("",{factory:()=>Rc}),Rc="always";function HD(t,e){return[...e.path,t]}function GD(t,e,n=Rc){qD(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),WD(t,e),JD(t,e),zD(t,e),$D(t,e)}function om(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function $D(t,e){if(e.valueAccessor.setDisabledState){let n=o=>{e.valueAccessor.setDisabledState(o)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function qD(t,e){let n=kD(t);e.validator!==null?t.setValidators(em(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let o=LD(t);e.asyncValidator!==null?t.setAsyncValidators(em(o,e.asyncValidator)):typeof o=="function"&&t.setAsyncValidators([o]);let r=()=>t.updateValueAndValidity();om(e._rawValidators,r),om(e._rawAsyncValidators,r)}function WD(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&ym(t,e)})}function zD(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&ym(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function ym(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function JD(t,e){let n=(o,r)=>{e.valueAccessor.writeValue(o),r&&e.viewToModelUpdate(o)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function jD(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function YD(t){return Object.getPrototypeOf(t.constructor)===Ds}function KD(t,e){if(!e)return null;Array.isArray(e);let n,o,r;return e.forEach(i=>{i.constructor===To?n=i:YD(i)?o=i:r=i}),r||o||n||null}function rm(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function im(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ZD=class extends Nc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,o){super(OD(n),BD(o,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ts(n)&&(n.nonNullable||n.initialValueIsDefault)&&(im(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(o=>o(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new bc(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){rm(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){rm(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){im(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var QD={provide:Tr,useExisting:je(()=>wr)},sm=Promise.resolve(),wr=(()=>{class t extends Tr{_changeDetectorRef;callSetDisabledState;control=new ZD;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ue;constructor(n,o,r,i,s,u){super(),this._changeDetectorRef=s,this.callSetDisabledState=u,this._parent=n,this._setValidators(o),this._setAsyncValidators(r),this.valueAccessor=KD(this,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let o=n.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),jD(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){GD(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){sm.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let o=n.isDisabled.currentValue,r=o!==0&&Sg(o);sm.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?HD(n,this._parent):[n]}static \u0275fac=function(o){return new(o||t)(Y(Ac,9),Y(xc,10),Y(bD,10),Y(Sr,10),Y(rs,8),Y(mm,8))};static \u0275dir=Ae({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[qt([QD]),Ze,ir]})}return t})();var XD={provide:Sr,useExisting:je(()=>Ar),multi:!0},Ar=(()=>{class t extends Ds{writeValue(n){let o=n??"";this.setProperty("value",o)}registerOnChange(n){this.onChange=o=>{n(o==""?null:parseFloat(o))}}static \u0275fac=(()=>{let n;return function(r){return(n||(n=rn(t)))(r||t)}})();static \u0275dir=Ae({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(o,r){o&1&&K("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[qt([XD]),Ze]})}return t})();var eI={provide:Sr,useExisting:je(()=>So),multi:!0};function vm(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function tI(t){return t.split(":")[0]}var So=(()=>{class t extends Ds{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=F(_o).injector;destroyRef=F(Pn);cdr=F(rs);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Bl({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let o=this._getOptionId(n),r=vm(o,n);this.setProperty("value",r)}registerOnChange(n){this.onChange=o=>{this.value=this._getOptionValue(o),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let o of this._optionMap.keys())if(this._compareWith(this._optionMap.get(o),n))return o;return null}_getOptionValue(n){let o=tI(n);return this._optionMap.has(o)?this._optionMap.get(o):n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=rn(t)))(r||t)}})();static \u0275dir=Ae({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(o,r){o&1&&K("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[qt([eI]),Ze]})}return t})(),Ss=(()=>{class t{_element;_renderer;_select;id;constructor(n,o,r){this._element=n,this._renderer=o,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(vm(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(o){return new(o||t)(Y(sn),Y(Un),Y(So,9))};static \u0275dir=Ae({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),nI={provide:Sr,useExisting:je(()=>Em),multi:!0};function am(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function oI(t){return t.split(":")[0]}var Em=(()=>{class t extends Ds{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let o;if(Array.isArray(n)){let r=n.map(i=>this._getOptionId(i));o=(i,s)=>{i._setSelected(r.indexOf(s.toString())>-1)}}else o=(r,i)=>{r._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(n){this.onChange=o=>{let r=[],i=o.selectedOptions;if(i!==void 0){let s=i;for(let u=0;u<s.length;u++){let c=s[u],d=this._getOptionValue(c.value);r.push(d)}}else{let s=o.options;for(let u=0;u<s.length;u++){let c=s[u];if(c.selected){let d=this._getOptionValue(c.value);r.push(d)}}}this.value=r,n(r)}}_registerOption(n){let o=(this._idCounter++).toString();return this._optionMap.set(o,n),o}_getOptionId(n){for(let o of this._optionMap.keys())if(this._compareWith(this._optionMap.get(o)._value,n))return o;return null}_getOptionValue(n){let o=oI(n);return this._optionMap.has(o)?this._optionMap.get(o)._value:n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=rn(t)))(r||t)}})();static \u0275dir=Ae({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(o,r){o&1&&K("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[qt([nI]),Ze]})}return t})(),ws=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,o,r){this._element=n,this._renderer=o,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(am(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(am(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(o){return new(o||t)(Y(sn),Y(Un),Y(Em,9))};static \u0275dir=Ae({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function _m(t){return typeof t=="number"?t:parseFloat(t)}var Cm=(()=>{class t{_validator=Xg;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let o=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):Xg,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(o){return new(o||t)};static \u0275dir=Ae({type:t,features:[ir]})}return t})(),rI={provide:xc,useExisting:je(()=>Pc),multi:!0},Pc=(()=>{class t extends Cm{max;inputName="max";normalizeInput=n=>_m(n);createValidator=n=>xD(n);static \u0275fac=(()=>{let n;return function(r){return(n||(n=rn(t)))(r||t)}})();static \u0275dir=Ae({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(o,r){o&2&&ar("max",r._enabled?r.max:null)},inputs:{max:"max"},standalone:!1,features:[qt([rI]),Ze]})}return t})(),iI={provide:xc,useExisting:je(()=>Fc),multi:!0},Fc=(()=>{class t extends Cm{min;inputName="min";normalizeInput=n=>_m(n);createValidator=n=>ND(n);static \u0275fac=(()=>{let n;return function(r){return(n||(n=rn(t)))(r||t)}})();static \u0275dir=Ae({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(o,r){o&2&&ar("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[qt([iI]),Ze]})}return t})();var sI=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=Hn({type:t});static \u0275inj=Xt({})}return t})();var As=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:mm,useValue:n.callSetDisabledState??Rc}]}}static \u0275fac=function(o){return new(o||t)};static \u0275mod=Hn({type:t});static \u0275inj=Xt({imports:[sI]})}return t})();var aI=(t,e)=>e.id;function uI(t,e){if(t&1){let n=$t();C(0,"div",7)(1,"div",24)(2,"div")(3,"label",9),D(4,"\u041A\u043E\u043D\u0442\u0440\u0430\u0433\u0435\u043D\u0442"),E(),C(5,"input",25),Je("ngModelChange",function(r){Ie(n);let i=Q();return Qe(i.newOrder.client,r)||(i.newOrder.client=r),Te(r)}),E()(),C(6,"div")(7,"label",9),D(8,"\u041C\u0430\u0440\u0448\u0440\u0443\u0442"),E(),C(9,"input",26),Je("ngModelChange",function(r){Ie(n);let i=Q();return Qe(i.newOrder.route,r)||(i.newOrder.route=r),Te(r)}),E()(),C(10,"div")(11,"label",9),D(12,"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F \u043F\u043E\u0434\u0430\u0447\u0438"),E(),C(13,"input",27),Je("ngModelChange",function(r){Ie(n);let i=Q();return Qe(i.newOrder.date,r)||(i.newOrder.date=r),Te(r)}),E()(),C(14,"div")(15,"label",9),D(16,"\u0421\u0442\u043E\u0438\u043C\u043E\u0441\u0442\u044C (\u20BD)"),E(),C(17,"input",28),Je("ngModelChange",function(r){Ie(n);let i=Q();return Qe(i.newOrder.price,r)||(i.newOrder.price=r),Te(r)}),E()()(),C(18,"div",29)(19,"button",30),K("click",function(){Ie(n);let r=Q();return Te(r.toggleNewOrder())}),D(20,"\u041E\u0442\u043C\u0435\u043D\u0430"),E(),C(21,"button",31),K("click",function(){Ie(n);let r=Q();return Te(r.saveOrder())}),D(22,"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044C \u0437\u0430\u044F\u0432\u043A\u0443"),E()()()}if(t&2){let n=Q();w(5),ze("ngModel",n.newOrder.client),w(4),ze("ngModel",n.newOrder.route),w(4),ze("ngModel",n.newOrder.date),w(4),ze("ngModel",n.newOrder.price)}}function lI(t,e){if(t&1){let n=$t();C(0,"button",32),K("click",function(){Ie(n);let r=Q();return Te(r.resetFilters())}),D(1," \u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440\u044B "),E()}}function cI(t,e){if(t&1&&(C(0,"div",39)(1,"span",46),de(),C(2,"svg",47),fe(3,"path",48),E(),D(4," AI \u041E\u0442\u0447\u0435\u0442: "),E(),D(5),E()),t&2){let n=Q().$implicit;w(5),pe(" ",n.aiNotes," ")}}function dI(t,e){t&1&&D(0," \u0412 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0435 ")}function fI(t,e){t&1&&D(0," \u041D\u0430 \u043B\u0438\u043D\u0438\u0438 ")}function pI(t,e){t&1&&D(0," \u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043D ")}function hI(t,e){if(t&1&&D(0),t&2){let n=Q().$implicit;pe(" ",n.status," ")}}function gI(t,e){if(t&1&&(C(0,"div",42)(1,"div",49),D(2),E(),C(3,"div")(4,"div",50),D(5),E(),C(6,"div",51),D(7),E()()()),t&2){let n=Q().$implicit;w(2),pe(" ",n.driver.charAt(0)," "),w(3),Nt(n.driver),w(2),Nt(n.vehicle||"\u0422\u0421 \u043D\u0430\u0437\u043D\u0430\u0447\u0435\u043D\u043E")}}function mI(t,e){t&1&&(C(0,"span",43),D(1,"-- \u043D\u0435\u0442 \u0434\u0430\u043D\u043D\u044B\u0445 --"),E())}function yI(t,e){if(t&1&&(C(0,"option",56),D(1),E()),t&2){let n=e.$implicit;lt("value",n),w(),pe("",n," (\u0421\u0432\u043E\u0431\u043E\u0434\u0435\u043D)")}}function vI(t,e){if(t&1){let n=$t();C(0,"div",52)(1,"select",54),K("ngModelChange",function(r){Ie(n);let i=Q(3);return Te(i.selectedDriver.set(r))}),C(2,"option",55),D(3,"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u043E\u0434\u0438\u0442\u0435\u043B\u044F"),E(),es(4,yI,2,2,"option",56,oc),E(),C(6,"div",57)(7,"button",58),K("click",function(){Ie(n);let r=Q(2).$implicit,i=Q();return Te(i.confirmAssignment(r.id))}),D(8,"\u041E\u041A"),E(),C(9,"button",59),K("click",function(){Ie(n);let r=Q(3);return Te(r.cancelAssignment())}),D(10,"\u041E\u0442\u043C\u0435\u043D\u0430"),E()()()}if(t&2){let n=Q(3);w(),lt("ngModel",n.selectedDriver()),w(3),ts(n.store.drivers()),w(3),lt("disabled",!n.selectedDriver())}}function EI(t,e){if(t&1){let n=$t();C(0,"button",60),K("click",function(){Ie(n);let r=Q(2).$implicit,i=Q();return Te(i.startAssignment(r.id))}),D(1," \u041D\u0430\u0437\u043D\u0430\u0447\u0438\u0442\u044C "),E()}}function _I(t,e){if(t&1&&me(0,vI,11,2,"div",52)(1,EI,2,0,"button",53),t&2){let n=Q().$implicit,o=Q();ye(o.assigningOrderId()===n.id?0:1)}}function CI(t,e){if(t&1){let n=$t();C(0,"button",61),K("click",function(){Ie(n);let r=Q().$implicit,i=Q();return Te(i.completeOrder(r.id))}),D(1," \u0417\u0430\u043A\u0440\u044B\u0442\u044C \u043F\u0443\u0442\u0435\u0432\u043E\u0439 "),E()}}function DI(t,e){if(t&1&&(C(0,"tr",23)(1,"td",33),D(2),E(),C(3,"td",20)(4,"div",34),D(5),E(),C(6,"div",35),de(),C(7,"svg",36),fe(8,"path",37)(9,"path",38),E(),D(10),E(),me(11,cI,6,1,"div",39),E(),_e(),C(12,"td",40),D(13),ln(14,"date"),E(),C(15,"td",20)(16,"span",41),me(17,dI,1,0)(18,fI,1,0)(19,pI,1,0)(20,hI,1,1),E()(),C(21,"td",20),me(22,gI,8,3,"div",42)(23,mI,2,0,"span",43),E(),C(24,"td",44),D(25),ln(26,"number"),E(),C(27,"td",20),me(28,_I,2,1)(29,CI,2,0,"button",45),E()()),t&2){let n,o=e.$implicit;w(2),Nt(o.id),w(3),Nt(o.client),w(5),pe(" ",o.route," "),w(),ye(o.aiNotes?11:-1),w(2),Nt(rc(14,27,o.date,"dd.MM.yyyy HH:mm")),w(3),bt("bg-yellow-50",o.status==="New")("text-yellow-700",o.status==="New")("border-yellow-200",o.status==="New")("bg-blue-50",o.status==="Assigned")("text-blue-700",o.status==="Assigned")("border-blue-200",o.status==="Assigned")("bg-green-50",o.status==="Completed")("text-green-700",o.status==="Completed")("border-green-200",o.status==="Completed"),w(),ye((n=o.status)==="New"?17:n==="Assigned"?18:n==="Completed"?19:20),w(5),ye(o.driver?22:23),w(3),pe("\u20BD",Gn(26,30,o.price)),w(3),ye(o.status==="New"?28:o.status==="Assigned"?29:-1)}}function II(t,e){t&1&&(C(0,"tr")(1,"td",62)(2,"div",63),de(),C(3,"svg",64),fe(4,"path",65),E(),_e(),C(5,"span"),D(6,"\u041F\u043E \u0432\u0430\u0448\u0435\u043C\u0443 \u0437\u0430\u043F\u0440\u043E\u0441\u0443 \u043D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E"),E()()()())}var Ms=class t{constructor(){this.store=F(dn);this.showNewOrder=!1;this.assigningOrderId=ae(null);this.selectedDriver=ae("");this.filterStatus=ae("");this.filterDate=ae("");this.filteredOrders=xt(()=>{let e=this.store.orders(),n=this.filterStatus(),o=this.filterDate();return e.filter(r=>{let i=n?r.status===n:!0,s=o?r.date.startsWith(o):!0;return i&&s})});this.newOrder={client:"",route:"",date:"",price:0}}toggleNewOrder(){this.showNewOrder=!this.showNewOrder}saveOrder(){if(!this.newOrder.client||!this.newOrder.price)return;let e={id:`REQ-${Math.floor(Math.random()*1e4)}`,client:this.newOrder.client,route:this.newOrder.route||"\u041F\u043E \u0433\u043E\u0440\u043E\u0434\u0443",date:this.newOrder.date||new Date().toISOString(),status:"New",price:Number(this.newOrder.price)};this.store.addOrder(e),this.toggleNewOrder(),this.newOrder={client:"",route:"",date:"",price:0}}startAssignment(e){this.assigningOrderId.set(e),this.selectedDriver.set("")}cancelAssignment(){this.assigningOrderId.set(null),this.selectedDriver.set("")}confirmAssignment(e){if(!this.selectedDriver())return;let n=this.store.vehicles()[Math.floor(Math.random()*this.store.vehicles().length)];this.store.updateOrderStatusWithVehicle(e,"Assigned",this.selectedDriver(),n),this.cancelAssignment()}completeOrder(e){this.store.updateOrderStatus(e,"Completed")}resetFilters(){this.filterStatus.set(""),this.filterDate.set("")}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=Gt({type:t,selectors:[["app-orders"]],decls:52,vars:5,consts:[[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","overflow-hidden"],[1,"p-6","border-b","border-gray-100","flex","justify-between","items-center","bg-gray-50"],[1,"text-xl","font-bold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded-lg","text-sm","font-medium","transition-colors","shadow-sm","flex","items-center","gap-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"p-6","bg-blue-50","border-b","border-blue-100","animate-in","slide-in-from-top-2","duration-200"],[1,"p-4","border-b","border-gray-100","bg-white","flex","flex-wrap","gap-4","items-end"],[1,"block","text-xs","font-medium","text-gray-500","mb-1"],[1,"w-40","p-2","border","border-gray-300","rounded-md","text-sm","focus:ring-2","focus:ring-blue-500","outline-none","bg-gray-50",3,"ngModelChange","ngModel"],["value",""],["value","New"],["value","Assigned"],["value","Completed"],["type","date",1,"p-2","border","border-gray-300","rounded-md","text-sm","focus:ring-2","focus:ring-blue-500","outline-none","bg-gray-50",3,"ngModelChange","ngModel"],[1,"text-xs","text-red-600","hover:text-red-800","underline","pb-2"],[1,"overflow-x-auto"],[1,"w-full","text-left","text-sm"],[1,"bg-gray-50","text-gray-600","uppercase","font-medium","text-xs"],[1,"px-6","py-4"],[1,"px-6","py-4","text-right"],[1,"divide-y","divide-gray-100"],[1,"hover:bg-gray-50","transition-colors"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],["placeholder","\u041E\u041E\u041E \u0412\u0435\u043A\u0442\u043E\u0440",1,"w-full","p-2","border","rounded-md","text-sm","focus:ring-2","focus:ring-blue-500","outline-none",3,"ngModelChange","ngModel"],["placeholder","\u0422\u043E\u0447\u043A\u0430 \u0410 -> \u0422\u043E\u0447\u043A\u0430 \u0411",1,"w-full","p-2","border","rounded-md","text-sm","focus:ring-2","focus:ring-blue-500","outline-none",3,"ngModelChange","ngModel"],["type","datetime-local",1,"w-full","p-2","border","rounded-md","text-sm","focus:ring-2","focus:ring-blue-500","outline-none",3,"ngModelChange","ngModel"],["type","number","placeholder","0.00",1,"w-full","p-2","border","rounded-md","text-sm","focus:ring-2","focus:ring-blue-500","outline-none",3,"ngModelChange","ngModel"],[1,"mt-4","flex","justify-end","gap-2"],[1,"text-gray-600","px-4","py-2","text-sm","hover:bg-gray-100","rounded",3,"click"],[1,"bg-blue-600","text-white","px-4","py-2","rounded-md","text-sm","shadow-sm","hover:bg-blue-700",3,"click"],[1,"text-xs","text-red-600","hover:text-red-800","underline","pb-2",3,"click"],[1,"px-6","py-4","font-mono","text-xs","text-gray-500"],[1,"font-medium","text-gray-900"],[1,"text-xs","text-gray-500","mt-1","flex","items-center","gap-1"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-3","w-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"mt-2","text-xs","text-purple-700","bg-purple-50","p-2","rounded","border","border-purple-100","max-w-xs"],[1,"px-6","py-4","text-gray-600"],[1,"px-2.5","py-1","rounded-full","text-xs","font-medium","border"],[1,"flex","items-center","gap-2"],[1,"text-gray-400","text-sm","italic"],[1,"px-6","py-4","text-right","font-medium","text-gray-900"],[1,"text-green-600","hover:text-white","hover:bg-green-600","text-xs","font-semibold","bg-green-50","px-3","py-1.5","rounded-md","border","border-green-200","transition-all","shadow-sm"],[1,"font-bold","flex","items-center","gap-1"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-3","w-3"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule","evenodd"],[1,"h-8","w-8","rounded-full","bg-slate-100","flex","items-center","justify-center","text-xs","font-bold","text-slate-600","border","border-slate-200"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"flex","flex-col","gap-2","min-w-[180px]"],[1,"text-blue-600","hover:text-white","hover:bg-blue-600","text-xs","font-semibold","bg-blue-50","px-3","py-1.5","rounded-md","border","border-blue-200","transition-all","shadow-sm"],[1,"w-full","text-xs","p-1.5","border","border-blue-300","rounded","focus:ring-2","focus:ring-blue-500","outline-none","bg-white",3,"ngModelChange","ngModel"],["value","","disabled",""],[3,"value"],[1,"flex","gap-2"],[1,"flex-1","bg-blue-600","hover:bg-blue-700","text-white","text-xs","py-1","rounded","disabled:opacity-50",3,"click","disabled"],[1,"flex-1","bg-gray-100","hover:bg-gray-200","text-gray-700","text-xs","py-1","rounded",3,"click"],[1,"text-blue-600","hover:text-white","hover:bg-blue-600","text-xs","font-semibold","bg-blue-50","px-3","py-1.5","rounded-md","border","border-blue-200","transition-all","shadow-sm",3,"click"],[1,"text-green-600","hover:text-white","hover:bg-green-600","text-xs","font-semibold","bg-green-50","px-3","py-1.5","rounded-md","border","border-green-200","transition-all","shadow-sm",3,"click"],["colspan","7",1,"px-6","py-12","text-center","text-gray-400"],[1,"flex","flex-col","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-10","w-10","mb-2","opacity-30"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"]],template:function(n,o){n&1&&(C(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),D(4,"\u0420\u0435\u0435\u0441\u0442\u0440 \u0437\u0430\u043A\u0430\u0437\u043E\u0432"),E(),C(5,"p",3),D(6,"\u0426\u0435\u043D\u0442\u0440\u0430\u043B\u0438\u0437\u043E\u0432\u0430\u043D\u043D\u043E\u0435 \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0437\u0430\u044F\u0432\u043A\u0430\u043C\u0438"),E()(),C(7,"button",4),K("click",function(){return o.toggleNewOrder()}),de(),C(8,"svg",5),fe(9,"path",6),E(),D(10," \u041D\u043E\u0432\u0430\u044F \u0437\u0430\u044F\u0432\u043A\u0430 "),E()(),me(11,uI,23,4,"div",7),_e(),C(12,"div",8)(13,"div")(14,"label",9),D(15,"\u0424\u0438\u043B\u044C\u0442\u0440 \u043F\u043E \u0441\u0442\u0430\u0442\u0443\u0441\u0443"),E(),C(16,"select",10),K("ngModelChange",function(i){return o.filterStatus.set(i)}),C(17,"option",11),D(18,"\u0412\u0441\u0435 \u0437\u0430\u044F\u0432\u043A\u0438"),E(),C(19,"option",12),D(20,"\u0412 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0435"),E(),C(21,"option",13),D(22,"\u041D\u0430 \u043B\u0438\u043D\u0438\u0438"),E(),C(23,"option",14),D(24,"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043D\u044B\u0435"),E()()(),C(25,"div")(26,"label",9),D(27,"\u0424\u0438\u043B\u044C\u0442\u0440 \u043F\u043E \u0434\u0430\u0442\u0435"),E(),C(28,"input",15),K("ngModelChange",function(i){return o.filterDate.set(i)}),E()(),me(29,lI,2,0,"button",16),E(),C(30,"div",17)(31,"table",18)(32,"thead",19)(33,"tr")(34,"th",20),D(35,"ID \u0437\u0430\u044F\u0432\u043A\u0438"),E(),C(36,"th",20),D(37,"\u0414\u0435\u0442\u0430\u043B\u0438 \u0440\u0435\u0439\u0441\u0430"),E(),C(38,"th",20),D(39,"\u0414\u0430\u0442\u0430 \u043F\u043E\u0434\u0430\u0447\u0438"),E(),C(40,"th",20),D(41,"\u0421\u0442\u0430\u0442\u0443\u0441"),E(),C(42,"th",20),D(43,"\u0412\u043E\u0434\u0438\u0442\u0435\u043B\u044C / \u0422\u0421"),E(),C(44,"th",21),D(45,"\u0424\u0440\u0430\u0445\u0442"),E(),C(46,"th",20),D(47,"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435"),E()()(),C(48,"tbody",22),es(49,DI,30,32,"tr",23,aI),me(51,II,7,0,"tr"),E()()()()),n&2&&(w(11),ye(o.showNewOrder?11:-1),w(5),lt("ngModel",o.filterStatus()),w(12),lt("ngModel",o.filterDate()),w(),ye(o.filterStatus()||o.filterDate()?29:-1),w(20),ts(o.filteredOrders()),w(2),ye(o.filteredOrders().length===0?51:-1))},dependencies:[Ft,As,Ss,ws,To,Ar,So,Is,wr,$n,gc],encapsulation:2})}};var TI,SI;function wI(){return{geminiUrl:TI,vertexUrl:SI}}function AI(t,e,n,o){var r,i;if(!t?.baseUrl){let s=wI();return e?(r=s.vertexUrl)!==null&&r!==void 0?r:n:(i=s.geminiUrl)!==null&&i!==void 0?i:o}return t.baseUrl}var pt=class{};function S(t,e){let n=/\{([^}]+)\}/g;return t.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){let i=e[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function l(t,e,n){for(let i=0;i<e.length-1;i++){let s=e[i];if(s.endsWith("[]")){let u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){let c=t[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){let f=c[d];l(f,e.slice(i+1),n[d])}else for(let d of c)l(d,e.slice(i+1),n)}return}else if(s.endsWith("[0]")){let u=s.slice(0,-3);u in t||(t[u]=[{}]);let c=t[u];l(c[0],e.slice(i+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}let o=e[e.length-1],r=t[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function a(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;let r=e[o];if(r.endsWith("[]")){let i=r.slice(0,-2);if(i in t){let s=t[i];return Array.isArray(s)?s.map(u=>a(u,e.slice(o+1),n)):n}else return n}else t=t[r]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function MI(t,e){for(let[n,o]of Object.entries(e)){let r=n.split("."),i=o.split("."),s=new Set,u=-1;for(let c=0;c<r.length;c++)if(r[c]==="*"){u=c;break}if(u!==-1&&i.length>u)for(let c=u;c<i.length;c++){let d=i[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}Oc(t,r,i,0,s)}}function Oc(t,e,n,o,r){if(o>=e.length||typeof t!="object"||t===null)return;let i=e[o];if(i.endsWith("[]")){let s=i.slice(0,-2),u=t;if(s in u&&Array.isArray(u[s]))for(let c of u[s])Oc(c,e,n,o+1,r)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let s=t,u=Object.keys(s).filter(d=>!d.startsWith("_")&&!r.has(d)),c={};for(let d of u)c[d]=s[d];for(let[d,f]of Object.entries(c)){let p=[];for(let h of n.slice(o))h==="*"?p.push(d):p.push(h);l(s,p,f)}for(let d of u)delete s[d]}}else{let s=t;i in s&&Oc(s[i],e,n,o+1,r)}}function kd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function bI(t){let e={},n=a(t,["operationName"]);n!=null&&l(e,["operationName"],n);let o=a(t,["resourceName"]);return o!=null&&l(e,["_url","resourceName"],o),e}function NI(t){let e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);let o=a(t,["metadata"]);o!=null&&l(e,["metadata"],o);let r=a(t,["done"]);r!=null&&l(e,["done"],r);let i=a(t,["error"]);i!=null&&l(e,["error"],i);let s=a(t,["response","generateVideoResponse"]);return s!=null&&l(e,["response"],RI(s)),e}function xI(t){let e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);let o=a(t,["metadata"]);o!=null&&l(e,["metadata"],o);let r=a(t,["done"]);r!=null&&l(e,["done"],r);let i=a(t,["error"]);i!=null&&l(e,["error"],i);let s=a(t,["response"]);return s!=null&&l(e,["response"],PI(s)),e}function RI(t){let e={},n=a(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>FI(s))),l(e,["generatedVideos"],i)}let o=a(t,["raiMediaFilteredCount"]);o!=null&&l(e,["raiMediaFilteredCount"],o);let r=a(t,["raiMediaFilteredReasons"]);return r!=null&&l(e,["raiMediaFilteredReasons"],r),e}function PI(t){let e={},n=a(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>kI(s))),l(e,["generatedVideos"],i)}let o=a(t,["raiMediaFilteredCount"]);o!=null&&l(e,["raiMediaFilteredCount"],o);let r=a(t,["raiMediaFilteredReasons"]);return r!=null&&l(e,["raiMediaFilteredReasons"],r),e}function FI(t){let e={},n=a(t,["video"]);return n!=null&&l(e,["video"],HI(n)),e}function kI(t){let e={},n=a(t,["_self"]);return n!=null&&l(e,["video"],GI(n)),e}function LI(t){let e={},n=a(t,["operationName"]);return n!=null&&l(e,["_url","operationName"],n),e}function OI(t){let e={},n=a(t,["operationName"]);return n!=null&&l(e,["_url","operationName"],n),e}function VI(t){let e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);let o=a(t,["metadata"]);o!=null&&l(e,["metadata"],o);let r=a(t,["done"]);r!=null&&l(e,["done"],r);let i=a(t,["error"]);i!=null&&l(e,["error"],i);let s=a(t,["response"]);return s!=null&&l(e,["response"],BI(s)),e}function BI(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["parent"]);o!=null&&l(e,["parent"],o);let r=a(t,["documentName"]);return r!=null&&l(e,["documentName"],r),e}function jm(t){let e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);let o=a(t,["metadata"]);o!=null&&l(e,["metadata"],o);let r=a(t,["done"]);r!=null&&l(e,["done"],r);let i=a(t,["error"]);i!=null&&l(e,["error"],i);let s=a(t,["response"]);return s!=null&&l(e,["response"],UI(s)),e}function UI(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["parent"]);o!=null&&l(e,["parent"],o);let r=a(t,["documentName"]);return r!=null&&l(e,["documentName"],r),e}function HI(t){let e={},n=a(t,["uri"]);n!=null&&l(e,["uri"],n);let o=a(t,["encodedVideo"]);o!=null&&l(e,["videoBytes"],kd(o));let r=a(t,["encoding"]);return r!=null&&l(e,["mimeType"],r),e}function GI(t){let e={},n=a(t,["gcsUri"]);n!=null&&l(e,["uri"],n);let o=a(t,["bytesBase64Encoded"]);o!=null&&l(e,["videoBytes"],kd(o));let r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}var Jn=(function(t){return t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL",t})(Jn||{});var Vc=(function(t){return t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO",t})(Vc||{});var Ym=(function(t){return t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",t})(Ym||{});var br=(function(t){return t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT",t})(br||{});var xr=class{constructor(e){let n={};for(let o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}};var zn=class{get text(){var e,n,o,r,i,s,u,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1,p=[];for(let h of(c=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(let[g,m]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(m!==null||m!==void 0)&&p.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,d+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,o,r,i,s,u,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="",f=[];for(let p of(c=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(let[h,g]of Object.entries(p))h!=="inlineData"&&(g!==null||g!==void 0)&&f.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,o,r,i,s,u,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let d=(c=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if(d?.length!==0)return d}get executableCode(){var e,n,o,r,i,s,u,c,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let f=(c=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,o,r,i,s,u,c,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let f=(c=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.output}},Ls=class{},Os=class{},Bc=class{},Uc=class{},Hc=class{},Gc=class{},Vs=class{},Bs=class{},Us=class{},$c=class{};var Hs=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let o=new t,r,i=e;return n?r=xI(i):r=NI(i),Object.assign(o,r),o}},Gs=class{},$s=class{},qs=class{},Ws=class{},qc=class{},Wc=class{},zc=class{};var Jc=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let o=new t,i=VI(e);return Object.assign(o,i),o}},jc=class{},Yc=class{},Kc=class{};var zs=class{};var Zc=class{get text(){var e,n,o;let r="",i=!1,s=[];for(let u of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(let[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,r+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var e,n,o;let r="",i=[];for(let s of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(let[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&i.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(r+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}};var Qc=class{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}};var Xc=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let o=new t,i=jm(e);return Object.assign(o,i),o}};function $(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){let n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Km(t,e){let n=$(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Zm(t){return Array.isArray(t)?t.map(e=>Js(e)):[Js(t)]}function Js(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Qm(t){let e=Js(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Xm(t){let e=Js(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Im(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function ey(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Im(e)):[Im(t)]}function ed(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Tm(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Sm(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function be(t){if(t==null)throw new Error("ContentUnion is required");return ed(t)?t:{role:"user",parts:ey(t)}}function Ld(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{let o=be(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){let n=be(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>be(n)):[be(e)]}function et(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Tm(t)||Sm(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[be(t)]}let e=[],n=[],o=ed(t[0]);for(let r of t){let i=ed(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(r);else{if(Tm(r)||Sm(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||e.push({role:"user",parts:ey(n)}),e}function $I(t,e){t.includes("null")&&(e.nullable=!0);let n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(Jn).includes(n[0].toUpperCase())?n[0].toUpperCase():Jn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(let o of n)e.anyOf.push({type:Object.values(Jn).includes(o.toUpperCase())?o.toUpperCase():Jn.TYPE_UNSPECIFIED})}}function Ao(t){let e={},n=["items"],o=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");let i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&$I(t.type,e);for(let[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Jn).includes(u.toUpperCase())?u.toUpperCase():Jn.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Ao(u);else if(o.includes(s)){let c=[];for(let d of u){if(d.type=="null"){e.nullable=!0;continue}c.push(Ao(d))}e[s]=c}else if(r.includes(s)){let c={};for(let[d,f]of Object.entries(u))c[d]=Ao(f);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=u}return e}function Od(t){return Ao(t)}function Vd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Bd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function xo(t){if(t.functionDeclarations)for(let e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ao(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ao(e.response));return t}function Ro(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");let e=[];for(let n of t)e.push(n);return e}function qI(t,e,n,o=1){let r=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function Jt(t,e){if(typeof e!="string")throw new Error("name must be a string");return qI(t,e,"cachedContents")}function ty(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function fn(t){return kd(t)}function WI(t){return t!=null&&typeof t=="object"&&"name"in t}function zI(t){return t!=null&&typeof t=="object"&&"video"in t}function JI(t){return t!=null&&typeof t=="object"&&"uri"in t}function ny(t){var e;let n;if(WI(t)&&(n=t.name),!(JI(t)&&(n=t.uri,n===void 0))&&!(zI(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){let r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function oy(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function ry(t){for(let e of["models","tunedModels","publisherModels"])if(jI(t,e))return t[e];return[]}function jI(t,e){return t!==null&&typeof t=="object"&&e in t}function YI(t,e={}){let n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function KI(t,e={}){let n=[],o=new Set;for(let r of t){let i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);let s=YI(r,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function iy(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;let o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function ZI(t){if(typeof t!="string")return t;let e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function sy(t){if(typeof t!="object"||t===null)return{};let e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;let r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let i=!1;for(let s of r){if(typeof s!="object"||s===null)continue;let c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Po(t,e){let n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function ay(t){let e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function QI(t){let e={},n=a(t,["responsesFile"]);n!=null&&l(e,["fileName"],n);let o=a(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>RT(s))),l(e,["inlinedResponses"],i)}let r=a(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),l(e,["inlinedEmbedContentResponses"],i)}return e}function XI(t){let e={},n=a(t,["predictionsFormat"]);n!=null&&l(e,["format"],n);let o=a(t,["gcsDestination","outputUriPrefix"]);o!=null&&l(e,["gcsUri"],o);let r=a(t,["bigqueryDestination","outputUri"]);return r!=null&&l(e,["bigqueryUri"],r),e}function eT(t){let e={},n=a(t,["format"]);n!=null&&l(e,["predictionsFormat"],n);let o=a(t,["gcsUri"]);o!=null&&l(e,["gcsDestination","outputUriPrefix"],o);let r=a(t,["bigqueryUri"]);if(r!=null&&l(e,["bigqueryDestination","outputUri"],r),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Fs(t){let e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);let o=a(t,["metadata","displayName"]);o!=null&&l(e,["displayName"],o);let r=a(t,["metadata","state"]);r!=null&&l(e,["state"],ay(r));let i=a(t,["metadata","createTime"]);i!=null&&l(e,["createTime"],i);let s=a(t,["metadata","endTime"]);s!=null&&l(e,["endTime"],s);let u=a(t,["metadata","updateTime"]);u!=null&&l(e,["updateTime"],u);let c=a(t,["metadata","model"]);c!=null&&l(e,["model"],c);let d=a(t,["metadata","output"]);return d!=null&&l(e,["dest"],QI(sy(d))),e}function td(t){let e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);let o=a(t,["displayName"]);o!=null&&l(e,["displayName"],o);let r=a(t,["state"]);r!=null&&l(e,["state"],ay(r));let i=a(t,["error"]);i!=null&&l(e,["error"],i);let s=a(t,["createTime"]);s!=null&&l(e,["createTime"],s);let u=a(t,["startTime"]);u!=null&&l(e,["startTime"],u);let c=a(t,["endTime"]);c!=null&&l(e,["endTime"],c);let d=a(t,["updateTime"]);d!=null&&l(e,["updateTime"],d);let f=a(t,["model"]);f!=null&&l(e,["model"],f);let p=a(t,["inputConfig"]);p!=null&&l(e,["src"],tT(p));let h=a(t,["outputConfig"]);h!=null&&l(e,["dest"],XI(sy(h)));let g=a(t,["completionStats"]);return g!=null&&l(e,["completionStats"],g),e}function tT(t){let e={},n=a(t,["instancesFormat"]);n!=null&&l(e,["format"],n);let o=a(t,["gcsSource","uris"]);o!=null&&l(e,["gcsUri"],o);let r=a(t,["bigquerySource","inputUri"]);return r!=null&&l(e,["bigqueryUri"],r),e}function nT(t,e){let n={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");let o=a(e,["fileName"]);o!=null&&l(n,["fileName"],o);let r=a(e,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>xT(t,s))),l(n,["requests","requests"],i)}return n}function oT(t){let e={},n=a(t,["format"]);n!=null&&l(e,["instancesFormat"],n);let o=a(t,["gcsUri"]);o!=null&&l(e,["gcsSource","uris"],o);let r=a(t,["bigqueryUri"]);if(r!=null&&l(e,["bigquerySource","inputUri"],r),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function rT(t){let e={},n=a(t,["data"]);if(n!=null&&l(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function iT(t,e){let n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],Po(t,o)),n}function sT(t,e){let n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],Po(t,o)),n}function aT(t){let e={},n=a(t,["content"]);n!=null&&l(e,["content"],n);let o=a(t,["citationMetadata"]);o!=null&&l(e,["citationMetadata"],uT(o));let r=a(t,["tokenCount"]);r!=null&&l(e,["tokenCount"],r);let i=a(t,["finishReason"]);i!=null&&l(e,["finishReason"],i);let s=a(t,["avgLogprobs"]);s!=null&&l(e,["avgLogprobs"],s);let u=a(t,["groundingMetadata"]);u!=null&&l(e,["groundingMetadata"],u);let c=a(t,["index"]);c!=null&&l(e,["index"],c);let d=a(t,["logprobsResult"]);d!=null&&l(e,["logprobsResult"],d);let f=a(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>g)),l(e,["safetyRatings"],h)}let p=a(t,["urlContextMetadata"]);return p!=null&&l(e,["urlContextMetadata"],p),e}function uT(t){let e={},n=a(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),l(e,["citations"],o)}return e}function uy(t){let e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>BT(i))),l(e,["parts"],r)}let o=a(t,["role"]);return o!=null&&l(e,["role"],o),e}function lT(t,e){let n={},o=a(t,["displayName"]);if(e!==void 0&&o!=null&&l(e,["batch","displayName"],o),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function cT(t,e){let n={},o=a(t,["displayName"]);e!==void 0&&o!=null&&l(e,["displayName"],o);let r=a(t,["dest"]);return e!==void 0&&r!=null&&l(e,["outputConfig"],eT(ZI(r))),n}function wm(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["_url","model"],$(t,o));let r=a(e,["src"]);r!=null&&l(n,["batch","inputConfig"],nT(t,iy(t,r)));let i=a(e,["config"]);return i!=null&&lT(i,n),n}function dT(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["model"],$(t,o));let r=a(e,["src"]);r!=null&&l(n,["inputConfig"],oT(iy(t,r)));let i=a(e,["config"]);return i!=null&&cT(i,n),n}function fT(t,e){let n={},o=a(t,["displayName"]);return e!==void 0&&o!=null&&l(e,["batch","displayName"],o),n}function pT(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["_url","model"],$(t,o));let r=a(e,["src"]);r!=null&&l(n,["batch","inputConfig"],_T(t,r));let i=a(e,["config"]);return i!=null&&fT(i,n),n}function hT(t,e){let n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],Po(t,o)),n}function gT(t,e){let n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],Po(t,o)),n}function mT(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["name"]);o!=null&&l(e,["name"],o);let r=a(t,["done"]);r!=null&&l(e,["done"],r);let i=a(t,["error"]);return i!=null&&l(e,["error"],i),e}function yT(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["name"]);o!=null&&l(e,["name"],o);let r=a(t,["done"]);r!=null&&l(e,["done"],r);let i=a(t,["error"]);return i!=null&&l(e,["error"],i),e}function vT(t,e){let n={},o=a(e,["contents"]);if(o!=null){let i=Ld(t,o);Array.isArray(i)&&(i=i.map(s=>s)),l(n,["requests[]","request","content"],i)}let r=a(e,["config"]);return r!=null&&(l(n,["_self"],ET(r,n)),MI(n,{"requests[].*":"requests[].request.*"})),n}function ET(t,e){let n={},o=a(t,["taskType"]);e!==void 0&&o!=null&&l(e,["requests[]","taskType"],o);let r=a(t,["title"]);e!==void 0&&r!=null&&l(e,["requests[]","title"],r);let i=a(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&l(e,["requests[]","outputDimensionality"],i),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function _T(t,e){let n={},o=a(e,["fileName"]);o!=null&&l(n,["file_name"],o);let r=a(e,["inlinedRequests"]);return r!=null&&l(n,["requests"],vT(t,r)),n}function CT(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);let o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function DT(t){let e={},n=a(t,["id"]);n!=null&&l(e,["id"],n);let o=a(t,["args"]);o!=null&&l(e,["args"],o);let r=a(t,["name"]);if(r!=null&&l(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function IT(t){let e={},n=a(t,["allowedFunctionNames"]);n!=null&&l(e,["allowedFunctionNames"],n);let o=a(t,["mode"]);if(o!=null&&l(e,["mode"],o),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function TT(t,e,n){let o={},r=a(e,["systemInstruction"]);n!==void 0&&r!=null&&l(n,["systemInstruction"],uy(be(r)));let i=a(e,["temperature"]);i!=null&&l(o,["temperature"],i);let s=a(e,["topP"]);s!=null&&l(o,["topP"],s);let u=a(e,["topK"]);u!=null&&l(o,["topK"],u);let c=a(e,["candidateCount"]);c!=null&&l(o,["candidateCount"],c);let d=a(e,["maxOutputTokens"]);d!=null&&l(o,["maxOutputTokens"],d);let f=a(e,["stopSequences"]);f!=null&&l(o,["stopSequences"],f);let p=a(e,["responseLogprobs"]);p!=null&&l(o,["responseLogprobs"],p);let h=a(e,["logprobs"]);h!=null&&l(o,["logprobs"],h);let g=a(e,["presencePenalty"]);g!=null&&l(o,["presencePenalty"],g);let m=a(e,["frequencyPenalty"]);m!=null&&l(o,["frequencyPenalty"],m);let y=a(e,["seed"]);y!=null&&l(o,["seed"],y);let _=a(e,["responseMimeType"]);_!=null&&l(o,["responseMimeType"],_);let v=a(e,["responseSchema"]);v!=null&&l(o,["responseSchema"],Od(v));let I=a(e,["responseJsonSchema"]);if(I!=null&&l(o,["responseJsonSchema"],I),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let T=a(e,["safetySettings"]);if(n!==void 0&&T!=null){let ie=T;Array.isArray(ie)&&(ie=ie.map(gt=>UT(gt))),l(n,["safetySettings"],ie)}let A=a(e,["tools"]);if(n!==void 0&&A!=null){let ie=Ro(A);Array.isArray(ie)&&(ie=ie.map(gt=>GT(xo(gt)))),l(n,["tools"],ie)}let M=a(e,["toolConfig"]);if(n!==void 0&&M!=null&&l(n,["toolConfig"],HT(M)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let B=a(e,["cachedContent"]);n!==void 0&&B!=null&&l(n,["cachedContent"],Jt(t,B));let O=a(e,["responseModalities"]);O!=null&&l(o,["responseModalities"],O);let re=a(e,["mediaResolution"]);re!=null&&l(o,["mediaResolution"],re);let P=a(e,["speechConfig"]);if(P!=null&&l(o,["speechConfig"],Vd(P)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let U=a(e,["thinkingConfig"]);U!=null&&l(o,["thinkingConfig"],U);let Ce=a(e,["imageConfig"]);Ce!=null&&l(o,["imageConfig"],NT(Ce));let jt=a(e,["enableEnhancedCivicAnswers"]);return jt!=null&&l(o,["enableEnhancedCivicAnswers"],jt),o}function ST(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>aT(d))),l(e,["candidates"],c)}let r=a(t,["modelVersion"]);r!=null&&l(e,["modelVersion"],r);let i=a(t,["promptFeedback"]);i!=null&&l(e,["promptFeedback"],i);let s=a(t,["responseId"]);s!=null&&l(e,["responseId"],s);let u=a(t,["usageMetadata"]);return u!=null&&l(e,["usageMetadata"],u),e}function wT(t,e){let n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],Po(t,o)),n}function AT(t,e){let n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],Po(t,o)),n}function MT(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&l(e,["enableWidget"],n),e}function bT(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&l(e,["timeRangeFilter"],n),e}function NT(t){let e={},n=a(t,["aspectRatio"]);n!=null&&l(e,["aspectRatio"],n);let o=a(t,["imageSize"]);if(o!=null&&l(e,["imageSize"],o),a(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(a(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function xT(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["request","model"],$(t,o));let r=a(e,["contents"]);if(r!=null){let u=et(r);Array.isArray(u)&&(u=u.map(c=>uy(c))),l(n,["request","contents"],u)}let i=a(e,["metadata"]);i!=null&&l(n,["metadata"],i);let s=a(e,["config"]);return s!=null&&l(n,["request","generationConfig"],TT(t,s,a(n,["request"],{}))),n}function RT(t){let e={},n=a(t,["response"]);n!=null&&l(e,["response"],ST(n));let o=a(t,["error"]);return o!=null&&l(e,["error"],o),e}function PT(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);if(e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function FT(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);e!==void 0&&r!=null&&l(e,["_query","pageToken"],r);let i=a(t,["filter"]);return e!==void 0&&i!=null&&l(e,["_query","filter"],i),n}function kT(t){let e={},n=a(t,["config"]);return n!=null&&PT(n,e),e}function LT(t){let e={},n=a(t,["config"]);return n!=null&&FT(n,e),e}function OT(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=a(t,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Fs(s))),l(e,["batchJobs"],i)}return e}function VT(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=a(t,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>td(s))),l(e,["batchJobs"],i)}return e}function BT(t){let e={},n=a(t,["mediaResolution"]);n!=null&&l(e,["mediaResolution"],n);let o=a(t,["codeExecutionResult"]);o!=null&&l(e,["codeExecutionResult"],o);let r=a(t,["executableCode"]);r!=null&&l(e,["executableCode"],r);let i=a(t,["fileData"]);i!=null&&l(e,["fileData"],CT(i));let s=a(t,["functionCall"]);s!=null&&l(e,["functionCall"],DT(s));let u=a(t,["functionResponse"]);u!=null&&l(e,["functionResponse"],u);let c=a(t,["inlineData"]);c!=null&&l(e,["inlineData"],rT(c));let d=a(t,["text"]);d!=null&&l(e,["text"],d);let f=a(t,["thought"]);f!=null&&l(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&l(e,["thoughtSignature"],p);let h=a(t,["videoMetadata"]);return h!=null&&l(e,["videoMetadata"],h),e}function UT(t){let e={},n=a(t,["category"]);if(n!=null&&l(e,["category"],n),a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let o=a(t,["threshold"]);return o!=null&&l(e,["threshold"],o),e}function HT(t){let e={},n=a(t,["retrievalConfig"]);n!=null&&l(e,["retrievalConfig"],n);let o=a(t,["functionCallingConfig"]);return o!=null&&l(e,["functionCallingConfig"],IT(o)),e}function GT(t){let e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=a(t,["computerUse"]);n!=null&&l(e,["computerUse"],n);let o=a(t,["fileSearch"]);o!=null&&l(e,["fileSearch"],o);let r=a(t,["codeExecution"]);if(r!=null&&l(e,["codeExecution"],r),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let i=a(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>p)),l(e,["functionDeclarations"],f)}let s=a(t,["googleMaps"]);s!=null&&l(e,["googleMaps"],MT(s));let u=a(t,["googleSearch"]);u!=null&&l(e,["googleSearch"],bT(u));let c=a(t,["googleSearchRetrieval"]);c!=null&&l(e,["googleSearchRetrieval"],c);let d=a(t,["urlContext"]);return d!=null&&l(e,["urlContext"],d),e}var pn=(function(t){return t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents",t})(pn||{}),zt=class{constructor(e,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,r)}init(e,n,o){var r,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!o||Object.keys(o).length===0?s={config:{}}:typeof o=="object"?s=Object.assign({},o):s=o,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(r=s.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};let e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");let e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}};var nd=class extends pt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new zt(pn.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){let n=wm(this.apiClient,e),o=n._url,r=S("{model}:batchGenerateContent",o),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(let f of c){let p=Object.assign({},f);if(p.systemInstruction){let h=p.systemInstruction;delete p.systemInstruction;let g=p.request;g.systemInstruction=h,p.request=g}d.push(p)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){let o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){let i=this.getGcsUri(e),s=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(s)o.dest=`${s}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){let d=dT(this.apiClient,e);return u=S("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>td(f))}else{let d=wm(this.apiClient,e);return u=S("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Fs(f))}}async createEmbeddingsInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=pT(this.apiClient,e);return i=S("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>Fs(c))}}async get(e){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){let d=AT(this.apiClient,e);return u=S("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>td(f))}else{let d=wT(this.apiClient,e);return u=S("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Fs(f))}}async cancel(e){var n,o,r,i;let s="",u={};if(this.apiClient.isVertexAI()){let c=sT(this.apiClient,e);s=S("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{let c=iT(this.apiClient,e);s=S("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){let d=LT(e);return u=S("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=VT(f),h=new zs;return Object.assign(h,p),h})}else{let d=kT(e);return u=S("batches",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=OT(f),h=new zs;return Object.assign(h,p),h})}}async delete(e){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){let d=gT(this.apiClient,e);return u=S("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>yT(f))}else{let d=hT(this.apiClient,e);return u=S("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>mT(f))}}};function $T(t){let e={},n=a(t,["data"]);if(n!=null&&l(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function Am(t){let e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>fS(i))),l(e,["parts"],r)}let o=a(t,["role"]);return o!=null&&l(e,["role"],o),e}function qT(t,e){let n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&l(e,["ttl"],o);let r=a(t,["expireTime"]);e!==void 0&&r!=null&&l(e,["expireTime"],r);let i=a(t,["displayName"]);e!==void 0&&i!=null&&l(e,["displayName"],i);let s=a(t,["contents"]);if(e!==void 0&&s!=null){let f=et(s);Array.isArray(f)&&(f=f.map(p=>Am(p))),l(e,["contents"],f)}let u=a(t,["systemInstruction"]);e!==void 0&&u!=null&&l(e,["systemInstruction"],Am(be(u)));let c=a(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>hS(p))),l(e,["tools"],f)}let d=a(t,["toolConfig"]);if(e!==void 0&&d!=null&&l(e,["toolConfig"],pS(d)),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function WT(t,e){let n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&l(e,["ttl"],o);let r=a(t,["expireTime"]);e!==void 0&&r!=null&&l(e,["expireTime"],r);let i=a(t,["displayName"]);e!==void 0&&i!=null&&l(e,["displayName"],i);let s=a(t,["contents"]);if(e!==void 0&&s!=null){let p=et(s);Array.isArray(p)&&(p=p.map(h=>h)),l(e,["contents"],p)}let u=a(t,["systemInstruction"]);e!==void 0&&u!=null&&l(e,["systemInstruction"],be(u));let c=a(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(h=>gS(h))),l(e,["tools"],p)}let d=a(t,["toolConfig"]);e!==void 0&&d!=null&&l(e,["toolConfig"],d);let f=a(t,["kmsKeyName"]);return e!==void 0&&f!=null&&l(e,["encryption_spec","kmsKeyName"],f),n}function zT(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["model"],Km(t,o));let r=a(e,["config"]);return r!=null&&qT(r,n),n}function JT(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["model"],Km(t,o));let r=a(e,["config"]);return r!=null&&WT(r,n),n}function jT(t,e){let n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],Jt(t,o)),n}function YT(t,e){let n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],Jt(t,o)),n}function KT(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function ZT(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function QT(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);let o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function XT(t){let e={},n=a(t,["id"]);n!=null&&l(e,["id"],n);let o=a(t,["args"]);o!=null&&l(e,["args"],o);let r=a(t,["name"]);if(r!=null&&l(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function eS(t){let e={},n=a(t,["allowedFunctionNames"]);n!=null&&l(e,["allowedFunctionNames"],n);let o=a(t,["mode"]);if(o!=null&&l(e,["mode"],o),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function tS(t){let e={},n=a(t,["description"]);n!=null&&l(e,["description"],n);let o=a(t,["name"]);o!=null&&l(e,["name"],o);let r=a(t,["parameters"]);r!=null&&l(e,["parameters"],r);let i=a(t,["parametersJsonSchema"]);i!=null&&l(e,["parametersJsonSchema"],i);let s=a(t,["response"]);s!=null&&l(e,["response"],s);let u=a(t,["responseJsonSchema"]);if(u!=null&&l(e,["responseJsonSchema"],u),a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function nS(t,e){let n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],Jt(t,o)),n}function oS(t,e){let n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],Jt(t,o)),n}function rS(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&l(e,["enableWidget"],n),e}function iS(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&l(e,["timeRangeFilter"],n),e}function sS(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),n}function aS(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),n}function uS(t){let e={},n=a(t,["config"]);return n!=null&&sS(n,e),e}function lS(t){let e={},n=a(t,["config"]);return n!=null&&aS(n,e),e}function cS(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=a(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),l(e,["cachedContents"],i)}return e}function dS(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=a(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),l(e,["cachedContents"],i)}return e}function fS(t){let e={},n=a(t,["mediaResolution"]);n!=null&&l(e,["mediaResolution"],n);let o=a(t,["codeExecutionResult"]);o!=null&&l(e,["codeExecutionResult"],o);let r=a(t,["executableCode"]);r!=null&&l(e,["executableCode"],r);let i=a(t,["fileData"]);i!=null&&l(e,["fileData"],QT(i));let s=a(t,["functionCall"]);s!=null&&l(e,["functionCall"],XT(s));let u=a(t,["functionResponse"]);u!=null&&l(e,["functionResponse"],u);let c=a(t,["inlineData"]);c!=null&&l(e,["inlineData"],$T(c));let d=a(t,["text"]);d!=null&&l(e,["text"],d);let f=a(t,["thought"]);f!=null&&l(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&l(e,["thoughtSignature"],p);let h=a(t,["videoMetadata"]);return h!=null&&l(e,["videoMetadata"],h),e}function pS(t){let e={},n=a(t,["retrievalConfig"]);n!=null&&l(e,["retrievalConfig"],n);let o=a(t,["functionCallingConfig"]);return o!=null&&l(e,["functionCallingConfig"],eS(o)),e}function hS(t){let e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=a(t,["computerUse"]);n!=null&&l(e,["computerUse"],n);let o=a(t,["fileSearch"]);o!=null&&l(e,["fileSearch"],o);let r=a(t,["codeExecution"]);if(r!=null&&l(e,["codeExecution"],r),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let i=a(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>p)),l(e,["functionDeclarations"],f)}let s=a(t,["googleMaps"]);s!=null&&l(e,["googleMaps"],rS(s));let u=a(t,["googleSearch"]);u!=null&&l(e,["googleSearch"],iS(u));let c=a(t,["googleSearchRetrieval"]);c!=null&&l(e,["googleSearchRetrieval"],c);let d=a(t,["urlContext"]);return d!=null&&l(e,["urlContext"],d),e}function gS(t){let e={},n=a(t,["retrieval"]);n!=null&&l(e,["retrieval"],n);let o=a(t,["computerUse"]);if(o!=null&&l(e,["computerUse"],o),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let r=a(t,["codeExecution"]);r!=null&&l(e,["codeExecution"],r);let i=a(t,["enterpriseWebSearch"]);i!=null&&l(e,["enterpriseWebSearch"],i);let s=a(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>tS(h))),l(e,["functionDeclarations"],p)}let u=a(t,["googleMaps"]);u!=null&&l(e,["googleMaps"],u);let c=a(t,["googleSearch"]);c!=null&&l(e,["googleSearch"],c);let d=a(t,["googleSearchRetrieval"]);d!=null&&l(e,["googleSearchRetrieval"],d);let f=a(t,["urlContext"]);return f!=null&&l(e,["urlContext"],f),e}function mS(t,e){let n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&l(e,["ttl"],o);let r=a(t,["expireTime"]);return e!==void 0&&r!=null&&l(e,["expireTime"],r),n}function yS(t,e){let n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&l(e,["ttl"],o);let r=a(t,["expireTime"]);return e!==void 0&&r!=null&&l(e,["expireTime"],r),n}function vS(t,e){let n={},o=a(e,["name"]);o!=null&&l(n,["_url","name"],Jt(t,o));let r=a(e,["config"]);return r!=null&&mS(r,n),n}function ES(t,e){let n={},o=a(e,["name"]);o!=null&&l(n,["_url","name"],Jt(t,o));let r=a(e,["config"]);return r!=null&&yS(r,n),n}var od=class extends pt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new zt(pn.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){let d=JT(this.apiClient,e);return u=S("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=zT(this.apiClient,e);return u=S("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(e){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){let d=oS(this.apiClient,e);return u=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=nS(this.apiClient,e);return u=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){let d=YT(this.apiClient,e);return u=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=ZT(f),h=new qs;return Object.assign(h,p),h})}else{let d=jT(this.apiClient,e);return u=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=KT(f),h=new qs;return Object.assign(h,p),h})}}async update(e){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){let d=ES(this.apiClient,e);return u=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=vS(this.apiClient,e);return u=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async listInternal(e){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){let d=lS(e);return u=S("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=dS(f),h=new Ws;return Object.assign(h,p),h})}else{let d=uS(e);return u=S("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=cS(f),h=new Ws;return Object.assign(h,p),h})}}};function js(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}function Mm(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function R(t){return this instanceof R?(this.v=t,this):new R(t)}function dt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(g){return function(m){return Promise.resolve(m).then(g,p)}}function u(g,m){o[g]&&(r[g]=function(y){return new Promise(function(_,v){i.push([g,y,_,v])>1||c(g,y)})},m&&(r[g]=m(r[g])))}function c(g,m){try{d(o[g](m))}catch(y){h(i[0][3],y)}}function d(g){g.value instanceof R?Promise.resolve(g.value.v).then(f,p):h(i[0][2],g)}function f(g){c("next",g)}function p(g){c("throw",g)}function h(g,m){g(m),i.shift(),i.length&&c(i[0][0],i[0][1])}}function ft(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Mm=="function"?Mm(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=t[i]&&function(s){return new Promise(function(u,c){s=t[i](s),r(u,c,s.done,s.value)})}}function r(i,s,u,c){Promise.resolve(c).then(function(d){i({value:d,done:u})},s)}}function _S(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;let n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:ly(n)}function ly(t){if(t.parts===void 0||t.parts.length===0)return!1;for(let e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function CS(t){if(t.length!==0){for(let e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function bm(t){if(t===void 0||t.length===0)return[];let e=[],n=t.length,o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{let r=[],i=!0;for(;o<n&&t[o].role==="model";)r.push(t[o]),i&&!ly(t[o])&&(i=!1),o++;i?e.push(...r):e.pop()}return e}var rd=class{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new id(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}},id=class{constructor(e,n,o,r={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),CS(i)}async sendMessage(e){var n;await this.sendPromise;let o=be(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,s,u;let c=await r,d=(s=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,f=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length,h=[];f!=null&&(h=(u=f.slice(p))!==null&&u!==void 0?u:[]);let g=d?[d]:[];this.recordHistory(o,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;let o=be(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});let i=await r;return this.processStreamResponse(i,o)}getHistory(e=!1){let n=e?bm(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return dt(this,arguments,function*(){var r,i,s,u,c,d;let f=[];try{for(var p=!0,h=ft(e),g;g=yield R(h.next()),r=g.done,!r;p=!0){u=g.value,p=!1;let m=u;if(_S(m)){let y=(d=(c=m.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content;y!==void 0&&f.push(y)}yield yield R(m)}}catch(m){i={error:m}}finally{try{!p&&!r&&(s=h.return)&&(yield R(s.call(h)))}finally{if(i)throw i.error}}this.recordHistory(n,f)})}recordHistory(e,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...bm(o)):this.history.push(e),this.history.push(...r)}};var Ys=class t extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,t.prototype)}};function DS(t){let e={},n=a(t,["file"]);return n!=null&&l(e,["file"],n),e}function IS(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function TS(t){let e={},n=a(t,["name"]);return n!=null&&l(e,["_url","file"],ny(n)),e}function SS(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function wS(t){let e={},n=a(t,["name"]);return n!=null&&l(e,["_url","file"],ny(n)),e}function AS(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),n}function MS(t){let e={},n=a(t,["config"]);return n!=null&&AS(n,e),e}function bS(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=a(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),l(e,["files"],i)}return e}var sd=class extends pt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new zt(pn.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=MS(e);return i=S("files",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=bS(c),f=new jc;return Object.assign(f,d),f})}}async createInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=DS(e);return i=S("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=IS(c),f=new Yc;return Object.assign(f,d),f})}}async get(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=wS(e);return i=S("files/{file}",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=TS(e);return i=S("files/{file}",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=SS(c),f=new Kc;return Object.assign(f,d),f})}}};function ks(t){let e={},n=a(t,["data"]);if(n!=null&&l(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function NS(t){let e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>zS(i))),l(e,["parts"],r)}let o=a(t,["role"]);return o!=null&&l(e,["role"],o),e}function xS(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);let o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function RS(t){let e={},n=a(t,["id"]);n!=null&&l(e,["id"],n);let o=a(t,["args"]);o!=null&&l(e,["args"],o);let r=a(t,["name"]);if(r!=null&&l(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function PS(t){let e={},n=a(t,["description"]);n!=null&&l(e,["description"],n);let o=a(t,["name"]);o!=null&&l(e,["name"],o);let r=a(t,["parameters"]);r!=null&&l(e,["parameters"],r);let i=a(t,["parametersJsonSchema"]);i!=null&&l(e,["parametersJsonSchema"],i);let s=a(t,["response"]);s!=null&&l(e,["response"],s);let u=a(t,["responseJsonSchema"]);if(u!=null&&l(e,["responseJsonSchema"],u),a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function FS(t){let e={},n=a(t,["modelSelectionConfig"]);n!=null&&l(e,["modelConfig"],n);let o=a(t,["responseJsonSchema"]);o!=null&&l(e,["responseJsonSchema"],o);let r=a(t,["audioTimestamp"]);r!=null&&l(e,["audioTimestamp"],r);let i=a(t,["candidateCount"]);i!=null&&l(e,["candidateCount"],i);let s=a(t,["enableAffectiveDialog"]);s!=null&&l(e,["enableAffectiveDialog"],s);let u=a(t,["frequencyPenalty"]);u!=null&&l(e,["frequencyPenalty"],u);let c=a(t,["logprobs"]);c!=null&&l(e,["logprobs"],c);let d=a(t,["maxOutputTokens"]);d!=null&&l(e,["maxOutputTokens"],d);let f=a(t,["mediaResolution"]);f!=null&&l(e,["mediaResolution"],f);let p=a(t,["presencePenalty"]);p!=null&&l(e,["presencePenalty"],p);let h=a(t,["responseLogprobs"]);h!=null&&l(e,["responseLogprobs"],h);let g=a(t,["responseMimeType"]);g!=null&&l(e,["responseMimeType"],g);let m=a(t,["responseModalities"]);m!=null&&l(e,["responseModalities"],m);let y=a(t,["responseSchema"]);y!=null&&l(e,["responseSchema"],y);let _=a(t,["routingConfig"]);_!=null&&l(e,["routingConfig"],_);let v=a(t,["seed"]);v!=null&&l(e,["seed"],v);let I=a(t,["speechConfig"]);I!=null&&l(e,["speechConfig"],I);let T=a(t,["stopSequences"]);T!=null&&l(e,["stopSequences"],T);let A=a(t,["temperature"]);A!=null&&l(e,["temperature"],A);let M=a(t,["thinkingConfig"]);M!=null&&l(e,["thinkingConfig"],M);let B=a(t,["topK"]);B!=null&&l(e,["topK"],B);let O=a(t,["topP"]);if(O!=null&&l(e,["topP"],O),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function kS(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&l(e,["enableWidget"],n),e}function LS(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&l(e,["timeRangeFilter"],n),e}function OS(t,e){let n={},o=a(t,["generationConfig"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig"],o);let r=a(t,["responseModalities"]);e!==void 0&&r!=null&&l(e,["setup","generationConfig","responseModalities"],r);let i=a(t,["temperature"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig","temperature"],i);let s=a(t,["topP"]);e!==void 0&&s!=null&&l(e,["setup","generationConfig","topP"],s);let u=a(t,["topK"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","topK"],u);let c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","maxOutputTokens"],c);let d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","mediaResolution"],d);let f=a(t,["seed"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","seed"],f);let p=a(t,["speechConfig"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","speechConfig"],Bd(p));let h=a(t,["thinkingConfig"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","thinkingConfig"],h);let g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],g);let m=a(t,["systemInstruction"]);e!==void 0&&m!=null&&l(e,["setup","systemInstruction"],NS(be(m)));let y=a(t,["tools"]);if(e!==void 0&&y!=null){let B=Ro(y);Array.isArray(B)&&(B=B.map(O=>jS(xo(O)))),l(e,["setup","tools"],B)}let _=a(t,["sessionResumption"]);e!==void 0&&_!=null&&l(e,["setup","sessionResumption"],JS(_));let v=a(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&l(e,["setup","inputAudioTranscription"],v);let I=a(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&l(e,["setup","outputAudioTranscription"],I);let T=a(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&l(e,["setup","realtimeInputConfig"],T);let A=a(t,["contextWindowCompression"]);e!==void 0&&A!=null&&l(e,["setup","contextWindowCompression"],A);let M=a(t,["proactivity"]);if(e!==void 0&&M!=null&&l(e,["setup","proactivity"],M),a(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function VS(t,e){let n={},o=a(t,["generationConfig"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig"],FS(o));let r=a(t,["responseModalities"]);e!==void 0&&r!=null&&l(e,["setup","generationConfig","responseModalities"],r);let i=a(t,["temperature"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig","temperature"],i);let s=a(t,["topP"]);e!==void 0&&s!=null&&l(e,["setup","generationConfig","topP"],s);let u=a(t,["topK"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","topK"],u);let c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","maxOutputTokens"],c);let d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","mediaResolution"],d);let f=a(t,["seed"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","seed"],f);let p=a(t,["speechConfig"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","speechConfig"],Bd(p));let h=a(t,["thinkingConfig"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","thinkingConfig"],h);let g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],g);let m=a(t,["systemInstruction"]);e!==void 0&&m!=null&&l(e,["setup","systemInstruction"],be(m));let y=a(t,["tools"]);if(e!==void 0&&y!=null){let O=Ro(y);Array.isArray(O)&&(O=O.map(re=>YS(xo(re)))),l(e,["setup","tools"],O)}let _=a(t,["sessionResumption"]);e!==void 0&&_!=null&&l(e,["setup","sessionResumption"],_);let v=a(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&l(e,["setup","inputAudioTranscription"],v);let I=a(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&l(e,["setup","outputAudioTranscription"],I);let T=a(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&l(e,["setup","realtimeInputConfig"],T);let A=a(t,["contextWindowCompression"]);e!==void 0&&A!=null&&l(e,["setup","contextWindowCompression"],A);let M=a(t,["proactivity"]);e!==void 0&&M!=null&&l(e,["setup","proactivity"],M);let B=a(t,["explicitVadSignal"]);return e!==void 0&&B!=null&&l(e,["setup","explicitVadSignal"],B),n}function BS(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["setup","model"],$(t,o));let r=a(e,["config"]);return r!=null&&l(n,["config"],OS(r,n)),n}function US(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["setup","model"],$(t,o));let r=a(e,["config"]);return r!=null&&l(n,["config"],VS(r,n)),n}function HS(t){let e={},n=a(t,["musicGenerationConfig"]);return n!=null&&l(e,["musicGenerationConfig"],n),e}function GS(t){let e={},n=a(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),l(e,["weightedPrompts"],o)}return e}function $S(t){let e={},n=a(t,["media"]);if(n!=null){let d=Zm(n);Array.isArray(d)&&(d=d.map(f=>ks(f))),l(e,["mediaChunks"],d)}let o=a(t,["audio"]);o!=null&&l(e,["audio"],ks(Xm(o)));let r=a(t,["audioStreamEnd"]);r!=null&&l(e,["audioStreamEnd"],r);let i=a(t,["video"]);i!=null&&l(e,["video"],ks(Qm(i)));let s=a(t,["text"]);s!=null&&l(e,["text"],s);let u=a(t,["activityStart"]);u!=null&&l(e,["activityStart"],u);let c=a(t,["activityEnd"]);return c!=null&&l(e,["activityEnd"],c),e}function qS(t){let e={},n=a(t,["media"]);if(n!=null){let d=Zm(n);Array.isArray(d)&&(d=d.map(f=>f)),l(e,["mediaChunks"],d)}let o=a(t,["audio"]);o!=null&&l(e,["audio"],Xm(o));let r=a(t,["audioStreamEnd"]);r!=null&&l(e,["audioStreamEnd"],r);let i=a(t,["video"]);i!=null&&l(e,["video"],Qm(i));let s=a(t,["text"]);s!=null&&l(e,["text"],s);let u=a(t,["activityStart"]);u!=null&&l(e,["activityStart"],u);let c=a(t,["activityEnd"]);return c!=null&&l(e,["activityEnd"],c),e}function WS(t){let e={},n=a(t,["setupComplete"]);n!=null&&l(e,["setupComplete"],n);let o=a(t,["serverContent"]);o!=null&&l(e,["serverContent"],o);let r=a(t,["toolCall"]);r!=null&&l(e,["toolCall"],r);let i=a(t,["toolCallCancellation"]);i!=null&&l(e,["toolCallCancellation"],i);let s=a(t,["usageMetadata"]);s!=null&&l(e,["usageMetadata"],KS(s));let u=a(t,["goAway"]);u!=null&&l(e,["goAway"],u);let c=a(t,["sessionResumptionUpdate"]);c!=null&&l(e,["sessionResumptionUpdate"],c);let d=a(t,["voiceActivityDetectionSignal"]);d!=null&&l(e,["voiceActivityDetectionSignal"],d);let f=a(t,["voiceActivity"]);return f!=null&&l(e,["voiceActivity"],ZS(f)),e}function zS(t){let e={},n=a(t,["mediaResolution"]);n!=null&&l(e,["mediaResolution"],n);let o=a(t,["codeExecutionResult"]);o!=null&&l(e,["codeExecutionResult"],o);let r=a(t,["executableCode"]);r!=null&&l(e,["executableCode"],r);let i=a(t,["fileData"]);i!=null&&l(e,["fileData"],xS(i));let s=a(t,["functionCall"]);s!=null&&l(e,["functionCall"],RS(s));let u=a(t,["functionResponse"]);u!=null&&l(e,["functionResponse"],u);let c=a(t,["inlineData"]);c!=null&&l(e,["inlineData"],ks(c));let d=a(t,["text"]);d!=null&&l(e,["text"],d);let f=a(t,["thought"]);f!=null&&l(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&l(e,["thoughtSignature"],p);let h=a(t,["videoMetadata"]);return h!=null&&l(e,["videoMetadata"],h),e}function JS(t){let e={},n=a(t,["handle"]);if(n!=null&&l(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function jS(t){let e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=a(t,["computerUse"]);n!=null&&l(e,["computerUse"],n);let o=a(t,["fileSearch"]);o!=null&&l(e,["fileSearch"],o);let r=a(t,["codeExecution"]);if(r!=null&&l(e,["codeExecution"],r),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let i=a(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>p)),l(e,["functionDeclarations"],f)}let s=a(t,["googleMaps"]);s!=null&&l(e,["googleMaps"],kS(s));let u=a(t,["googleSearch"]);u!=null&&l(e,["googleSearch"],LS(u));let c=a(t,["googleSearchRetrieval"]);c!=null&&l(e,["googleSearchRetrieval"],c);let d=a(t,["urlContext"]);return d!=null&&l(e,["urlContext"],d),e}function YS(t){let e={},n=a(t,["retrieval"]);n!=null&&l(e,["retrieval"],n);let o=a(t,["computerUse"]);if(o!=null&&l(e,["computerUse"],o),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let r=a(t,["codeExecution"]);r!=null&&l(e,["codeExecution"],r);let i=a(t,["enterpriseWebSearch"]);i!=null&&l(e,["enterpriseWebSearch"],i);let s=a(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>PS(h))),l(e,["functionDeclarations"],p)}let u=a(t,["googleMaps"]);u!=null&&l(e,["googleMaps"],u);let c=a(t,["googleSearch"]);c!=null&&l(e,["googleSearch"],c);let d=a(t,["googleSearchRetrieval"]);d!=null&&l(e,["googleSearchRetrieval"],d);let f=a(t,["urlContext"]);return f!=null&&l(e,["urlContext"],f),e}function KS(t){let e={},n=a(t,["promptTokenCount"]);n!=null&&l(e,["promptTokenCount"],n);let o=a(t,["cachedContentTokenCount"]);o!=null&&l(e,["cachedContentTokenCount"],o);let r=a(t,["candidatesTokenCount"]);r!=null&&l(e,["responseTokenCount"],r);let i=a(t,["toolUsePromptTokenCount"]);i!=null&&l(e,["toolUsePromptTokenCount"],i);let s=a(t,["thoughtsTokenCount"]);s!=null&&l(e,["thoughtsTokenCount"],s);let u=a(t,["totalTokenCount"]);u!=null&&l(e,["totalTokenCount"],u);let c=a(t,["promptTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(m=>m)),l(e,["promptTokensDetails"],g)}let d=a(t,["cacheTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(m=>m)),l(e,["cacheTokensDetails"],g)}let f=a(t,["candidatesTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(m=>m)),l(e,["responseTokensDetails"],g)}let p=a(t,["toolUsePromptTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(m=>m)),l(e,["toolUsePromptTokensDetails"],g)}let h=a(t,["trafficType"]);return h!=null&&l(e,["trafficType"],h),e}function ZS(t){let e={},n=a(t,["type"]);return n!=null&&l(e,["voiceActivityType"],n),e}function QS(t){let e={},n=a(t,["data"]);if(n!=null&&l(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function XS(t){let e={},n=a(t,["content"]);n!=null&&l(e,["content"],n);let o=a(t,["citationMetadata"]);o!=null&&l(e,["citationMetadata"],ew(o));let r=a(t,["tokenCount"]);r!=null&&l(e,["tokenCount"],r);let i=a(t,["finishReason"]);i!=null&&l(e,["finishReason"],i);let s=a(t,["avgLogprobs"]);s!=null&&l(e,["avgLogprobs"],s);let u=a(t,["groundingMetadata"]);u!=null&&l(e,["groundingMetadata"],u);let c=a(t,["index"]);c!=null&&l(e,["index"],c);let d=a(t,["logprobsResult"]);d!=null&&l(e,["logprobsResult"],d);let f=a(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>g)),l(e,["safetyRatings"],h)}let p=a(t,["urlContextMetadata"]);return p!=null&&l(e,["urlContextMetadata"],p),e}function ew(t){let e={},n=a(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),l(e,["citations"],o)}return e}function tw(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["_url","model"],$(t,o));let r=a(e,["contents"]);if(r!=null){let i=et(r);Array.isArray(i)&&(i=i.map(s=>s)),l(n,["contents"],i)}return n}function nw(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),l(e,["tokensInfo"],r)}return e}function ow(t){let e={},n=a(t,["values"]);n!=null&&l(e,["values"],n);let o=a(t,["statistics"]);return o!=null&&l(e,["statistics"],rw(o)),e}function rw(t){let e={},n=a(t,["truncated"]);n!=null&&l(e,["truncated"],n);let o=a(t,["token_count"]);return o!=null&&l(e,["tokenCount"],o),e}function ca(t){let e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>pA(i))),l(e,["parts"],r)}let o=a(t,["role"]);return o!=null&&l(e,["role"],o),e}function iw(t){let e={},n=a(t,["controlType"]);n!=null&&l(e,["controlType"],n);let o=a(t,["enableControlImageComputation"]);return o!=null&&l(e,["computeControl"],o),e}function sw(t){let e={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function aw(t,e){let n={},o=a(t,["systemInstruction"]);e!==void 0&&o!=null&&l(e,["systemInstruction"],be(o));let r=a(t,["tools"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>py(u))),l(e,["tools"],s)}let i=a(t,["generationConfig"]);return e!==void 0&&i!=null&&l(e,["generationConfig"],Qw(i)),n}function uw(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["_url","model"],$(t,o));let r=a(e,["contents"]);if(r!=null){let s=et(r);Array.isArray(s)&&(s=s.map(u=>ca(u))),l(n,["contents"],s)}let i=a(e,["config"]);return i!=null&&sw(i),n}function lw(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["_url","model"],$(t,o));let r=a(e,["contents"]);if(r!=null){let s=et(r);Array.isArray(s)&&(s=s.map(u=>u)),l(n,["contents"],s)}let i=a(e,["config"]);return i!=null&&aw(i,n),n}function cw(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["totalTokens"]);o!=null&&l(e,["totalTokens"],o);let r=a(t,["cachedContentTokenCount"]);return r!=null&&l(e,["cachedContentTokenCount"],r),e}function dw(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["totalTokens"]);return o!=null&&l(e,["totalTokens"],o),e}function fw(t,e){let n={},o=a(e,["model"]);return o!=null&&l(n,["_url","name"],$(t,o)),n}function pw(t,e){let n={},o=a(e,["model"]);return o!=null&&l(n,["_url","name"],$(t,o)),n}function hw(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function gw(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function mw(t,e){let n={},o=a(t,["outputGcsUri"]);e!==void 0&&o!=null&&l(e,["parameters","storageUri"],o);let r=a(t,["negativePrompt"]);e!==void 0&&r!=null&&l(e,["parameters","negativePrompt"],r);let i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&l(e,["parameters","sampleCount"],i);let s=a(t,["aspectRatio"]);e!==void 0&&s!=null&&l(e,["parameters","aspectRatio"],s);let u=a(t,["guidanceScale"]);e!==void 0&&u!=null&&l(e,["parameters","guidanceScale"],u);let c=a(t,["seed"]);e!==void 0&&c!=null&&l(e,["parameters","seed"],c);let d=a(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&l(e,["parameters","safetySetting"],d);let f=a(t,["personGeneration"]);e!==void 0&&f!=null&&l(e,["parameters","personGeneration"],f);let p=a(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&l(e,["parameters","includeSafetyAttributes"],p);let h=a(t,["includeRaiReason"]);e!==void 0&&h!=null&&l(e,["parameters","includeRaiReason"],h);let g=a(t,["language"]);e!==void 0&&g!=null&&l(e,["parameters","language"],g);let m=a(t,["outputMimeType"]);e!==void 0&&m!=null&&l(e,["parameters","outputOptions","mimeType"],m);let y=a(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&l(e,["parameters","outputOptions","compressionQuality"],y);let _=a(t,["addWatermark"]);e!==void 0&&_!=null&&l(e,["parameters","addWatermark"],_);let v=a(t,["labels"]);e!==void 0&&v!=null&&l(e,["labels"],v);let I=a(t,["editMode"]);e!==void 0&&I!=null&&l(e,["parameters","editMode"],I);let T=a(t,["baseSteps"]);return e!==void 0&&T!=null&&l(e,["parameters","editConfig","baseSteps"],T),n}function yw(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["_url","model"],$(t,o));let r=a(e,["prompt"]);r!=null&&l(n,["instances[0]","prompt"],r);let i=a(e,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>EA(c))),l(n,["instances[0]","referenceImages"],u)}let s=a(e,["config"]);return s!=null&&mw(s,n),n}function vw(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>da(i))),l(e,["generatedImages"],r)}return e}function Ew(t,e){let n={},o=a(t,["taskType"]);e!==void 0&&o!=null&&l(e,["requests[]","taskType"],o);let r=a(t,["title"]);e!==void 0&&r!=null&&l(e,["requests[]","title"],r);let i=a(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&l(e,["requests[]","outputDimensionality"],i),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function _w(t,e){let n={},o=a(t,["taskType"]);e!==void 0&&o!=null&&l(e,["instances[]","task_type"],o);let r=a(t,["title"]);e!==void 0&&r!=null&&l(e,["instances[]","title"],r);let i=a(t,["outputDimensionality"]);e!==void 0&&i!=null&&l(e,["parameters","outputDimensionality"],i);let s=a(t,["mimeType"]);e!==void 0&&s!=null&&l(e,["instances[]","mimeType"],s);let u=a(t,["autoTruncate"]);return e!==void 0&&u!=null&&l(e,["parameters","autoTruncate"],u),n}function Cw(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["_url","model"],$(t,o));let r=a(e,["contents"]);if(r!=null){let u=Ld(t,r);Array.isArray(u)&&(u=u.map(c=>c)),l(n,["requests[]","content"],u)}let i=a(e,["config"]);i!=null&&Ew(i,n);let s=a(e,["model"]);return s!==void 0&&l(n,["requests[]","model"],$(t,s)),n}function Dw(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["_url","model"],$(t,o));let r=a(e,["contents"]);if(r!=null){let s=Ld(t,r);Array.isArray(s)&&(s=s.map(u=>u)),l(n,["instances[]","content"],s)}let i=a(e,["config"]);return i!=null&&_w(i,n),n}function Iw(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),l(e,["embeddings"],i)}let r=a(t,["metadata"]);return r!=null&&l(e,["metadata"],r),e}function Tw(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>ow(s))),l(e,["embeddings"],i)}let r=a(t,["metadata"]);return r!=null&&l(e,["metadata"],r),e}function Sw(t){let e={},n=a(t,["endpoint"]);n!=null&&l(e,["name"],n);let o=a(t,["deployedModelId"]);return o!=null&&l(e,["deployedModelId"],o),e}function ww(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);let o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function Aw(t){let e={},n=a(t,["id"]);n!=null&&l(e,["id"],n);let o=a(t,["args"]);o!=null&&l(e,["args"],o);let r=a(t,["name"]);if(r!=null&&l(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Mw(t){let e={},n=a(t,["allowedFunctionNames"]);n!=null&&l(e,["allowedFunctionNames"],n);let o=a(t,["mode"]);if(o!=null&&l(e,["mode"],o),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function bw(t){let e={},n=a(t,["description"]);n!=null&&l(e,["description"],n);let o=a(t,["name"]);o!=null&&l(e,["name"],o);let r=a(t,["parameters"]);r!=null&&l(e,["parameters"],r);let i=a(t,["parametersJsonSchema"]);i!=null&&l(e,["parametersJsonSchema"],i);let s=a(t,["response"]);s!=null&&l(e,["response"],s);let u=a(t,["responseJsonSchema"]);if(u!=null&&l(e,["responseJsonSchema"],u),a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Nw(t,e,n){let o={},r=a(e,["systemInstruction"]);n!==void 0&&r!=null&&l(n,["systemInstruction"],ca(be(r)));let i=a(e,["temperature"]);i!=null&&l(o,["temperature"],i);let s=a(e,["topP"]);s!=null&&l(o,["topP"],s);let u=a(e,["topK"]);u!=null&&l(o,["topK"],u);let c=a(e,["candidateCount"]);c!=null&&l(o,["candidateCount"],c);let d=a(e,["maxOutputTokens"]);d!=null&&l(o,["maxOutputTokens"],d);let f=a(e,["stopSequences"]);f!=null&&l(o,["stopSequences"],f);let p=a(e,["responseLogprobs"]);p!=null&&l(o,["responseLogprobs"],p);let h=a(e,["logprobs"]);h!=null&&l(o,["logprobs"],h);let g=a(e,["presencePenalty"]);g!=null&&l(o,["presencePenalty"],g);let m=a(e,["frequencyPenalty"]);m!=null&&l(o,["frequencyPenalty"],m);let y=a(e,["seed"]);y!=null&&l(o,["seed"],y);let _=a(e,["responseMimeType"]);_!=null&&l(o,["responseMimeType"],_);let v=a(e,["responseSchema"]);v!=null&&l(o,["responseSchema"],Od(v));let I=a(e,["responseJsonSchema"]);if(I!=null&&l(o,["responseJsonSchema"],I),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let T=a(e,["safetySettings"]);if(n!==void 0&&T!=null){let ie=T;Array.isArray(ie)&&(ie=ie.map(gt=>_A(gt))),l(n,["safetySettings"],ie)}let A=a(e,["tools"]);if(n!==void 0&&A!=null){let ie=Ro(A);Array.isArray(ie)&&(ie=ie.map(gt=>AA(xo(gt)))),l(n,["tools"],ie)}let M=a(e,["toolConfig"]);if(n!==void 0&&M!=null&&l(n,["toolConfig"],wA(M)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let B=a(e,["cachedContent"]);n!==void 0&&B!=null&&l(n,["cachedContent"],Jt(t,B));let O=a(e,["responseModalities"]);O!=null&&l(o,["responseModalities"],O);let re=a(e,["mediaResolution"]);re!=null&&l(o,["mediaResolution"],re);let P=a(e,["speechConfig"]);if(P!=null&&l(o,["speechConfig"],Vd(P)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let U=a(e,["thinkingConfig"]);U!=null&&l(o,["thinkingConfig"],U);let Ce=a(e,["imageConfig"]);Ce!=null&&l(o,["imageConfig"],oA(Ce));let jt=a(e,["enableEnhancedCivicAnswers"]);return jt!=null&&l(o,["enableEnhancedCivicAnswers"],jt),o}function xw(t,e,n){let o={},r=a(e,["systemInstruction"]);n!==void 0&&r!=null&&l(n,["systemInstruction"],be(r));let i=a(e,["temperature"]);i!=null&&l(o,["temperature"],i);let s=a(e,["topP"]);s!=null&&l(o,["topP"],s);let u=a(e,["topK"]);u!=null&&l(o,["topK"],u);let c=a(e,["candidateCount"]);c!=null&&l(o,["candidateCount"],c);let d=a(e,["maxOutputTokens"]);d!=null&&l(o,["maxOutputTokens"],d);let f=a(e,["stopSequences"]);f!=null&&l(o,["stopSequences"],f);let p=a(e,["responseLogprobs"]);p!=null&&l(o,["responseLogprobs"],p);let h=a(e,["logprobs"]);h!=null&&l(o,["logprobs"],h);let g=a(e,["presencePenalty"]);g!=null&&l(o,["presencePenalty"],g);let m=a(e,["frequencyPenalty"]);m!=null&&l(o,["frequencyPenalty"],m);let y=a(e,["seed"]);y!=null&&l(o,["seed"],y);let _=a(e,["responseMimeType"]);_!=null&&l(o,["responseMimeType"],_);let v=a(e,["responseSchema"]);v!=null&&l(o,["responseSchema"],Od(v));let I=a(e,["responseJsonSchema"]);I!=null&&l(o,["responseJsonSchema"],I);let T=a(e,["routingConfig"]);T!=null&&l(o,["routingConfig"],T);let A=a(e,["modelSelectionConfig"]);A!=null&&l(o,["modelConfig"],A);let M=a(e,["safetySettings"]);if(n!==void 0&&M!=null){let kt=M;Array.isArray(kt)&&(kt=kt.map(ma=>ma)),l(n,["safetySettings"],kt)}let B=a(e,["tools"]);if(n!==void 0&&B!=null){let kt=Ro(B);Array.isArray(kt)&&(kt=kt.map(ma=>py(xo(ma)))),l(n,["tools"],kt)}let O=a(e,["toolConfig"]);n!==void 0&&O!=null&&l(n,["toolConfig"],O);let re=a(e,["labels"]);n!==void 0&&re!=null&&l(n,["labels"],re);let P=a(e,["cachedContent"]);n!==void 0&&P!=null&&l(n,["cachedContent"],Jt(t,P));let U=a(e,["responseModalities"]);U!=null&&l(o,["responseModalities"],U);let Ce=a(e,["mediaResolution"]);Ce!=null&&l(o,["mediaResolution"],Ce);let jt=a(e,["speechConfig"]);jt!=null&&l(o,["speechConfig"],Vd(jt));let ie=a(e,["audioTimestamp"]);ie!=null&&l(o,["audioTimestamp"],ie);let gt=a(e,["thinkingConfig"]);gt!=null&&l(o,["thinkingConfig"],gt);let Hd=a(e,["imageConfig"]);if(Hd!=null&&l(o,["imageConfig"],rA(Hd)),a(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function Nm(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["_url","model"],$(t,o));let r=a(e,["contents"]);if(r!=null){let s=et(r);Array.isArray(s)&&(s=s.map(u=>ca(u))),l(n,["contents"],s)}let i=a(e,["config"]);return i!=null&&l(n,["generationConfig"],Nw(t,i,n)),n}function xm(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["_url","model"],$(t,o));let r=a(e,["contents"]);if(r!=null){let s=et(r);Array.isArray(s)&&(s=s.map(u=>u)),l(n,["contents"],s)}let i=a(e,["config"]);return i!=null&&l(n,["generationConfig"],xw(t,i,n)),n}function Rm(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>XS(d))),l(e,["candidates"],c)}let r=a(t,["modelVersion"]);r!=null&&l(e,["modelVersion"],r);let i=a(t,["promptFeedback"]);i!=null&&l(e,["promptFeedback"],i);let s=a(t,["responseId"]);s!=null&&l(e,["responseId"],s);let u=a(t,["usageMetadata"]);return u!=null&&l(e,["usageMetadata"],u),e}function Pm(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),l(e,["candidates"],d)}let r=a(t,["createTime"]);r!=null&&l(e,["createTime"],r);let i=a(t,["modelVersion"]);i!=null&&l(e,["modelVersion"],i);let s=a(t,["promptFeedback"]);s!=null&&l(e,["promptFeedback"],s);let u=a(t,["responseId"]);u!=null&&l(e,["responseId"],u);let c=a(t,["usageMetadata"]);return c!=null&&l(e,["usageMetadata"],c),e}function Rw(t,e){let n={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");let o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&l(e,["parameters","sampleCount"],o);let r=a(t,["aspectRatio"]);e!==void 0&&r!=null&&l(e,["parameters","aspectRatio"],r);let i=a(t,["guidanceScale"]);if(e!==void 0&&i!=null&&l(e,["parameters","guidanceScale"],i),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let s=a(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&l(e,["parameters","safetySetting"],s);let u=a(t,["personGeneration"]);e!==void 0&&u!=null&&l(e,["parameters","personGeneration"],u);let c=a(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&l(e,["parameters","includeSafetyAttributes"],c);let d=a(t,["includeRaiReason"]);e!==void 0&&d!=null&&l(e,["parameters","includeRaiReason"],d);let f=a(t,["language"]);e!==void 0&&f!=null&&l(e,["parameters","language"],f);let p=a(t,["outputMimeType"]);e!==void 0&&p!=null&&l(e,["parameters","outputOptions","mimeType"],p);let h=a(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&l(e,["parameters","outputOptions","compressionQuality"],h),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let g=a(t,["imageSize"]);if(e!==void 0&&g!=null&&l(e,["parameters","sampleImageSize"],g),a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Pw(t,e){let n={},o=a(t,["outputGcsUri"]);e!==void 0&&o!=null&&l(e,["parameters","storageUri"],o);let r=a(t,["negativePrompt"]);e!==void 0&&r!=null&&l(e,["parameters","negativePrompt"],r);let i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&l(e,["parameters","sampleCount"],i);let s=a(t,["aspectRatio"]);e!==void 0&&s!=null&&l(e,["parameters","aspectRatio"],s);let u=a(t,["guidanceScale"]);e!==void 0&&u!=null&&l(e,["parameters","guidanceScale"],u);let c=a(t,["seed"]);e!==void 0&&c!=null&&l(e,["parameters","seed"],c);let d=a(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&l(e,["parameters","safetySetting"],d);let f=a(t,["personGeneration"]);e!==void 0&&f!=null&&l(e,["parameters","personGeneration"],f);let p=a(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&l(e,["parameters","includeSafetyAttributes"],p);let h=a(t,["includeRaiReason"]);e!==void 0&&h!=null&&l(e,["parameters","includeRaiReason"],h);let g=a(t,["language"]);e!==void 0&&g!=null&&l(e,["parameters","language"],g);let m=a(t,["outputMimeType"]);e!==void 0&&m!=null&&l(e,["parameters","outputOptions","mimeType"],m);let y=a(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&l(e,["parameters","outputOptions","compressionQuality"],y);let _=a(t,["addWatermark"]);e!==void 0&&_!=null&&l(e,["parameters","addWatermark"],_);let v=a(t,["labels"]);e!==void 0&&v!=null&&l(e,["labels"],v);let I=a(t,["imageSize"]);e!==void 0&&I!=null&&l(e,["parameters","sampleImageSize"],I);let T=a(t,["enhancePrompt"]);return e!==void 0&&T!=null&&l(e,["parameters","enhancePrompt"],T),n}function Fw(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["_url","model"],$(t,o));let r=a(e,["prompt"]);r!=null&&l(n,["instances[0]","prompt"],r);let i=a(e,["config"]);return i!=null&&Rw(i,n),n}function kw(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["_url","model"],$(t,o));let r=a(e,["prompt"]);r!=null&&l(n,["instances[0]","prompt"],r);let i=a(e,["config"]);return i!=null&&Pw(i,n),n}function Lw(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>jw(s))),l(e,["generatedImages"],i)}let r=a(t,["positivePromptSafetyAttributes"]);return r!=null&&l(e,["positivePromptSafetyAttributes"],dy(r)),e}function Ow(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>da(s))),l(e,["generatedImages"],i)}let r=a(t,["positivePromptSafetyAttributes"]);return r!=null&&l(e,["positivePromptSafetyAttributes"],fy(r)),e}function Vw(t,e){let n={},o=a(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&l(e,["parameters","sampleCount"],o),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");let r=a(t,["durationSeconds"]);if(e!==void 0&&r!=null&&l(e,["parameters","durationSeconds"],r),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let i=a(t,["aspectRatio"]);e!==void 0&&i!=null&&l(e,["parameters","aspectRatio"],i);let s=a(t,["resolution"]);e!==void 0&&s!=null&&l(e,["parameters","resolution"],s);let u=a(t,["personGeneration"]);if(e!==void 0&&u!=null&&l(e,["parameters","personGeneration"],u),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");let c=a(t,["negativePrompt"]);e!==void 0&&c!=null&&l(e,["parameters","negativePrompt"],c);let d=a(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&l(e,["parameters","enhancePrompt"],d),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");let f=a(t,["lastFrame"]);e!==void 0&&f!=null&&l(e,["instances[0]","lastFrame"],fa(f));let p=a(t,["referenceImages"]);if(e!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>UA(g))),l(e,["instances[0]","referenceImages"],h)}if(a(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Bw(t,e){let n={},o=a(t,["numberOfVideos"]);e!==void 0&&o!=null&&l(e,["parameters","sampleCount"],o);let r=a(t,["outputGcsUri"]);e!==void 0&&r!=null&&l(e,["parameters","storageUri"],r);let i=a(t,["fps"]);e!==void 0&&i!=null&&l(e,["parameters","fps"],i);let s=a(t,["durationSeconds"]);e!==void 0&&s!=null&&l(e,["parameters","durationSeconds"],s);let u=a(t,["seed"]);e!==void 0&&u!=null&&l(e,["parameters","seed"],u);let c=a(t,["aspectRatio"]);e!==void 0&&c!=null&&l(e,["parameters","aspectRatio"],c);let d=a(t,["resolution"]);e!==void 0&&d!=null&&l(e,["parameters","resolution"],d);let f=a(t,["personGeneration"]);e!==void 0&&f!=null&&l(e,["parameters","personGeneration"],f);let p=a(t,["pubsubTopic"]);e!==void 0&&p!=null&&l(e,["parameters","pubsubTopic"],p);let h=a(t,["negativePrompt"]);e!==void 0&&h!=null&&l(e,["parameters","negativePrompt"],h);let g=a(t,["enhancePrompt"]);e!==void 0&&g!=null&&l(e,["parameters","enhancePrompt"],g);let m=a(t,["generateAudio"]);e!==void 0&&m!=null&&l(e,["parameters","generateAudio"],m);let y=a(t,["lastFrame"]);e!==void 0&&y!=null&&l(e,["instances[0]","lastFrame"],ht(y));let _=a(t,["referenceImages"]);if(e!==void 0&&_!=null){let T=_;Array.isArray(T)&&(T=T.map(A=>HA(A))),l(e,["instances[0]","referenceImages"],T)}let v=a(t,["mask"]);e!==void 0&&v!=null&&l(e,["instances[0]","mask"],BA(v));let I=a(t,["compressionQuality"]);return e!==void 0&&I!=null&&l(e,["parameters","compressionQuality"],I),n}function Uw(t){let e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);let o=a(t,["metadata"]);o!=null&&l(e,["metadata"],o);let r=a(t,["done"]);r!=null&&l(e,["done"],r);let i=a(t,["error"]);i!=null&&l(e,["error"],i);let s=a(t,["response","generateVideoResponse"]);return s!=null&&l(e,["response"],qw(s)),e}function Hw(t){let e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);let o=a(t,["metadata"]);o!=null&&l(e,["metadata"],o);let r=a(t,["done"]);r!=null&&l(e,["done"],r);let i=a(t,["error"]);i!=null&&l(e,["error"],i);let s=a(t,["response"]);return s!=null&&l(e,["response"],Ww(s)),e}function Gw(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["_url","model"],$(t,o));let r=a(e,["prompt"]);r!=null&&l(n,["instances[0]","prompt"],r);let i=a(e,["image"]);i!=null&&l(n,["instances[0]","image"],fa(i));let s=a(e,["video"]);s!=null&&l(n,["instances[0]","video"],hy(s));let u=a(e,["source"]);u!=null&&zw(u,n);let c=a(e,["config"]);return c!=null&&Vw(c,n),n}function $w(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["_url","model"],$(t,o));let r=a(e,["prompt"]);r!=null&&l(n,["instances[0]","prompt"],r);let i=a(e,["image"]);i!=null&&l(n,["instances[0]","image"],ht(i));let s=a(e,["video"]);s!=null&&l(n,["instances[0]","video"],gy(s));let u=a(e,["source"]);u!=null&&Jw(u,n);let c=a(e,["config"]);return c!=null&&Bw(c,n),n}function qw(t){let e={},n=a(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Kw(s))),l(e,["generatedVideos"],i)}let o=a(t,["raiMediaFilteredCount"]);o!=null&&l(e,["raiMediaFilteredCount"],o);let r=a(t,["raiMediaFilteredReasons"]);return r!=null&&l(e,["raiMediaFilteredReasons"],r),e}function Ww(t){let e={},n=a(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Zw(s))),l(e,["generatedVideos"],i)}let o=a(t,["raiMediaFilteredCount"]);o!=null&&l(e,["raiMediaFilteredCount"],o);let r=a(t,["raiMediaFilteredReasons"]);return r!=null&&l(e,["raiMediaFilteredReasons"],r),e}function zw(t,e){let n={},o=a(t,["prompt"]);e!==void 0&&o!=null&&l(e,["instances[0]","prompt"],o);let r=a(t,["image"]);e!==void 0&&r!=null&&l(e,["instances[0]","image"],fa(r));let i=a(t,["video"]);return e!==void 0&&i!=null&&l(e,["instances[0]","video"],hy(i)),n}function Jw(t,e){let n={},o=a(t,["prompt"]);e!==void 0&&o!=null&&l(e,["instances[0]","prompt"],o);let r=a(t,["image"]);e!==void 0&&r!=null&&l(e,["instances[0]","image"],ht(r));let i=a(t,["video"]);return e!==void 0&&i!=null&&l(e,["instances[0]","video"],gy(i)),n}function jw(t){let e={},n=a(t,["_self"]);n!=null&&l(e,["image"],iA(n));let o=a(t,["raiFilteredReason"]);o!=null&&l(e,["raiFilteredReason"],o);let r=a(t,["_self"]);return r!=null&&l(e,["safetyAttributes"],dy(r)),e}function da(t){let e={},n=a(t,["_self"]);n!=null&&l(e,["image"],cy(n));let o=a(t,["raiFilteredReason"]);o!=null&&l(e,["raiFilteredReason"],o);let r=a(t,["_self"]);r!=null&&l(e,["safetyAttributes"],fy(r));let i=a(t,["prompt"]);return i!=null&&l(e,["enhancedPrompt"],i),e}function Yw(t){let e={},n=a(t,["_self"]);n!=null&&l(e,["mask"],cy(n));let o=a(t,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),l(e,["labels"],r)}return e}function Kw(t){let e={},n=a(t,["video"]);return n!=null&&l(e,["video"],OA(n)),e}function Zw(t){let e={},n=a(t,["_self"]);return n!=null&&l(e,["video"],VA(n)),e}function Qw(t){let e={},n=a(t,["modelSelectionConfig"]);n!=null&&l(e,["modelConfig"],n);let o=a(t,["responseJsonSchema"]);o!=null&&l(e,["responseJsonSchema"],o);let r=a(t,["audioTimestamp"]);r!=null&&l(e,["audioTimestamp"],r);let i=a(t,["candidateCount"]);i!=null&&l(e,["candidateCount"],i);let s=a(t,["enableAffectiveDialog"]);s!=null&&l(e,["enableAffectiveDialog"],s);let u=a(t,["frequencyPenalty"]);u!=null&&l(e,["frequencyPenalty"],u);let c=a(t,["logprobs"]);c!=null&&l(e,["logprobs"],c);let d=a(t,["maxOutputTokens"]);d!=null&&l(e,["maxOutputTokens"],d);let f=a(t,["mediaResolution"]);f!=null&&l(e,["mediaResolution"],f);let p=a(t,["presencePenalty"]);p!=null&&l(e,["presencePenalty"],p);let h=a(t,["responseLogprobs"]);h!=null&&l(e,["responseLogprobs"],h);let g=a(t,["responseMimeType"]);g!=null&&l(e,["responseMimeType"],g);let m=a(t,["responseModalities"]);m!=null&&l(e,["responseModalities"],m);let y=a(t,["responseSchema"]);y!=null&&l(e,["responseSchema"],y);let _=a(t,["routingConfig"]);_!=null&&l(e,["routingConfig"],_);let v=a(t,["seed"]);v!=null&&l(e,["seed"],v);let I=a(t,["speechConfig"]);I!=null&&l(e,["speechConfig"],I);let T=a(t,["stopSequences"]);T!=null&&l(e,["stopSequences"],T);let A=a(t,["temperature"]);A!=null&&l(e,["temperature"],A);let M=a(t,["thinkingConfig"]);M!=null&&l(e,["thinkingConfig"],M);let B=a(t,["topK"]);B!=null&&l(e,["topK"],B);let O=a(t,["topP"]);if(O!=null&&l(e,["topP"],O),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Xw(t,e){let n={},o=a(e,["model"]);return o!=null&&l(n,["_url","name"],$(t,o)),n}function eA(t,e){let n={},o=a(e,["model"]);return o!=null&&l(n,["_url","name"],$(t,o)),n}function tA(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&l(e,["enableWidget"],n),e}function nA(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&l(e,["timeRangeFilter"],n),e}function oA(t){let e={},n=a(t,["aspectRatio"]);n!=null&&l(e,["aspectRatio"],n);let o=a(t,["imageSize"]);if(o!=null&&l(e,["imageSize"],o),a(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(a(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function rA(t){let e={},n=a(t,["aspectRatio"]);n!=null&&l(e,["aspectRatio"],n);let o=a(t,["imageSize"]);o!=null&&l(e,["imageSize"],o);let r=a(t,["personGeneration"]);r!=null&&l(e,["personGeneration"],r);let i=a(t,["outputMimeType"]);i!=null&&l(e,["imageOutputOptions","mimeType"],i);let s=a(t,["outputCompressionQuality"]);return s!=null&&l(e,["imageOutputOptions","compressionQuality"],s),e}function iA(t){let e={},n=a(t,["bytesBase64Encoded"]);n!=null&&l(e,["imageBytes"],fn(n));let o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function cy(t){let e={},n=a(t,["gcsUri"]);n!=null&&l(e,["gcsUri"],n);let o=a(t,["bytesBase64Encoded"]);o!=null&&l(e,["imageBytes"],fn(o));let r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function fa(t){let e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");let n=a(t,["imageBytes"]);n!=null&&l(e,["bytesBase64Encoded"],fn(n));let o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function ht(t){let e={},n=a(t,["gcsUri"]);n!=null&&l(e,["gcsUri"],n);let o=a(t,["imageBytes"]);o!=null&&l(e,["bytesBase64Encoded"],fn(o));let r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function sA(t,e,n){let o={},r=a(e,["pageSize"]);n!==void 0&&r!=null&&l(n,["_query","pageSize"],r);let i=a(e,["pageToken"]);n!==void 0&&i!=null&&l(n,["_query","pageToken"],i);let s=a(e,["filter"]);n!==void 0&&s!=null&&l(n,["_query","filter"],s);let u=a(e,["queryBase"]);return n!==void 0&&u!=null&&l(n,["_url","models_url"],oy(t,u)),o}function aA(t,e,n){let o={},r=a(e,["pageSize"]);n!==void 0&&r!=null&&l(n,["_query","pageSize"],r);let i=a(e,["pageToken"]);n!==void 0&&i!=null&&l(n,["_query","pageToken"],i);let s=a(e,["filter"]);n!==void 0&&s!=null&&l(n,["_query","filter"],s);let u=a(e,["queryBase"]);return n!==void 0&&u!=null&&l(n,["_url","models_url"],oy(t,u)),o}function uA(t,e){let n={},o=a(e,["config"]);return o!=null&&sA(t,o,n),n}function lA(t,e){let n={},o=a(e,["config"]);return o!=null&&aA(t,o,n),n}function cA(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=a(t,["_self"]);if(r!=null){let i=ry(r);Array.isArray(i)&&(i=i.map(s=>ad(s))),l(e,["models"],i)}return e}function dA(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=a(t,["_self"]);if(r!=null){let i=ry(r);Array.isArray(i)&&(i=i.map(s=>ud(s))),l(e,["models"],i)}return e}function fA(t){let e={},n=a(t,["maskMode"]);n!=null&&l(e,["maskMode"],n);let o=a(t,["segmentationClasses"]);o!=null&&l(e,["maskClasses"],o);let r=a(t,["maskDilation"]);return r!=null&&l(e,["dilation"],r),e}function ad(t){let e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);let o=a(t,["displayName"]);o!=null&&l(e,["displayName"],o);let r=a(t,["description"]);r!=null&&l(e,["description"],r);let i=a(t,["version"]);i!=null&&l(e,["version"],i);let s=a(t,["_self"]);s!=null&&l(e,["tunedModelInfo"],MA(s));let u=a(t,["inputTokenLimit"]);u!=null&&l(e,["inputTokenLimit"],u);let c=a(t,["outputTokenLimit"]);c!=null&&l(e,["outputTokenLimit"],c);let d=a(t,["supportedGenerationMethods"]);d!=null&&l(e,["supportedActions"],d);let f=a(t,["temperature"]);f!=null&&l(e,["temperature"],f);let p=a(t,["maxTemperature"]);p!=null&&l(e,["maxTemperature"],p);let h=a(t,["topP"]);h!=null&&l(e,["topP"],h);let g=a(t,["topK"]);g!=null&&l(e,["topK"],g);let m=a(t,["thinking"]);return m!=null&&l(e,["thinking"],m),e}function ud(t){let e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);let o=a(t,["displayName"]);o!=null&&l(e,["displayName"],o);let r=a(t,["description"]);r!=null&&l(e,["description"],r);let i=a(t,["versionId"]);i!=null&&l(e,["version"],i);let s=a(t,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>Sw(h))),l(e,["endpoints"],p)}let u=a(t,["labels"]);u!=null&&l(e,["labels"],u);let c=a(t,["_self"]);c!=null&&l(e,["tunedModelInfo"],bA(c));let d=a(t,["defaultCheckpointId"]);d!=null&&l(e,["defaultCheckpointId"],d);let f=a(t,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),l(e,["checkpoints"],p)}return e}function pA(t){let e={},n=a(t,["mediaResolution"]);n!=null&&l(e,["mediaResolution"],n);let o=a(t,["codeExecutionResult"]);o!=null&&l(e,["codeExecutionResult"],o);let r=a(t,["executableCode"]);r!=null&&l(e,["executableCode"],r);let i=a(t,["fileData"]);i!=null&&l(e,["fileData"],ww(i));let s=a(t,["functionCall"]);s!=null&&l(e,["functionCall"],Aw(s));let u=a(t,["functionResponse"]);u!=null&&l(e,["functionResponse"],u);let c=a(t,["inlineData"]);c!=null&&l(e,["inlineData"],QS(c));let d=a(t,["text"]);d!=null&&l(e,["text"],d);let f=a(t,["thought"]);f!=null&&l(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&l(e,["thoughtSignature"],p);let h=a(t,["videoMetadata"]);return h!=null&&l(e,["videoMetadata"],h),e}function hA(t){let e={},n=a(t,["productImage"]);return n!=null&&l(e,["image"],ht(n)),e}function gA(t,e){let n={},o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&l(e,["parameters","sampleCount"],o);let r=a(t,["baseSteps"]);e!==void 0&&r!=null&&l(e,["parameters","baseSteps"],r);let i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&l(e,["parameters","storageUri"],i);let s=a(t,["seed"]);e!==void 0&&s!=null&&l(e,["parameters","seed"],s);let u=a(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&l(e,["parameters","safetySetting"],u);let c=a(t,["personGeneration"]);e!==void 0&&c!=null&&l(e,["parameters","personGeneration"],c);let d=a(t,["addWatermark"]);e!==void 0&&d!=null&&l(e,["parameters","addWatermark"],d);let f=a(t,["outputMimeType"]);e!==void 0&&f!=null&&l(e,["parameters","outputOptions","mimeType"],f);let p=a(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&l(e,["parameters","outputOptions","compressionQuality"],p);let h=a(t,["enhancePrompt"]);e!==void 0&&h!=null&&l(e,["parameters","enhancePrompt"],h);let g=a(t,["labels"]);return e!==void 0&&g!=null&&l(e,["labels"],g),n}function mA(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["_url","model"],$(t,o));let r=a(e,["source"]);r!=null&&vA(r,n);let i=a(e,["config"]);return i!=null&&gA(i,n),n}function yA(t){let e={},n=a(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>da(r))),l(e,["generatedImages"],o)}return e}function vA(t,e){let n={},o=a(t,["prompt"]);e!==void 0&&o!=null&&l(e,["instances[0]","prompt"],o);let r=a(t,["personImage"]);e!==void 0&&r!=null&&l(e,["instances[0]","personImage","image"],ht(r));let i=a(t,["productImages"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>hA(u))),l(e,["instances[0]","productImages"],s)}return n}function EA(t){let e={},n=a(t,["referenceImage"]);n!=null&&l(e,["referenceImage"],ht(n));let o=a(t,["referenceId"]);o!=null&&l(e,["referenceId"],o);let r=a(t,["referenceType"]);r!=null&&l(e,["referenceType"],r);let i=a(t,["maskImageConfig"]);i!=null&&l(e,["maskImageConfig"],fA(i));let s=a(t,["controlImageConfig"]);s!=null&&l(e,["controlImageConfig"],iw(s));let u=a(t,["styleImageConfig"]);u!=null&&l(e,["styleImageConfig"],u);let c=a(t,["subjectImageConfig"]);return c!=null&&l(e,["subjectImageConfig"],c),e}function dy(t){let e={},n=a(t,["safetyAttributes","categories"]);n!=null&&l(e,["categories"],n);let o=a(t,["safetyAttributes","scores"]);o!=null&&l(e,["scores"],o);let r=a(t,["contentType"]);return r!=null&&l(e,["contentType"],r),e}function fy(t){let e={},n=a(t,["safetyAttributes","categories"]);n!=null&&l(e,["categories"],n);let o=a(t,["safetyAttributes","scores"]);o!=null&&l(e,["scores"],o);let r=a(t,["contentType"]);return r!=null&&l(e,["contentType"],r),e}function _A(t){let e={},n=a(t,["category"]);if(n!=null&&l(e,["category"],n),a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let o=a(t,["threshold"]);return o!=null&&l(e,["threshold"],o),e}function CA(t){let e={},n=a(t,["image"]);return n!=null&&l(e,["image"],ht(n)),e}function DA(t,e){let n={},o=a(t,["mode"]);e!==void 0&&o!=null&&l(e,["parameters","mode"],o);let r=a(t,["maxPredictions"]);e!==void 0&&r!=null&&l(e,["parameters","maxPredictions"],r);let i=a(t,["confidenceThreshold"]);e!==void 0&&i!=null&&l(e,["parameters","confidenceThreshold"],i);let s=a(t,["maskDilation"]);e!==void 0&&s!=null&&l(e,["parameters","maskDilation"],s);let u=a(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&l(e,["parameters","binaryColorThreshold"],u);let c=a(t,["labels"]);return e!==void 0&&c!=null&&l(e,["labels"],c),n}function IA(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["_url","model"],$(t,o));let r=a(e,["source"]);r!=null&&SA(r,n);let i=a(e,["config"]);return i!=null&&DA(i,n),n}function TA(t){let e={},n=a(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Yw(r))),l(e,["generatedMasks"],o)}return e}function SA(t,e){let n={},o=a(t,["prompt"]);e!==void 0&&o!=null&&l(e,["instances[0]","prompt"],o);let r=a(t,["image"]);e!==void 0&&r!=null&&l(e,["instances[0]","image"],ht(r));let i=a(t,["scribbleImage"]);return e!==void 0&&i!=null&&l(e,["instances[0]","scribble"],CA(i)),n}function wA(t){let e={},n=a(t,["retrievalConfig"]);n!=null&&l(e,["retrievalConfig"],n);let o=a(t,["functionCallingConfig"]);return o!=null&&l(e,["functionCallingConfig"],Mw(o)),e}function AA(t){let e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=a(t,["computerUse"]);n!=null&&l(e,["computerUse"],n);let o=a(t,["fileSearch"]);o!=null&&l(e,["fileSearch"],o);let r=a(t,["codeExecution"]);if(r!=null&&l(e,["codeExecution"],r),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let i=a(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>p)),l(e,["functionDeclarations"],f)}let s=a(t,["googleMaps"]);s!=null&&l(e,["googleMaps"],tA(s));let u=a(t,["googleSearch"]);u!=null&&l(e,["googleSearch"],nA(u));let c=a(t,["googleSearchRetrieval"]);c!=null&&l(e,["googleSearchRetrieval"],c);let d=a(t,["urlContext"]);return d!=null&&l(e,["urlContext"],d),e}function py(t){let e={},n=a(t,["retrieval"]);n!=null&&l(e,["retrieval"],n);let o=a(t,["computerUse"]);if(o!=null&&l(e,["computerUse"],o),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let r=a(t,["codeExecution"]);r!=null&&l(e,["codeExecution"],r);let i=a(t,["enterpriseWebSearch"]);i!=null&&l(e,["enterpriseWebSearch"],i);let s=a(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>bw(h))),l(e,["functionDeclarations"],p)}let u=a(t,["googleMaps"]);u!=null&&l(e,["googleMaps"],u);let c=a(t,["googleSearch"]);c!=null&&l(e,["googleSearch"],c);let d=a(t,["googleSearchRetrieval"]);d!=null&&l(e,["googleSearchRetrieval"],d);let f=a(t,["urlContext"]);return f!=null&&l(e,["urlContext"],f),e}function MA(t){let e={},n=a(t,["baseModel"]);n!=null&&l(e,["baseModel"],n);let o=a(t,["createTime"]);o!=null&&l(e,["createTime"],o);let r=a(t,["updateTime"]);return r!=null&&l(e,["updateTime"],r),e}function bA(t){let e={},n=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&l(e,["baseModel"],n);let o=a(t,["createTime"]);o!=null&&l(e,["createTime"],o);let r=a(t,["updateTime"]);return r!=null&&l(e,["updateTime"],r),e}function NA(t,e){let n={},o=a(t,["displayName"]);e!==void 0&&o!=null&&l(e,["displayName"],o);let r=a(t,["description"]);e!==void 0&&r!=null&&l(e,["description"],r);let i=a(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&l(e,["defaultCheckpointId"],i),n}function xA(t,e){let n={},o=a(t,["displayName"]);e!==void 0&&o!=null&&l(e,["displayName"],o);let r=a(t,["description"]);e!==void 0&&r!=null&&l(e,["description"],r);let i=a(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&l(e,["defaultCheckpointId"],i),n}function RA(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["_url","name"],$(t,o));let r=a(e,["config"]);return r!=null&&NA(r,n),n}function PA(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["_url","model"],$(t,o));let r=a(e,["config"]);return r!=null&&xA(r,n),n}function FA(t,e){let n={},o=a(t,["outputGcsUri"]);e!==void 0&&o!=null&&l(e,["parameters","storageUri"],o);let r=a(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&l(e,["parameters","safetySetting"],r);let i=a(t,["personGeneration"]);e!==void 0&&i!=null&&l(e,["parameters","personGeneration"],i);let s=a(t,["includeRaiReason"]);e!==void 0&&s!=null&&l(e,["parameters","includeRaiReason"],s);let u=a(t,["outputMimeType"]);e!==void 0&&u!=null&&l(e,["parameters","outputOptions","mimeType"],u);let c=a(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&l(e,["parameters","outputOptions","compressionQuality"],c);let d=a(t,["enhanceInputImage"]);e!==void 0&&d!=null&&l(e,["parameters","upscaleConfig","enhanceInputImage"],d);let f=a(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&l(e,["parameters","upscaleConfig","imagePreservationFactor"],f);let p=a(t,["labels"]);e!==void 0&&p!=null&&l(e,["labels"],p);let h=a(t,["numberOfImages"]);e!==void 0&&h!=null&&l(e,["parameters","sampleCount"],h);let g=a(t,["mode"]);return e!==void 0&&g!=null&&l(e,["parameters","mode"],g),n}function kA(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["_url","model"],$(t,o));let r=a(e,["image"]);r!=null&&l(n,["instances[0]","image"],ht(r));let i=a(e,["upscaleFactor"]);i!=null&&l(n,["parameters","upscaleConfig","upscaleFactor"],i);let s=a(e,["config"]);return s!=null&&FA(s,n),n}function LA(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>da(i))),l(e,["generatedImages"],r)}return e}function OA(t){let e={},n=a(t,["uri"]);n!=null&&l(e,["uri"],n);let o=a(t,["encodedVideo"]);o!=null&&l(e,["videoBytes"],fn(o));let r=a(t,["encoding"]);return r!=null&&l(e,["mimeType"],r),e}function VA(t){let e={},n=a(t,["gcsUri"]);n!=null&&l(e,["uri"],n);let o=a(t,["bytesBase64Encoded"]);o!=null&&l(e,["videoBytes"],fn(o));let r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function BA(t){let e={},n=a(t,["image"]);n!=null&&l(e,["_self"],ht(n));let o=a(t,["maskMode"]);return o!=null&&l(e,["maskMode"],o),e}function UA(t){let e={},n=a(t,["image"]);n!=null&&l(e,["image"],fa(n));let o=a(t,["referenceType"]);return o!=null&&l(e,["referenceType"],o),e}function HA(t){let e={},n=a(t,["image"]);n!=null&&l(e,["image"],ht(n));let o=a(t,["referenceType"]);return o!=null&&l(e,["referenceType"],o),e}function hy(t){let e={},n=a(t,["uri"]);n!=null&&l(e,["uri"],n);let o=a(t,["videoBytes"]);o!=null&&l(e,["encodedVideo"],fn(o));let r=a(t,["mimeType"]);return r!=null&&l(e,["encoding"],r),e}function gy(t){let e={},n=a(t,["uri"]);n!=null&&l(e,["gcsUri"],n);let o=a(t,["videoBytes"]);o!=null&&l(e,["bytesBase64Encoded"],fn(o));let r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function GA(t,e){let n={},o=a(t,["displayName"]);return e!==void 0&&o!=null&&l(e,["displayName"],o),n}function $A(t){let e={},n=a(t,["config"]);return n!=null&&GA(n,e),e}function qA(t,e){let n={},o=a(t,["force"]);return e!==void 0&&o!=null&&l(e,["_query","force"],o),n}function WA(t){let e={},n=a(t,["name"]);n!=null&&l(e,["_url","name"],n);let o=a(t,["config"]);return o!=null&&qA(o,e),e}function zA(t){let e={},n=a(t,["name"]);return n!=null&&l(e,["_url","name"],n),e}function JA(t,e){let n={},o=a(t,["customMetadata"]);if(e!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),l(e,["customMetadata"],i)}let r=a(t,["chunkingConfig"]);return e!==void 0&&r!=null&&l(e,["chunkingConfig"],r),n}function jA(t){let e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);let o=a(t,["metadata"]);o!=null&&l(e,["metadata"],o);let r=a(t,["done"]);r!=null&&l(e,["done"],r);let i=a(t,["error"]);i!=null&&l(e,["error"],i);let s=a(t,["response"]);return s!=null&&l(e,["response"],KA(s)),e}function YA(t){let e={},n=a(t,["fileSearchStoreName"]);n!=null&&l(e,["_url","file_search_store_name"],n);let o=a(t,["fileName"]);o!=null&&l(e,["fileName"],o);let r=a(t,["config"]);return r!=null&&JA(r,e),e}function KA(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["parent"]);o!=null&&l(e,["parent"],o);let r=a(t,["documentName"]);return r!=null&&l(e,["documentName"],r),e}function ZA(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),n}function QA(t){let e={},n=a(t,["config"]);return n!=null&&ZA(n,e),e}function XA(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=a(t,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),l(e,["fileSearchStores"],i)}return e}function my(t,e){let n={},o=a(t,["mimeType"]);e!==void 0&&o!=null&&l(e,["mimeType"],o);let r=a(t,["displayName"]);e!==void 0&&r!=null&&l(e,["displayName"],r);let i=a(t,["customMetadata"]);if(e!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>c)),l(e,["customMetadata"],u)}let s=a(t,["chunkingConfig"]);return e!==void 0&&s!=null&&l(e,["chunkingConfig"],s),n}function eM(t){let e={},n=a(t,["fileSearchStoreName"]);n!=null&&l(e,["_url","file_search_store_name"],n);let o=a(t,["config"]);return o!=null&&my(o,e),e}function tM(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}var nM="Content-Type",oM="X-Server-Timeout",rM="User-Agent",ld="x-goog-api-client",iM="1.37.0",sM=`google-genai-sdk/${iM}`,aM="v1beta1",uM="v1beta",cd=class{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});let r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:aM,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:uM,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){let e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");let o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){let r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);if(e.queryParams)for(let[s,u]of Object.entries(e.queryParams))r.searchParams.append(s,String(u));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,n){let o=JSON.parse(JSON.stringify(e));for(let[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,r){if(n&&n.timeout||r){let i=new AbortController,s=i.signal;if(n.timeout&&n?.timeout>0){let u=setTimeout(()=>i.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=s}return n&&n.extraBody!==null&&lM(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Fm(r),new xr(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Fm(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return dt(this,arguments,function*(){var o;let r=(o=e?.body)===null||o===void 0?void 0:o.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let s="",u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){let{done:d,value:f}=yield R(r.read());if(d){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}let p=i.decode(f,{stream:!0});try{let m=JSON.parse(p);if("error"in m){let y=JSON.parse(JSON.stringify(m.error)),_=y.status,v=y.code,I=`got status: ${_}. ${JSON.stringify(m)}`;if(v>=400&&v<600)throw new Ys({message:I,status:v})}}catch(m){if(m.name==="ApiError")throw m}s+=p;let h=-1,g=0;for(;;){h=-1,g=0;for(let _ of c){let v=s.indexOf(_);v!==-1&&(h===-1||v<h)&&(h=v,g=_.length)}if(h===-1)break;let m=s.substring(0,h);s=s.substring(h+g);let y=m.trim();if(y.startsWith(u)){let _=y.substring(u.length).trim();try{let v=new Response(_,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield R(new xr(v))}catch(v){throw new Error(`exception parsing stream chunk ${_}. ${v}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){let e={},n=sM+" "+this.clientOptions.userAgentExtra;return e[rM]=n,e[ld]=n,e[nM]="application/json",e}async getHeadersInternal(e,n){let o=new Headers;if(e&&e.headers){for(let[r,i]of Object.entries(e.headers))o.append(r,i);e.timeout&&e.timeout>0&&o.append(oM,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(e){var n;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(e,n){var o;let r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);let i=this.clientOptions.uploader,s=await i.stat(e);r.sizeBytes=String(s.size);let u=(o=n?.mimeType)!==null&&o!==void 0?o:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;let c={file:r},d=this.getFileName(e),f=S("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,d,c,n?.httpOptions);return i.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,o){var r;let i=this.clientOptions.uploader,s=await i.stat(n),u=String(s.size),c=(r=o?.mimeType)!==null&&r!==void 0?r:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");let d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),p={};o!=null&&my(o,p);let h=await this.fetchUploadUrl(d,u,c,f,p,o?.httpOptions);return i.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,o,r,i,s){var u;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};let d=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let f=(u=d?.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}};async function Fm(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){let n=t.status,o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};let r=JSON.stringify(o);throw n>=400&&n<600?new Ys({message:r,status:n}):new Error(r)}}function lM(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{let i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,s){let u=Object.assign({},i);for(let c in s)if(Object.prototype.hasOwnProperty.call(s,c)){let d=s[c],f=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?u[c]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}let r=o(n,e);t.body=JSON.stringify(r)}var cM="mcp_used/unknown",dM=!1;function yy(t){for(let e of t)if(fM(e)||typeof e=="object"&&"inputSchema"in e)return!0;return dM}function vy(t){var e;let n=(e=t[ld])!==null&&e!==void 0?e:"";t[ld]=(n+` ${cM}`).trimStart()}function fM(t){return t!==null&&typeof t=="object"&&t instanceof dd}function pM(t){return dt(this,arguments,function*(n,o=100){let r,i=0;for(;i<o;){let s=yield R(n.listTools({cursor:r}));for(let u of s.tools)yield yield R(u),i++;if(!s.nextCursor)break;r=s.nextCursor}})}var dd=class t{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new t(e,n)}async initialize(){var e,n,o,r;if(this.mcpTools.length>0)return;let i={},s=[];for(let f of this.mcpClients)try{for(var u=!0,c=(n=void 0,ft(pM(f))),d;d=await c.next(),e=d.done,!e;u=!0){r=d.value,u=!1;let p=r;s.push(p);let h=p.name;if(i[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);i[h]=f}}catch(p){n={error:p}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),KI(this.mcpTools,this.config)}async callTool(e){await this.initialize();let n=[];for(let o of e)if(o.name in this.functionNameToMcpClient){let r=this.functionNameToMcpClient[o.name],i;this.config.timeout&&(i={timeout:this.config.timeout});let s=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:s.isError?{error:s}:s}})}return n}};async function hM(t,e,n){let o=new Qc,r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),e(o)}var fd=class{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),s=mM(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`,d=()=>{},f=new Promise(T=>{d=T}),p=e.callbacks,h=function(){d({})},g=this.apiClient,m={onopen:h,onmessage:T=>{hM(g,p.onmessage,T)},onerror:(n=p?.onerror)!==null&&n!==void 0?n:function(T){},onclose:(o=p?.onclose)!==null&&o!==void 0?o:function(T){}},y=this.webSocketFactory.create(c,gM(s),m);y.connect(),await f;let I={setup:{model:$(this.apiClient,e.model)}};return y.send(JSON.stringify(I)),new pd(y,this.apiClient)}},pd=class{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");let n=GS(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});let n=HS(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){let n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(br.PLAY)}pause(){this.sendPlaybackControl(br.PAUSE)}stop(){this.sendPlaybackControl(br.STOP)}resetContext(){this.sendPlaybackControl(br.RESET_CONTEXT)}close(){this.conn.close()}};function gM(t){let e={};return t.forEach((n,o)=>{e[o]=n}),e}function mM(t){let e=new Headers;for(let[n,o]of Object.entries(t))e.append(n,o);return e}var yM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function vM(t,e,n){let o=new Zc,r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;let i=JSON.parse(r);if(t.isVertexAI()){let s=WS(i);Object.assign(o,s)}else Object.assign(o,i);e(o)}var hd=class{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new fd(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,r,i,s,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),f,p=this.apiClient.getHeaders();e.config&&e.config.tools&&yy(e.config.tools)&&vy(p);let h=CM(p);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,f);else{let P=this.apiClient.getApiKey(),U="BidiGenerateContent",Ce="key";P?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),U="BidiGenerateContentConstrained",Ce="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${U}?${Ce}=${P}`}let g=()=>{},m=new Promise(P=>{g=P}),y=e.callbacks,_=function(){var P;(P=y?.onopen)===null||P===void 0||P.call(y),g({})},v=this.apiClient,I={onopen:_,onmessage:P=>{vM(v,y.onmessage,P)},onerror:(n=y?.onerror)!==null&&n!==void 0?n:function(P){},onclose:(o=y?.onclose)!==null&&o!==void 0?o:function(P){}},T=this.webSocketFactory.create(f,_M(h),I);T.connect(),await m;let A=$(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&A.startsWith("publishers/")){let P=this.apiClient.getProject(),U=this.apiClient.getLocation();A=`projects/${P}/locations/${U}/`+A}let M={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Vc.AUDIO]}:e.config.responseModalities=[Vc.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let B=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],O=[];for(let P of B)if(this.isCallableTool(P)){let U=P;O.push(await U.tool())}else O.push(P);O.length>0&&(e.config.tools=O);let re={model:A,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?M=US(this.apiClient,re):M=BS(this.apiClient,re),delete M.config,T.send(JSON.stringify(M)),new gd(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}},EM={turnComplete:!0},gd=class{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=et(n.turns),e.isVertexAI()||(o=o.map(r=>ca(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(let i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(yM)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},EM),e);let n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:qS(e)}:n={realtimeInput:$S(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");let n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}};function _M(t){let e={};return t.forEach((n,o)=>{e[o]=n}),e}function CM(t){let e=new Headers;for(let[n,o]of Object.entries(t))e.append(n,o);return e}var km=10;function Lm(t){var e,n,o;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(let s of(n=t?.tools)!==null&&n!==void 0?n:[])if(Mo(s)){r=!0;break}if(!r)return!0;let i=(o=t?.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Mo(t){return"callTool"in t&&typeof t.callTool=="function"}function DM(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>Mo(r)))!==null&&o!==void 0?o:!1}function Om(t){var e;let n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,r)=>{if(Mo(o))return;let i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(r)}),n}function Vm(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}var md=class extends pt{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,r,i,s,u;let c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!DM(n)||Lm(n.config))return await this.generateContentInternal(c);let d=Om(n);if(d.length>0){let y=d.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let f,p,h=et(c.contents),g=(i=(r=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:km,m=0;for(;m<g&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){let y=f.candidates[0].content,_=[];for(let v of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(Mo(v)){let T=await v.callTool(f.functionCalls);_.push(...T)}m++,p={role:"user",parts:_},c.contents=et(c.contents),c.contents.push(y),c.contents.push(p),Vm(c.config)&&(h.push(y),h.push(p))}return Vm(c.config)&&(f.automaticFunctionCallingHistory=h),f},this.generateContentStream=async n=>{var o,r,i,s,u;if(this.maybeMoveToResponseJsonSchem(n),Lm(n.config)){let p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}let c=Om(n);if(c.length>0){let p=c.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}let d=(i=(r=(o=n?.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(u=(s=n?.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i,s=[];if(o?.generatedImages)for(let c of o.generatedImages)c&&c?.safetyAttributes&&((r=c?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=c?.safetyAttributes:s.push(c);let u;return i?u={generatedImages:s,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async n=>{var o;let s={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((o=s.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new zt(pn.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{let o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));let r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,i,s,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(i=n.source)===null||i===void 0?void 0:i.video)===null||s===void 0)&&s.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,r;let i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;let s=await Promise.all(i.map(async c=>Mo(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&yy(e.config.tools)){let c=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{},d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),vy(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,o,r;let i=new Map;for(let s of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(Mo(s)){let u=s,c=await u.tool();for(let d of(r=c.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,u)}}return i}async processAfcStream(e){var n,o,r;let i=(r=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:km,s=!1,u=0,c=await this.initAfcToolsMap(e);return(function(d,f,p){return dt(this,arguments,function*(){for(var h,g,m,y,_,v;u<i;){s&&(u++,s=!1);let M=yield R(d.processParamsMaybeAddMcpUsage(p)),B=yield R(d.generateContentStreamInternal(M)),O=[],re=[];try{for(var I=!0,T=(g=void 0,ft(B)),A;A=yield R(T.next()),h=A.done,!h;I=!0){y=A.value,I=!1;let P=y;if(yield yield R(P),P.candidates&&(!((_=P.candidates[0])===null||_===void 0)&&_.content)){re.push(P.candidates[0].content);for(let U of(v=P.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(u<i&&U.functionCall){if(!U.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(U.functionCall.name)){let Ce=yield R(f.get(U.functionCall.name).callTool([U.functionCall]));O.push(...Ce)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${U.functionCall.name}`)}}}}catch(P){g={error:P}}finally{try{!I&&!h&&(m=T.return)&&(yield R(m.call(T)))}finally{if(g)throw g.error}}if(O.length>0){s=!0;let P=new zn;P.candidates=[{content:{role:"user",parts:O}}],yield yield R(P);let U=[];U.push(...re),U.push({role:"user",parts:O});let Ce=et(p.contents).concat(U);p.contents=Ce}else break}})})(this,c,e)}async generateContentInternal(e){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){let d=xm(this.apiClient,e);return u=S("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Pm(f),h=new zn;return Object.assign(h,p),h})}else{let d=Nm(this.apiClient,e);return u=S("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Rm(f),h=new zn;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){let d=xm(this.apiClient,e);return u=S("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return dt(this,arguments,function*(){var h,g,m,y;try{for(var _=!0,v=ft(p),I;I=yield R(v.next()),h=I.done,!h;_=!0){y=I.value,_=!1;let T=y,A=Pm(yield R(T.json()));A.sdkHttpResponse={headers:T.headers};let M=new zn;Object.assign(M,A),yield yield R(M)}}catch(T){g={error:T}}finally{try{!_&&!h&&(m=v.return)&&(yield R(m.call(v)))}finally{if(g)throw g.error}}})})}else{let d=Nm(this.apiClient,e);return u=S("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(p){return dt(this,arguments,function*(){var h,g,m,y;try{for(var _=!0,v=ft(p),I;I=yield R(v.next()),h=I.done,!h;_=!0){y=I.value,_=!1;let T=y,A=Rm(yield R(T.json()));A.sdkHttpResponse={headers:T.headers};let M=new zn;Object.assign(M,A),yield yield R(M)}}catch(T){g={error:T}}finally{try{!_&&!h&&(m=v.return)&&(yield R(m.call(v)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){let d=Dw(this.apiClient,e);return u=S("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Tw(f),h=new Ls;return Object.assign(h,p),h})}else{let d=Cw(this.apiClient,e);return u=S("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Iw(f),h=new Ls;return Object.assign(h,p),h})}}async generateImagesInternal(e){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){let d=kw(this.apiClient,e);return u=S("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Ow(f),h=new Os;return Object.assign(h,p),h})}else{let d=Fw(this.apiClient,e);return u=S("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Lw(f),h=new Os;return Object.assign(h,p),h})}}async editImageInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let u=yw(this.apiClient,e);return i=S("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=vw(c),f=new Bc;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let u=kA(this.apiClient,e);return i=S("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=LA(c),f=new Uc;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let u=mA(this.apiClient,e);return i=S("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=yA(c),f=new Hc;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let u=IA(this.apiClient,e);return i=S("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=TA(c),f=new Gc;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){let d=eA(this.apiClient,e);return u=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>ud(f))}else{let d=Xw(this.apiClient,e);return u=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>ad(f))}}async listInternal(e){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){let d=lA(this.apiClient,e);return u=S("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=dA(f),h=new Vs;return Object.assign(h,p),h})}else{let d=uA(this.apiClient,e);return u=S("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=cA(f),h=new Vs;return Object.assign(h,p),h})}}async update(e){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){let d=PA(this.apiClient,e);return u=S("{model}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>ud(f))}else{let d=RA(this.apiClient,e);return u=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>ad(f))}}async delete(e){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){let d=pw(this.apiClient,e);return u=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=gw(f),h=new Bs;return Object.assign(h,p),h})}else{let d=fw(this.apiClient,e);return u=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=hw(f),h=new Bs;return Object.assign(h,p),h})}}async countTokens(e){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){let d=lw(this.apiClient,e);return u=S("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=dw(f),h=new Us;return Object.assign(h,p),h})}else{let d=uw(this.apiClient,e);return u=S("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=cw(f),h=new Us;return Object.assign(h,p),h})}}async computeTokens(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let u=tw(this.apiClient,e);return i=S("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=nw(c),f=new $c;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){let d=$w(this.apiClient,e);return u=S("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{let p=Hw(f),h=new Hs;return Object.assign(h,p),h})}else{let d=Gw(this.apiClient,e);return u=S("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{let p=Uw(f),h=new Hs;return Object.assign(h,p),h})}}};var yd=class extends pt{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){let n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let r=n.name.split("/operations/")[0],i;o&&"httpOptions"in o&&(i=o.httpOptions);let s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{let r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){let n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let r=n.name.split("/operations/")[0],i;o&&"httpOptions"in o&&(i=o.httpOptions);let s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{let r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){let d=OI(e);return u=S("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s}else{let d=LI(e);return u=S("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s}}async fetchPredictVideosOperationInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let u=bI(e);return i=S("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}};function IM(t){let e={},n=a(t,["data"]);if(n!=null&&l(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function TM(t){let e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>PM(i))),l(e,["parts"],r)}let o=a(t,["role"]);return o!=null&&l(e,["role"],o),e}function SM(t,e,n){let o={},r=a(e,["expireTime"]);n!==void 0&&r!=null&&l(n,["expireTime"],r);let i=a(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&l(n,["newSessionExpireTime"],i);let s=a(e,["uses"]);n!==void 0&&s!=null&&l(n,["uses"],s);let u=a(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&l(n,["bidiGenerateContentSetup"],RM(t,u));let c=a(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&l(n,["fieldMask"],c),o}function wM(t,e){let n={},o=a(e,["config"]);return o!=null&&l(n,["config"],SM(t,o,n)),n}function AM(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);let o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function MM(t){let e={},n=a(t,["id"]);n!=null&&l(e,["id"],n);let o=a(t,["args"]);o!=null&&l(e,["args"],o);let r=a(t,["name"]);if(r!=null&&l(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function bM(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&l(e,["enableWidget"],n),e}function NM(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&l(e,["timeRangeFilter"],n),e}function xM(t,e){let n={},o=a(t,["generationConfig"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig"],o);let r=a(t,["responseModalities"]);e!==void 0&&r!=null&&l(e,["setup","generationConfig","responseModalities"],r);let i=a(t,["temperature"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig","temperature"],i);let s=a(t,["topP"]);e!==void 0&&s!=null&&l(e,["setup","generationConfig","topP"],s);let u=a(t,["topK"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","topK"],u);let c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","maxOutputTokens"],c);let d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","mediaResolution"],d);let f=a(t,["seed"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","seed"],f);let p=a(t,["speechConfig"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","speechConfig"],Bd(p));let h=a(t,["thinkingConfig"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","thinkingConfig"],h);let g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],g);let m=a(t,["systemInstruction"]);e!==void 0&&m!=null&&l(e,["setup","systemInstruction"],TM(be(m)));let y=a(t,["tools"]);if(e!==void 0&&y!=null){let B=Ro(y);Array.isArray(B)&&(B=B.map(O=>kM(xo(O)))),l(e,["setup","tools"],B)}let _=a(t,["sessionResumption"]);e!==void 0&&_!=null&&l(e,["setup","sessionResumption"],FM(_));let v=a(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&l(e,["setup","inputAudioTranscription"],v);let I=a(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&l(e,["setup","outputAudioTranscription"],I);let T=a(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&l(e,["setup","realtimeInputConfig"],T);let A=a(t,["contextWindowCompression"]);e!==void 0&&A!=null&&l(e,["setup","contextWindowCompression"],A);let M=a(t,["proactivity"]);if(e!==void 0&&M!=null&&l(e,["setup","proactivity"],M),a(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function RM(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["setup","model"],$(t,o));let r=a(e,["config"]);return r!=null&&l(n,["config"],xM(r,n)),n}function PM(t){let e={},n=a(t,["mediaResolution"]);n!=null&&l(e,["mediaResolution"],n);let o=a(t,["codeExecutionResult"]);o!=null&&l(e,["codeExecutionResult"],o);let r=a(t,["executableCode"]);r!=null&&l(e,["executableCode"],r);let i=a(t,["fileData"]);i!=null&&l(e,["fileData"],AM(i));let s=a(t,["functionCall"]);s!=null&&l(e,["functionCall"],MM(s));let u=a(t,["functionResponse"]);u!=null&&l(e,["functionResponse"],u);let c=a(t,["inlineData"]);c!=null&&l(e,["inlineData"],IM(c));let d=a(t,["text"]);d!=null&&l(e,["text"],d);let f=a(t,["thought"]);f!=null&&l(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&l(e,["thoughtSignature"],p);let h=a(t,["videoMetadata"]);return h!=null&&l(e,["videoMetadata"],h),e}function FM(t){let e={},n=a(t,["handle"]);if(n!=null&&l(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function kM(t){let e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=a(t,["computerUse"]);n!=null&&l(e,["computerUse"],n);let o=a(t,["fileSearch"]);o!=null&&l(e,["fileSearch"],o);let r=a(t,["codeExecution"]);if(r!=null&&l(e,["codeExecution"],r),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let i=a(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>p)),l(e,["functionDeclarations"],f)}let s=a(t,["googleMaps"]);s!=null&&l(e,["googleMaps"],bM(s));let u=a(t,["googleSearch"]);u!=null&&l(e,["googleSearch"],NM(u));let c=a(t,["googleSearchRetrieval"]);c!=null&&l(e,["googleSearchRetrieval"],c);let d=a(t,["urlContext"]);return d!=null&&l(e,["urlContext"],d),e}function LM(t){let e=[];for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)){let o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){let r=Object.keys(o).map(i=>`${n}.${i}`);e.push(...r)}else e.push(n)}return e.join(",")}function OM(t,e){let n=null,o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){let i=o.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;let r=t.fieldMask;if(n){let i=LM(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)i?t.fieldMask=i:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){let s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],u=[];r.length>0&&(u=r.map(d=>s.includes(d)?`generationConfig.${d}`:d));let c=[];i&&c.push(i),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}var vd=class extends pt{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let u=wM(this.apiClient,e);i=S("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;let c=OM(u,e.config);return r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}};function VM(t,e){let n={},o=a(t,["force"]);return e!==void 0&&o!=null&&l(e,["_query","force"],o),n}function BM(t){let e={},n=a(t,["name"]);n!=null&&l(e,["_url","name"],n);let o=a(t,["config"]);return o!=null&&VM(o,e),e}function UM(t){let e={},n=a(t,["name"]);return n!=null&&l(e,["_url","name"],n),e}function HM(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),n}function GM(t){let e={},n=a(t,["parent"]);n!=null&&l(e,["_url","parent"],n);let o=a(t,["config"]);return o!=null&&HM(o,e),e}function $M(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=a(t,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),l(e,["documents"],i)}return e}var Ed=class extends pt{constructor(e){super(),this.apiClient=e,this.list=async n=>new zt(pn.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=UM(e);return i=S("{name}",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let s=BM(e);r=S("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=GM(e);return i=S("{parent}/documents",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=$M(c),f=new qc;return Object.assign(f,d),f})}}};var _d=class extends pt{constructor(e,n=new Ed(e)){super(),this.apiClient=e,this.documents=n,this.list=async(o={})=>new zt(pn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=$A(e);return i=S("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async get(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=zA(e);return i=S("{name}",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let s=WA(e);r=S("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=QA(e);return i=S("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=XA(c),f=new Wc;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=eM(e);return i=S("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=tM(c),f=new zc;return Object.assign(f,d),f})}}async importFile(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=YA(e);return i=S("{file_search_store_name}:importFile",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=jA(c),f=new Jc;return Object.assign(f,d),f})}}};var Ey=function(){let{crypto:t}=globalThis;if(t?.randomUUID)return Ey=t.randomUUID.bind(t),t.randomUUID();let e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))},qM=()=>Ey();function Cd(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}var Dd=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){let e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};var Oe=class extends Error{},Ve=class t extends Oe{constructor(e,n,o,r){super(`${t.makeMessage(e,n,o)}`),this.status=e,this.headers=r,this.error=n}static makeMessage(e,n,o){let r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,o,r){if(!e||!r)return new bo({message:o,cause:Dd(n)});let i=n;return e===400?new Zs(e,i,o,r):e===401?new Qs(e,i,o,r):e===403?new Xs(e,i,o,r):e===404?new ea(e,i,o,r):e===409?new ta(e,i,o,r):e===422?new na(e,i,o,r):e===429?new oa(e,i,o,r):e>=500?new ra(e,i,o,r):new t(e,i,o,r)}},Rr=class extends Ve{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},bo=class extends Ve{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},Ks=class extends bo{constructor({message:e}={}){super({message:e??"Request timed out."})}},Zs=class extends Ve{},Qs=class extends Ve{},Xs=class extends Ve{},ea=class extends Ve{},ta=class extends Ve{},na=class extends Ve{},oa=class extends Ve{},ra=class extends Ve{};var WM=/^[a-z][a-z0-9+.-]*:/i,zM=t=>WM.test(t),Id=t=>(Id=Array.isArray,Id(t)),JM=Id,jM=JM,Bm=jM;function YM(t){if(!t)return!0;for(let e in t)return!1;return!0}function KM(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var ZM=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Oe(`${t} must be an integer`);if(e<0)throw new Oe(`${t} must be a positive integer`);return e},QM=t=>{try{return JSON.parse(t)}catch{return}};var XM=t=>new Promise(e=>setTimeout(e,t));var wo="0.0.1";function eb(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}var tb=()=>{var t,e,n,o,r;let i=eb();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":wo,"X-Stainless-OS":Hm(Deno.build.os),"X-Stainless-Arch":Um(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":wo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":wo,"X-Stainless-OS":Hm((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Um((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};let s=nb();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":wo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":wo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function nb(){if(typeof navigator>"u"||!navigator)return null;let t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:e,pattern:n}of t){let o=n.exec(navigator.userAgent);if(o){let r=o[1]||0,i=o[2]||0,s=o[3]||0;return{browser:e,version:`${r}.${i}.${s}`}}}return null}var Um=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Hm=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown"),bs,ob=()=>bs??(bs=tb());function rb(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function _y(...t){let e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function ib(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return _y({start(){},async pull(n){let{done:o,value:r}=await e.next();o?n.close():n.enqueue(r)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Cy(t){if(t[Symbol.asyncIterator])return t;let e=t.getReader();return{async next(){try{let n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){let n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function sb(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}let o=t.getReader(),r=o.cancel();o.releaseLock(),await r}var ab=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});var Dy=()=>{var t;if(typeof File>"u"){let{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function kc(t,e,n){return Dy(),new File(t,e??"unknown_file",n)}function ub(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}var lb=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";var Iy=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",cb=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Iy(t),db=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function fb(t,e,n){if(Dy(),t=await t,cb(t))return t instanceof File?t:kc([await t.arrayBuffer()],t.name);if(db(t)){let r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),kc(await Td(r),e,n)}let o=await Td(t);if(e||(e=ub(t)),!n?.type){let r=o.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return kc(o,e,n)}async function Td(t){var e,n,o,r,i;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(Iy(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(lb(t))try{for(var u=!0,c=ft(t),d;d=await c.next(),e=d.done,!e;u=!0){r=d.value,u=!1;let f=r;s.push(...await Td(f))}}catch(f){n={error:f}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}else{let f=(i=t?.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof t}${f?`; constructor: ${f}`:""}${pb(t)}`)}return s}function pb(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}var hb=(()=>{class t{constructor(n){this._client=n}}t._key=[];return t})();function Ty(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}var Gm=Object.freeze(Object.create(null)),gb=(t=Ty)=>function(n,...o){if(n.length===1)return n[0];let r=!1,i=[],s=n.reduce((f,p,h)=>{var g,m,y;/[?#]/.test(p)&&(r=!0);let _=o[h],v=(r?encodeURIComponent:t)(""+_);return h!==o.length&&(_==null||typeof _=="object"&&_.toString===((y=Object.getPrototypeOf((m=Object.getPrototypeOf((g=_.hasOwnProperty)!==null&&g!==void 0?g:Gm))!==null&&m!==void 0?m:Gm))===null||y===void 0?void 0:y.toString))&&(v=_+"",i.push({start:f.length+p.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(_).slice(8,-1)} is not a valid path parameter`})),f+p+(h===o.length?"":v)},""),u=s.split(/[?#]/,1)[0],c=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi,d;for(;(d=c.exec(u))!==null;)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((f,p)=>f.start-p.start),i.length>0){let f=0,p=i.reduce((h,g)=>{let m=" ".repeat(g.start-f),y="^".repeat(g.length);return f=g.start+g.length,h+m+y},"");throw new Oe(`Path parameters result in path with invalid segments:
${i.map(h=>h.error).join(`
`)}
${s}
${p}`)}return s},Ns=gb(Ty);var ia=class extends hb{create(e,n){var o;let{api_version:r=this._client.apiVersion}=e,i=js(e,["api_version"]);if("model"in i&&"agent_config"in i)throw new Oe("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new Oe("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ns`/${r}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,n={},o){let{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(Ns`/${r}/interactions/${e}`,o)}cancel(e,n={},o){let{api_version:r=this._client.apiVersion}=n??{};return this._client.post(Ns`/${r}/interactions/${e}/cancel`,o)}get(e,n={},o){var r;let i=n??{},{api_version:s=this._client.apiVersion}=i,u=js(i,["api_version"]);return this._client.get(Ns`/${s}/interactions/${e}`,Object.assign(Object.assign({query:u},o),{stream:(r=n?.stream)!==null&&r!==void 0?r:!1}))}};ia._key=Object.freeze(["interactions"]);var sa=class extends ia{};function mb(t){let e=0;for(let r of t)e+=r.length;let n=new Uint8Array(e),o=0;for(let r of t)n.set(r,o),o+=r.length;return n}var xs;function Ud(t){let e;return(xs??(e=new globalThis.TextEncoder,xs=e.encode.bind(e)))(t)}var Rs;function $m(t){let e;return(Rs??(e=new globalThis.TextDecoder,Rs=e.decode.bind(e)))(t)}var No=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];let n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Ud(e):e;this.buffer=mb([this.buffer,n]);let o=[],r;for(;(r=yb(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push($m(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}let i=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,s=$m(this.buffer.subarray(0,i));o.push(s),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}};No.NEWLINE_CHARS=new Set([`
`,"\r"]);No.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function yb(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function vb(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}var aa={off:0,error:200,warn:300,info:400,debug:500},qm=(t,e,n)=>{if(t){if(KM(aa,t))return t;Pe(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(aa))}`)}};function Nr(){}function Ps(t,e,n){return!e||aa[t]>aa[n]?Nr:e[t].bind(e)}var Eb={error:Nr,warn:Nr,info:Nr,debug:Nr},Wm=new WeakMap;function Pe(t){var e;let n=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Eb;let r=Wm.get(n);if(r&&r[0]===o)return r[1];let i={error:Ps("error",n,o),warn:Ps("warn",n,o),info:Ps("info",n,o),debug:Ps("debug",n,o)};return Wm.set(n,[o,i]),i}var Wn=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var Sd=class t{constructor(e,n,o){this.iterator=e,this.controller=n,this.client=o}static fromSSEResponse(e,n,o){let r=!1,i=o?Pe(o):console;function s(){return dt(this,arguments,function*(){var c,d,f,p;if(r)throw new Oe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let h=!1;try{try{for(var g=!0,m=ft(_b(e,n)),y;y=yield R(m.next()),c=y.done,!c;g=!0){p=y.value,g=!1;let _=p;if(!h)if(_.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield R(JSON.parse(_.data))}catch(v){throw i.error("Could not parse message into JSON:",_.data),i.error("From chunk:",_.raw),v}}}catch(_){d={error:_}}finally{try{!g&&!c&&(f=m.return)&&(yield R(f.call(m)))}finally{if(d)throw d.error}}h=!0}catch(_){if(Cd(_))return yield R(void 0);throw _}finally{h||n.abort()}})}return new t(s,n,o)}static fromReadableStream(e,n,o){let r=!1;function i(){return dt(this,arguments,function*(){var c,d,f,p;let h=new No,g=Cy(e);try{for(var m=!0,y=ft(g),_;_=yield R(y.next()),c=_.done,!c;m=!0){p=_.value,m=!1;let v=p;for(let I of h.decode(v))yield yield R(I)}}catch(v){d={error:v}}finally{try{!m&&!c&&(f=y.return)&&(yield R(f.call(y)))}finally{if(d)throw d.error}}for(let v of h.flush())yield yield R(v)})}function s(){return dt(this,arguments,function*(){var c,d,f,p;if(r)throw new Oe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let h=!1;try{try{for(var g=!0,m=ft(i()),y;y=yield R(m.next()),c=y.done,!c;g=!0){p=y.value,g=!1;let _=p;h||_&&(yield yield R(JSON.parse(_)))}}catch(_){d={error:_}}finally{try{!g&&!c&&(f=m.return)&&(yield R(f.call(m)))}finally{if(d)throw d.error}}h=!0}catch(_){if(Cd(_))return yield R(void 0);throw _}finally{h||n.abort()}})}return new t(s,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){let e=[],n=[],o=this.iterator(),r=i=>({next:()=>{if(i.length===0){let s=o.next();e.push(s),n.push(s)}return i.shift()}});return[new t(()=>r(e),this.controller,this.client),new t(()=>r(n),this.controller,this.client)]}toReadableStream(){let e=this,n;return _y({async start(){n=e[Symbol.asyncIterator]()},async pull(o){try{let{value:r,done:i}=await n.next();if(i)return o.close();let s=Ud(JSON.stringify(r)+`
`);o.enqueue(s)}catch(r){o.error(r)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}};function _b(t,e){return dt(this,arguments,function*(){var o,r,i,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Oe("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Oe("Attempted to iterate over a response with no body");let u=new wd,c=new No,d=Cy(t.body);try{for(var f=!0,p=ft(Cb(d)),h;h=yield R(p.next()),o=h.done,!o;f=!0){s=h.value,f=!1;let g=s;for(let m of c.decode(g)){let y=u.decode(m);y&&(yield yield R(y))}}}catch(g){r={error:g}}finally{try{!f&&!o&&(i=p.return)&&(yield R(i.call(p)))}finally{if(r)throw r.error}}for(let g of c.flush()){let m=u.decode(g);m&&(yield yield R(m))}})}function Cb(t){return dt(this,arguments,function*(){var n,o,r,i;let s=new Uint8Array;try{for(var u=!0,c=ft(t),d;d=yield R(c.next()),n=d.done,!n;u=!0){i=d.value,u=!1;let f=i;if(f==null)continue;let p=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?Ud(f):f,h=new Uint8Array(s.length+p.length);h.set(s),h.set(p,s.length),s=h;let g;for(;(g=vb(s))!==-1;)yield yield R(s.slice(0,g)),s=s.slice(g)}}catch(f){o={error:f}}finally{try{!u&&!n&&(r=c.return)&&(yield R(r.call(c)))}finally{if(o)throw o.error}}s.length>0&&(yield yield R(s))})}var wd=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,o,r]=Db(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}};function Db(t,e){let n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function Ib(t,e){let{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:i}=e,s=await(async()=>{var u;if(e.options.stream)return Pe(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Sd.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;let c=n.headers.get("content-type"),d=(u=c?.split(";")[0])===null||u===void 0?void 0:u.trim();return d?.includes("application/json")||d?.endsWith("+json")?await n.json():await n.text()})();return Pe(t).debug(`[${o}] response parsed`,Wn({retryOfRequestLogID:r,url:n.url,status:n.status,body:s,durationMs:Date.now()-i})),s}var Ad=class t extends Promise{constructor(e,n,o=Ib){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new t(this.client,this.responsePromise,async(n,o)=>e(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};var Sy=Symbol("brand.privateNullableHeaders");function*Tb(t){if(!t)return;if(Sy in t){let{values:o,nulls:r}=t;yield*o.entries();for(let i of r)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Bm(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let o of n){let r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");let i=Bm(o[1])?o[1]:[o[1]],s=!1;for(let u of i)u!==void 0&&(e&&!s&&(s=!0,yield[r,null]),yield[r,u])}}var Mr=t=>{let e=new Headers,n=new Set;for(let o of t){let r=new Set;for(let[i,s]of Tb(o)){let u=i.toLowerCase();r.has(u)||(e.delete(i),r.add(u)),s===null?(e.delete(i),n.add(u)):(e.append(i,s),n.delete(u))}}return{[Sy]:!0,values:e,nulls:n}};var Lc=t=>{var e,n,o,r,i,s;if(typeof globalThis.process<"u")return(o=(n=(e=globalThis.process.env)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(s=(i=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||i===void 0?void 0:i.call(r,t))===null||s===void 0?void 0:s.trim()};var wy,Sb=(()=>{class t{constructor(n){var o,r,i,s,u,c,d,{baseURL:f=Lc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:p=(o=Lc("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:h="v1beta"}=n,g=js(n,["baseURL","apiKey","apiVersion"]);let m=Object.assign(Object.assign({apiKey:p,apiVersion:h},g),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(r=m.timeout)!==null&&r!==void 0?r:t.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;let y="warn";this.logLevel=y,this.logLevel=(u=(s=qm(m.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:qm(Lc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:y,this.fetchOptions=m.fetchOptions,this.maxRetries=(c=m.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(d=m.fetch)!==null&&d!==void 0?d:rb(),this.encoder=ab,this._options=m,this.apiKey=p,this.apiVersion=h,this.clientAdapter=m.clientAdapter}withOptions(n){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),n))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:n,nulls:o}){if(!(n.has("authorization")||n.has("x-goog-api-key"))&&!(this.apiKey&&n.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(n){let o=Mr([n.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return Mr([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Mr([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(n){return Object.entries(n).filter(([o,r])=>typeof r<"u").map(([o,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(o)}=`;throw new Oe(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${wo}`}defaultIdempotencyKey(){return`stainless-node-retry-${qM()}`}makeStatusError(n,o,r,i){return Ve.generate(n,o,r,i)}buildURL(n,o,r){let i=!this.baseURLOverridden()&&r||this.baseURL,s=zM(n)?new URL(n):new URL(i+(i.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),u=this.defaultQuery();return YM(u)||(o=Object.assign(Object.assign({},u),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(s.search=this.stringifyQuery(o)),s.toString()}async prepareOptions(n){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!n.path.startsWith(`/${this.apiVersion}/projects/`)){let o=n.path.slice(this.apiVersion.length+1);n.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(n,{url:o,options:r}){}get(n,o){return this.methodRequest("get",n,o)}post(n,o){return this.methodRequest("post",n,o)}patch(n,o){return this.methodRequest("patch",n,o)}put(n,o){return this.methodRequest("put",n,o)}delete(n,o){return this.methodRequest("delete",n,o)}methodRequest(n,o,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:n,path:o},i)))}request(n,o=null){return new Ad(this,this.makeRequest(n,o,void 0))}async makeRequest(n,o,r){var i,s,u;let c=await n,d=(i=c.maxRetries)!==null&&i!==void 0?i:this.maxRetries;o==null&&(o=d),await this.prepareOptions(c);let{req:f,url:p,timeout:h}=await this.buildRequest(c,{retryCount:d-o});await this.prepareRequest(f,{url:p,options:c});let g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,y=Date.now();if(Pe(this).debug(`[${g}] sending request`,Wn({retryOfRequestLogID:r,method:c.method,url:p,options:c,headers:f.headers})),!((s=c.signal)===null||s===void 0)&&s.aborted)throw new Rr;let _=new AbortController,v=await this.fetchWithTimeout(p,f,h,_).catch(Dd),I=Date.now();if(v instanceof globalThis.Error){let A=`retrying, ${o} attempts remaining`;if(!((u=c.signal)===null||u===void 0)&&u.aborted)throw new Rr;let M=Cd(v)||/timed? ?out/i.test(String(v)+("cause"in v?String(v.cause):""));if(o)return Pe(this).info(`[${g}] connection ${M?"timed out":"failed"} - ${A}`),Pe(this).debug(`[${g}] connection ${M?"timed out":"failed"} (${A})`,Wn({retryOfRequestLogID:r,url:p,durationMs:I-y,message:v.message})),this.retryRequest(c,o,r??g);throw Pe(this).info(`[${g}] connection ${M?"timed out":"failed"} - error; no more retries left`),Pe(this).debug(`[${g}] connection ${M?"timed out":"failed"} (error; no more retries left)`,Wn({retryOfRequestLogID:r,url:p,durationMs:I-y,message:v.message})),M?new Ks:new bo({cause:v})}let T=`[${g}${m}] ${f.method} ${p} ${v.ok?"succeeded":"failed"} with status ${v.status} in ${I-y}ms`;if(!v.ok){let A=await this.shouldRetry(v);if(o&&A){let U=`retrying, ${o} attempts remaining`;return await sb(v.body),Pe(this).info(`${T} - ${U}`),Pe(this).debug(`[${g}] response error (${U})`,Wn({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:I-y})),this.retryRequest(c,o,r??g,v.headers)}let M=A?"error; no more retries left":"error; not retryable";Pe(this).info(`${T} - ${M}`);let B=await v.text().catch(U=>Dd(U).message),O=QM(B),re=O?void 0:B;throw Pe(this).debug(`[${g}] response error (${M})`,Wn({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,message:re,durationMs:Date.now()-y})),this.makeStatusError(v.status,O,re,v.headers)}return Pe(this).info(T),Pe(this).debug(`[${g}] response start`,Wn({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:I-y})),{response:v,options:c,controller:_,requestLogID:g,retryOfRequestLogID:r,startTime:y}}async fetchWithTimeout(n,o,r,i){let s=o||{},{signal:u,method:c}=s,d=js(s,["signal","method"]);u&&u.addEventListener("abort",()=>i.abort());let f=setTimeout(()=>i.abort(),r),p=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,h=Object.assign(Object.assign(Object.assign({signal:i.signal},p?{duplex:"half"}:{}),{method:"GET"}),d);c&&(h.method=c.toUpperCase());try{return await this.fetch.call(void 0,n,h)}finally{clearTimeout(f)}}async shouldRetry(n){let o=n.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,o,r,i){var s;let u,c=i?.get("retry-after-ms");if(c){let f=parseFloat(c);Number.isNaN(f)||(u=f)}let d=i?.get("retry-after");if(d&&!u){let f=parseFloat(d);Number.isNaN(f)?u=Date.parse(d)-Date.now():u=f*1e3}if(!(u&&0<=u&&u<60*1e3)){let f=(s=n.maxRetries)!==null&&s!==void 0?s:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(o,f)}return await XM(u),this.makeRequest(n,o-1,r)}calculateDefaultRetryTimeoutMillis(n,o){let s=o-n,u=Math.min(.5*Math.pow(2,s),8),c=1-Math.random()*.25;return u*c*1e3}async buildRequest(n,{retryCount:o=0}={}){var r,i,s;let u=Object.assign({},n),{method:c,path:d,query:f,defaultBaseURL:p}=u,h=this.buildURL(d,f,p);"timeout"in u&&ZM("timeout",u.timeout),u.timeout=(r=u.timeout)!==null&&r!==void 0?r:this.timeout;let{bodyHeaders:g,body:m}=this.buildBody({options:u}),y=await this.buildHeaders({options:n,method:c,bodyHeaders:g,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:y},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=u.fetchOptions)!==null&&s!==void 0?s:{}),url:h,timeout:u.timeout}}async buildHeaders({options:n,method:o,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&o!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=n.idempotencyKey);let u=await this.authHeaders(n),c=Mr([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},n.timeout?{"X-Stainless-Timeout":String(Math.trunc(n.timeout/1e3))}:{}),ob()),this._options.defaultHeaders,r,n.headers,u]);return this.validateHeaders(c),c.values}buildBody({options:{body:n,headers:o}}){if(!n)return{bodyHeaders:void 0,body:void 0};let r=Mr([o]);return ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof DataView||typeof n=="string"&&r.values.has("content-type")||globalThis.Blob&&n instanceof globalThis.Blob||n instanceof FormData||n instanceof URLSearchParams||globalThis.ReadableStream&&n instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:n}:typeof n=="object"&&(Symbol.asyncIterator in n||Symbol.iterator in n&&"next"in n&&typeof n.next=="function")?{bodyHeaders:void 0,body:ib(n)}:this.encoder({body:n,headers:r})}}return t.DEFAULT_TIMEOUT=6e4,t})(),Ee=class extends Sb{constructor(){super(...arguments),this.interactions=new sa(this)}};wy=Ee;Ee.GeminiNextGenAPIClient=wy;Ee.GeminiNextGenAPIClientError=Oe;Ee.APIError=Ve;Ee.APIConnectionError=bo;Ee.APIConnectionTimeoutError=Ks;Ee.APIUserAbortError=Rr;Ee.NotFoundError=ea;Ee.ConflictError=ta;Ee.RateLimitError=oa;Ee.BadRequestError=Zs;Ee.AuthenticationError=Qs;Ee.InternalServerError=ra;Ee.PermissionDeniedError=Xs;Ee.UnprocessableEntityError=na;Ee.toFile=fb;Ee.Interactions=sa;function wb(t,e){let n={},o=a(t,["name"]);return o!=null&&l(n,["_url","name"],o),n}function Ab(t,e){let n={},o=a(t,["name"]);return o!=null&&l(n,["_url","name"],o),n}function Mb(t,e){let n={},o=a(t,["sdkHttpResponse"]);return o!=null&&l(n,["sdkHttpResponse"],o),n}function bb(t,e){let n={},o=a(t,["sdkHttpResponse"]);return o!=null&&l(n,["sdkHttpResponse"],o),n}function Nb(t,e,n){let o={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");let r=a(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&l(e,["displayName"],r),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");let i=a(t,["epochCount"]);e!==void 0&&i!=null&&l(e,["tuningTask","hyperparameters","epochCount"],i);let s=a(t,["learningRateMultiplier"]);if(s!=null&&l(o,["tuningTask","hyperparameters","learningRateMultiplier"],s),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");let u=a(t,["batchSize"]);e!==void 0&&u!=null&&l(e,["tuningTask","hyperparameters","batchSize"],u);let c=a(t,["learningRate"]);if(e!==void 0&&c!=null&&l(e,["tuningTask","hyperparameters","learningRate"],c),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(a(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function xb(t,e,n){let o={},r=a(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){let g=a(t,["validationDataset"]);e!==void 0&&g!=null&&l(e,["supervisedTuningSpec"],zm(g))}else if(r==="PREFERENCE_TUNING"){let g=a(t,["validationDataset"]);e!==void 0&&g!=null&&l(e,["preferenceOptimizationSpec"],zm(g))}let i=a(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&l(e,["tunedModelDisplayName"],i);let s=a(t,["description"]);e!==void 0&&s!=null&&l(e,["description"],s);let u=a(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){let g=a(t,["epochCount"]);e!==void 0&&g!=null&&l(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(u==="PREFERENCE_TUNING"){let g=a(t,["epochCount"]);e!==void 0&&g!=null&&l(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let c=a(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){let g=a(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&l(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(c==="PREFERENCE_TUNING"){let g=a(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&l(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let d=a(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){let g=a(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&l(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(d==="PREFERENCE_TUNING"){let g=a(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&l(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let f=a(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){let g=a(t,["adapterSize"]);e!==void 0&&g!=null&&l(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(f==="PREFERENCE_TUNING"){let g=a(t,["adapterSize"]);e!==void 0&&g!=null&&l(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(a(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");let p=a(t,["labels"]);e!==void 0&&p!=null&&l(e,["labels"],p);let h=a(t,["beta"]);return e!==void 0&&h!=null&&l(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),o}function Rb(t,e){let n={},o=a(t,["baseModel"]);o!=null&&l(n,["baseModel"],o);let r=a(t,["preTunedModel"]);r!=null&&l(n,["preTunedModel"],r);let i=a(t,["trainingDataset"]);i!=null&&$b(i);let s=a(t,["config"]);return s!=null&&Nb(s,n),n}function Pb(t,e){let n={},o=a(t,["baseModel"]);o!=null&&l(n,["baseModel"],o);let r=a(t,["preTunedModel"]);r!=null&&l(n,["preTunedModel"],r);let i=a(t,["trainingDataset"]);i!=null&&qb(i,n,e);let s=a(t,["config"]);return s!=null&&xb(s,n,e),n}function Fb(t,e){let n={},o=a(t,["name"]);return o!=null&&l(n,["_url","name"],o),n}function kb(t,e){let n={},o=a(t,["name"]);return o!=null&&l(n,["_url","name"],o),n}function Lb(t,e,n){let o={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&l(e,["_query","pageSize"],r);let i=a(t,["pageToken"]);e!==void 0&&i!=null&&l(e,["_query","pageToken"],i);let s=a(t,["filter"]);return e!==void 0&&s!=null&&l(e,["_query","filter"],s),o}function Ob(t,e,n){let o={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&l(e,["_query","pageSize"],r);let i=a(t,["pageToken"]);e!==void 0&&i!=null&&l(e,["_query","pageToken"],i);let s=a(t,["filter"]);return e!==void 0&&s!=null&&l(e,["_query","filter"],s),o}function Vb(t,e){let n={},o=a(t,["config"]);return o!=null&&Lb(o,n),n}function Bb(t,e){let n={},o=a(t,["config"]);return o!=null&&Ob(o,n),n}function Ub(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);let r=a(t,["nextPageToken"]);r!=null&&l(n,["nextPageToken"],r);let i=a(t,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Ay(u))),l(n,["tuningJobs"],s)}return n}function Hb(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);let r=a(t,["nextPageToken"]);r!=null&&l(n,["nextPageToken"],r);let i=a(t,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Md(u))),l(n,["tuningJobs"],s)}return n}function Gb(t,e){let n={},o=a(t,["name"]);o!=null&&l(n,["model"],o);let r=a(t,["name"]);return r!=null&&l(n,["endpoint"],r),n}function $b(t,e){let n={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");let o=a(t,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),l(n,["examples","examples"],r)}return n}function qb(t,e,n){let o={},r=a(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){let s=a(t,["gcsUri"]);e!==void 0&&s!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(r==="PREFERENCE_TUNING"){let s=a(t,["gcsUri"]);e!==void 0&&s!=null&&l(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let i=a(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){let s=a(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){let s=a(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&l(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Ay(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);let r=a(t,["name"]);r!=null&&l(n,["name"],r);let i=a(t,["state"]);i!=null&&l(n,["state"],ty(i));let s=a(t,["createTime"]);s!=null&&l(n,["createTime"],s);let u=a(t,["tuningTask","startTime"]);u!=null&&l(n,["startTime"],u);let c=a(t,["tuningTask","completeTime"]);c!=null&&l(n,["endTime"],c);let d=a(t,["updateTime"]);d!=null&&l(n,["updateTime"],d);let f=a(t,["description"]);f!=null&&l(n,["description"],f);let p=a(t,["baseModel"]);p!=null&&l(n,["baseModel"],p);let h=a(t,["_self"]);return h!=null&&l(n,["tunedModel"],Gb(h)),n}function Md(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);let r=a(t,["name"]);r!=null&&l(n,["name"],r);let i=a(t,["state"]);i!=null&&l(n,["state"],ty(i));let s=a(t,["createTime"]);s!=null&&l(n,["createTime"],s);let u=a(t,["startTime"]);u!=null&&l(n,["startTime"],u);let c=a(t,["endTime"]);c!=null&&l(n,["endTime"],c);let d=a(t,["updateTime"]);d!=null&&l(n,["updateTime"],d);let f=a(t,["error"]);f!=null&&l(n,["error"],f);let p=a(t,["description"]);p!=null&&l(n,["description"],p);let h=a(t,["baseModel"]);h!=null&&l(n,["baseModel"],h);let g=a(t,["tunedModel"]);g!=null&&l(n,["tunedModel"],g);let m=a(t,["preTunedModel"]);m!=null&&l(n,["preTunedModel"],m);let y=a(t,["supervisedTuningSpec"]);y!=null&&l(n,["supervisedTuningSpec"],y);let _=a(t,["preferenceOptimizationSpec"]);_!=null&&l(n,["preferenceOptimizationSpec"],_);let v=a(t,["tuningDataStats"]);v!=null&&l(n,["tuningDataStats"],v);let I=a(t,["encryptionSpec"]);I!=null&&l(n,["encryptionSpec"],I);let T=a(t,["partnerModelTuningSpec"]);T!=null&&l(n,["partnerModelTuningSpec"],T);let A=a(t,["customBaseModel"]);A!=null&&l(n,["customBaseModel"],A);let M=a(t,["experiment"]);M!=null&&l(n,["experiment"],M);let B=a(t,["labels"]);B!=null&&l(n,["labels"],B);let O=a(t,["outputUri"]);O!=null&&l(n,["outputUri"],O);let re=a(t,["pipelineJob"]);re!=null&&l(n,["pipelineJob"],re);let P=a(t,["serviceAccount"]);P!=null&&l(n,["serviceAccount"],P);let U=a(t,["tunedModelDisplayName"]);U!=null&&l(n,["tunedModelDisplayName"],U);let Ce=a(t,["veoTuningSpec"]);return Ce!=null&&l(n,["veoTuningSpec"],Ce),n}function Wb(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);let r=a(t,["name"]);r!=null&&l(n,["name"],r);let i=a(t,["metadata"]);i!=null&&l(n,["metadata"],i);let s=a(t,["done"]);s!=null&&l(n,["done"],s);let u=a(t,["error"]);return u!=null&&l(n,["error"],u),n}function zm(t,e){let n={},o=a(t,["gcsUri"]);o!=null&&l(n,["validationDatasetUri"],o);let r=a(t,["vertexDatasetResource"]);return r!=null&&l(n,["validationDatasetUri"],r),n}var bd=class extends pt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new zt(pn.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){let r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);let i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{let r=Object.assign({},n);return await this.tuneInternal(r)}else{let r=Object.assign({},n),i=await this.tuneMldevInternal(r),s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:Ym.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){let d=kb(e);return u=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>Md(f))}else{let d=Fb(e);return u=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>Ay(f))}}async listInternal(e){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){let d=Bb(e);return u=S("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Hb(f),h=new Gs;return Object.assign(h,p),h})}else{let d=Vb(e);return u=S("tunedModels",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Ub(f),h=new Gs;return Object.assign(h,p),h})}}async cancel(e){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){let d=Ab(e);return u=S("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=bb(f),h=new $s;return Object.assign(h,p),h})}else{let d=wb(e);return u=S("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Mb(f),h=new $s;return Object.assign(h,p),h})}}async tuneInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let u=Pb(e,e);return i=S("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>Md(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=Rb(e);return i=S("tunedModels",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>Wb(c))}}};var Nd=class{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}},zb=1024*1024*8,Jb=3,jb=1e3,Yb=2,ua="x-goog-upload-status";async function Kb(t,e,n){var o;let r=await My(t,e,n),i=await r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[ua])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function Zb(t,e,n){var o;let r=await My(t,e,n),i=await r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[ua])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");let s=jm(i),u=new Xc;return Object.assign(u,s),u}async function My(t,e,n){var o,r;let i=0,s=0,u=new xr(new Response),c="upload";for(i=t.size;s<i;){let d=Math.min(zb,i-s),f=t.slice(s,s+d);s+d>=i&&(c+=", finalize");let p=0,h=jb;for(;p<Jb&&(u=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((o=u?.headers)===null||o===void 0)&&o[ua]));)p++,await Xb(h),h=h*Yb;if(s+=d,((r=u?.headers)===null||r===void 0?void 0:r[ua])!=="active")break;if(i<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function Qb(t){return{size:t.size,type:t.type}}function Xb(t){return new Promise(e=>setTimeout(e,t))}var xd=class{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Kb(e,n,o)}async uploadToFileSearchStore(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Zb(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Qb(e)}};var Rd=class{create(e,n,o){return new Pd(e,n,o)}},Pd=class{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}};var Jm="x-goog-api-key",Fd=class{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Jm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Jm,this.apiKey)}}};var eN="gl-node/",la=class{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");let e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");let n=new Ee({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;let o=AI(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;let r=new Fd(this.apiKey);this.apiClient=new cd({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:eN+"web",uploader:new xd,downloader:new Nd}),this.models=new md(this.apiClient),this.live=new hd(this.apiClient,r,new Rd),this.batches=new nd(this.apiClient),this.chats=new rd(this.models,this.apiClient),this.caches=new od(this.apiClient),this.files=new sd(this.apiClient),this.operations=new yd(this.apiClient),this.authTokens=new vd(this.apiClient),this.tunings=new bd(this.apiClient),this.fileSearchStores=new _d(this.apiClient)}};var pa=class t{constructor(){this.ai=new la({apiKey:process.env.API_KEY})}async calculateDynamicPrice(e,n){let o=`
      \u0422\u044B \u2014 \u043A\u043E\u043C\u043C\u0435\u0440\u0447\u0435\u0441\u043A\u0438\u0439 \u0434\u0438\u0440\u0435\u043A\u0442\u043E\u0440 \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u043D\u043E\u0439 \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u0438.
      \u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0439 \u0438\u0442\u043E\u0433\u043E\u0432\u0443\u044E \u0441\u0442\u043E\u0438\u043C\u043E\u0441\u0442\u044C \u0444\u0440\u0430\u0445\u0442\u0430 \u0430\u0432\u0442\u043E\u0431\u0443\u0441\u0430 \u0434\u043B\u044F \u043A\u043B\u0438\u0435\u043D\u0442\u0430.
      
      \u0412\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435:
      - \u0411\u0430\u0437\u043E\u0432\u044B\u0439 \u0442\u0430\u0440\u0438\u0444: ${e} RUB
      - \u041F\u043E\u0433\u043E\u0434\u0430: ${n.weather}
      - \u041F\u0440\u043E\u0431\u043A\u0438 (1-10): ${n.traffic}
      - \u0412\u0440\u0435\u043C\u044F \u043F\u043E\u0434\u0430\u0447\u0438: ${n.time}

      \u041B\u043E\u0433\u0438\u043A\u0430 \u043D\u0430\u0446\u0435\u043D\u043E\u043A:
      1. \u041F\u0440\u043E\u0431\u043A\u0438 > 7 \u0431\u0430\u043B\u043B\u043E\u0432: +20-30% (\u0430\u043C\u043E\u0440\u0442\u0438\u0437\u0430\u0446\u0438\u044F, \u0432\u0440\u0435\u043C\u044F).
      2. \u0421\u043B\u043E\u0436\u043D\u044B\u0435 \u043C\u0435\u0442\u0435\u043E\u0443\u0441\u043B\u043E\u0432\u0438\u044F (\u0421\u043D\u0435\u0433/\u0428\u0442\u043E\u0440\u043C): +15% (\u0440\u0438\u0441\u043A).
      3. \u041D\u043E\u0447\u043D\u0430\u044F \u043F\u043E\u0434\u0430\u0447\u0430 (22:00-06:00): +40% (\u0442\u0430\u0440\u0438\u0444 \u0432\u043E\u0434\u0438\u0442\u0435\u043B\u044F).
      
      \u0412\u0435\u0440\u043D\u0438 \u0422\u041E\u041B\u042C\u041A\u041E JSON:
      {
        "finalPrice": number (\u043E\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u043D\u043E\u0435 \u0434\u043E \u0441\u043E\u0442\u0435\u043D),
        "surgeMultiplier": number (\u043D\u0430\u043F\u0440\u0438\u043C\u0435\u0440 1.2),
        "reasoning": "\u0414\u0435\u043B\u043E\u0432\u043E\u0435 \u043E\u0431\u043E\u0441\u043D\u043E\u0432\u0430\u043D\u0438\u0435 \u0446\u0435\u043D\u044B \u0434\u043B\u044F \u043A\u043B\u0438\u0435\u043D\u0442\u0430 \u043D\u0430 \u0440\u0443\u0441\u0441\u043A\u043E\u043C \u044F\u0437\u044B\u043A\u0435 (\u043C\u0430\u043A\u0441 1 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u0435)."
      }
    `;try{return(await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:o})).text.trim().replace(/```json/g,"").replace(/```/g,"")}catch(r){return console.error(r),'{"error": "\u041E\u0448\u0438\u0431\u043A\u0430 \u0432\u044B\u0447\u0438\u0441\u043B\u0435\u043D\u0438\u044F AI"}'}}async parseDriverVoiceNote(e){let n=`
      \u0422\u044B \u2014 AI-\u0434\u0438\u0441\u043F\u0435\u0442\u0447\u0435\u0440 \u0430\u0432\u0442\u043E\u043F\u0430\u0440\u043A\u0430. \u0422\u0432\u043E\u044F \u0437\u0430\u0434\u0430\u0447\u0430 \u2014 \u0438\u0437\u0432\u043B\u0435\u0447\u044C \u0444\u0430\u043A\u0442\u044B \u0438\u0437 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F \u0432\u043E\u0434\u0438\u0442\u0435\u043B\u044F \u0434\u043B\u044F ERP-\u0441\u0438\u0441\u0442\u0435\u043C\u044B.
      
      \u0422\u0435\u043A\u0441\u0442 \u0432\u043E\u0434\u0438\u0442\u0435\u043B\u044F: "${e}"

      \u0412\u0435\u0440\u043D\u0438 JSON (\u0441\u0442\u0440\u043E\u0433\u043E \u044D\u0442\u0443 \u0441\u0442\u0440\u0443\u043A\u0442\u0443\u0440\u0443):
      {
        "status": "COMPLETED" (\u0435\u0441\u043B\u0438 \u0440\u0435\u0439\u0441 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D) \u0438\u043B\u0438 "DELAYED" \u0438\u043B\u0438 "ISSUE",
        "fuelSpent": number (\u0442\u043E\u043B\u044C\u043A\u043E \u0447\u0438\u0441\u043B\u043E, \u0435\u0441\u043B\u0438 \u0435\u0441\u0442\u044C, \u0438\u043D\u0430\u0447\u0435 null),
        "incidents": string (\u043A\u0440\u0430\u0442\u043A\u043E\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u043F\u043E\u043B\u043E\u043C\u043A\u0438 \u0438\u043B\u0438 \u043F\u0440\u043E\u0431\u043B\u0435\u043C\u044B, \u0438\u043D\u0430\u0447\u0435 null),
        "driverMood": "\u0421\u043F\u043E\u043A\u043E\u0435\u043D" | "\u0423\u0441\u0442\u0430\u043B" | "\u0420\u0430\u0437\u0434\u0440\u0430\u0436\u0435\u043D",
        "nextAction": "\u0412 \u043F\u0430\u0440\u043A" | "\u041D\u0430 \u0421\u0422\u041E" | "\u041A \u043C\u0435\u043D\u0435\u0434\u0436\u0435\u0440\u0443"
      }
    `;try{return(await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:n})).text.trim().replace(/```json/g,"").replace(/```/g,"")}catch(o){return console.error(o),'{"error": "\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0430\u0440\u0441\u0438\u043D\u0433\u0430"}'}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}};function tN(t,e){t&1&&(de(),C(0,"svg",39),fe(1,"circle",40)(2,"path",41),E(),D(3," \u0410\u043D\u0430\u043B\u0438\u0437 \u043C\u0430\u0440\u0436\u0438\u043D\u0430\u043B\u044C\u043D\u043E\u0441\u0442\u0438... "))}function nN(t,e){t&1&&D(0," \u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044C \u0438\u0442\u043E\u0433\u043E\u0432\u0443\u044E \u0441\u0442\u043E\u0438\u043C\u043E\u0441\u0442\u044C ")}function oN(t,e){if(t&1&&(C(0,"div",24)(1,"p",42),D(2,"\u0420\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u043E\u0432\u0430\u043D\u043D\u0430\u044F \u0446\u0435\u043D\u0430 \u0434\u043B\u044F \u043A\u043B\u0438\u0435\u043D\u0442\u0430"),E(),C(3,"div",43),D(4),ln(5,"number"),E(),C(6,"div",44),D(7),E(),C(8,"div",45)(9,"p",46),D(10,"\u041E\u0431\u043E\u0441\u043D\u043E\u0432\u0430\u043D\u0438\u0435 AI:"),E(),C(11,"p",47),D(12),E()()()),t&2){let n=Q();w(4),pe("\u20BD",Gn(5,3,n.pricingResult().finalPrice)),w(3),pe(" \u041A\u043E\u044D\u0444\u0444\u0438\u0446\u0438\u0435\u043D\u0442 \u0441\u043F\u0440\u043E\u0441\u0430: ",n.pricingResult().surgeMultiplier,"x "),w(5),pe('"',n.pricingResult().reasoning,'"')}}function rN(t,e){t&1&&(C(0,"div",25),de(),C(1,"svg",48),fe(2,"path",5),E(),_e(),C(3,"p"),D(4,"\u0417\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B \u0441\u043B\u0435\u0432\u0430 \u0434\u043B\u044F \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043E\u043F\u0442\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0439 \u0441\u0442\u043E\u0438\u043C\u043E\u0441\u0442\u0438."),E()())}function iN(t,e){t&1&&D(0," \u041E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0430 \u0434\u0430\u043D\u043D\u044B\u0445 (NLP)... ")}function sN(t,e){t&1&&D(0," \u0418\u0437\u0432\u043B\u0435\u0447\u044C \u0434\u0430\u043D\u043D\u044B\u0435 \u0438 \u043E\u0431\u043D\u043E\u0432\u0438\u0442\u044C \u0441\u0442\u0430\u0442\u0443\u0441 ")}function aN(t,e){t&1&&(C(0,"span",37),D(1,"\u0414\u0410\u041D\u041D\u042B\u0415 \u041F\u041E\u041B\u0423\u0427\u0415\u041D\u042B"),E())}function uN(t,e){if(t&1){let n=$t();C(0,"div",49)(1,"div")(2,"span",50),D(3,"STATUS:"),E(),D(4),E(),C(5,"div")(6,"span",50),D(7,"FUEL_SPENT:"),E(),D(8),E(),C(9,"div")(10,"span",50),D(11,"DRIVER_MOOD:"),E(),D(12),E(),C(13,"div")(14,"span",50),D(15,"INCIDENTS:"),E(),D(16),E(),C(17,"div")(18,"span",50),D(19,"ACTION:"),E(),D(20),E()(),C(21,"div",51)(22,"button",52),K("click",function(){Ie(n);let r=Q();return Te(r.updateOrderFromVoice())}),D(23," \u041F\u0440\u0438\u043C\u0435\u043D\u0438\u0442\u044C \u043A \u0430\u043A\u0442\u0438\u0432\u043D\u043E\u043C\u0443 \u0437\u0430\u043A\u0430\u0437\u0443 "),E()()}if(t&2){let n=Q();w(4),pe(" ",n.voiceResult().status),w(4),pe(" ",n.voiceResult().fuelSpent," L"),w(4),pe(" ",n.voiceResult().driverMood),w(4),pe(" ",n.voiceResult().incidents||"None"),w(4),pe(" ",n.voiceResult().nextAction)}}function lN(t,e){t&1&&(C(0,"div",38)(1,"span"),D(2,"\u041E\u0436\u0438\u0434\u0430\u043D\u0438\u0435 \u043F\u0430\u043A\u0435\u0442\u0430 \u0434\u0430\u043D\u043D\u044B\u0445..."),E()())}var ha=class t{constructor(){this.gemini=F(pa);this.store=F(dn);this.pricingInput={base:15e3,traffic:5,weather:"\u042F\u0441\u043D\u043E",time:"10:00",urgency:"\u041D\u043E\u0440\u043C\u0430\u043B\u044C\u043D\u043E"};this.pricingResult=ae(null);this.pricingLoading=ae(!1);this.voiceInput="";this.voiceResult=ae(null);this.voiceLoading=ae(!1)}async calculatePrice(){this.pricingLoading.set(!0);let e=await this.gemini.calculateDynamicPrice(this.pricingInput.base,this.pricingInput);try{this.pricingResult.set(JSON.parse(e))}catch(n){console.error("Failed to parse JSON",n)}finally{this.pricingLoading.set(!1)}}fillDemoVoice(e){e==="standard"?this.voiceInput="\u0414\u0438\u0441\u043F\u0435\u0442\u0447\u0435\u0440, \u0437\u0430\u044F\u0432\u043A\u0443 \u0437\u0430\u043A\u0440\u044B\u043B. \u041F\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044B \u0434\u043E\u0432\u043E\u043B\u044C\u043D\u044B, \u0432\u044B\u0441\u0430\u0434\u0438\u043B \u0443 \u043E\u0442\u0435\u043B\u044F. \u0417\u0430\u043F\u0440\u0430\u0432\u0438\u043B\u0441\u044F \u043D\u0430 40 \u043B\u0438\u0442\u0440\u043E\u0432 \u043F\u043E \u043A\u0430\u0440\u0442\u0435. \u041C\u0430\u0448\u0438\u043D\u0430 \u0432 \u043F\u043E\u0440\u044F\u0434\u043A\u0435.":this.voiceInput="\u042D\u0442\u043E \u0410\u043B\u0435\u043A\u0441\u0435\u0439. \u0420\u0435\u0439\u0441 \u0437\u0430\u043A\u043E\u043D\u0447\u0438\u043B, \u043D\u043E \u0435\u0441\u0442\u044C \u043F\u0440\u043E\u0431\u043B\u0435\u043C\u0430. \u041F\u0440\u0430\u0432\u043E\u0435 \u043A\u043E\u043B\u0435\u0441\u043E \u0441\u043F\u0443\u0441\u043A\u0430\u0435\u0442, \u043D\u0443\u0436\u0435\u043D \u0448\u0438\u043D\u043E\u043C\u043E\u043D\u0442\u0430\u0436. \u041F\u043E\u0442\u0440\u0430\u0442\u0438\u043B 55 \u043B\u0438\u0442\u0440\u043E\u0432 \u0438\u0437-\u0437\u0430 \u043F\u0440\u043E\u0431\u043E\u043A."}async processVoice(){this.voiceLoading.set(!0);let e=await this.gemini.parseDriverVoiceNote(this.voiceInput);try{this.voiceResult.set(JSON.parse(e))}catch(n){console.error("Failed to parse JSON",n)}finally{this.voiceLoading.set(!1)}}updateOrderFromVoice(){let e=this.voiceResult(),n=this.store.orders().find(o=>o.status==="Assigned");if(n&&e){let o=`\u0421\u0442\u0430\u0442\u0443\u0441: ${e.status}, \u0418\u043D\u0446\u0438\u0434\u0435\u043D\u0442\u044B: ${e.incidents||"\u041D\u0435\u0442"}, \u0422\u043E\u043F\u043B\u0438\u0432\u043E: ${e.fuelSpent}\u043B`;this.store.updateOrderNotes(n.id,o),e.status==="COMPLETED"&&this.store.updateOrderStatus(n.id,"Completed"),alert(`\u0421\u0438\u0441\u0442\u0435\u043C\u0430: \u0414\u0430\u043D\u043D\u044B\u0435 \u043F\u043E \u0440\u0435\u0439\u0441\u0443 ${n.id} \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u044B.`),this.voiceResult.set(null),this.voiceInput=""}else alert('\u041E\u0448\u0438\u0431\u043A\u0430: \u0412 \u0441\u0438\u0441\u0442\u0435\u043C\u0435 \u043D\u0435\u0442 \u0430\u043A\u0442\u0438\u0432\u043D\u044B\u0445 \u0440\u0435\u0439\u0441\u043E\u0432 \u0441\u043E \u0441\u0442\u0430\u0442\u0443\u0441\u043E\u043C "\u041D\u0430 \u043B\u0438\u043D\u0438\u0438".')}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=Gt({type:t,selectors:[["app-ai-lab"]],decls:80,vars:12,consts:[[1,"space-y-8"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","p-6"],[1,"flex","items-center","gap-3","mb-4"],[1,"p-2","bg-blue-100","rounded-lg","text-blue-600"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"],[1,"text-lg","font-bold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"space-y-4"],[1,"block","text-sm","font-medium","text-gray-700"],["type","number",1,"mt-1","block","w-full","rounded-md","border-gray-300","border","p-2","shadow-sm","focus:border-blue-500","focus:ring-blue-500","bg-gray-50",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-2","gap-4"],["type","number","min","1","max","10",1,"mt-1","block","w-full","rounded-md","border-gray-300","border","p-2","bg-gray-50",3,"ngModelChange","ngModel"],[1,"mt-1","block","w-full","rounded-md","border-gray-300","border","p-2","bg-gray-50",3,"ngModelChange","ngModel"],["value","\u042F\u0441\u043D\u043E"],["value","\u0414\u043E\u0436\u0434\u044C"],["value","\u0421\u043D\u0435\u0433"],["value","\u0428\u0442\u043E\u0440\u043C"],["value","10:00"],["value","08:00"],["value","02:00"],[1,"w-full","bg-blue-600","text-white","py-2","px-4","rounded-md","shadow","hover:bg-blue-700","transition-colors","flex","justify-center","items-center","font-medium",3,"click","disabled"],[1,"bg-slate-50","rounded-lg","p-6","flex","flex-col","justify-center","border","border-slate-200"],[1,"text-center"],[1,"text-center","text-gray-400"],[1,"p-2","bg-purple-100","rounded-lg","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["rows","5","placeholder","\u0412\u043E\u0434\u0438\u0442\u0435\u043B\u044C \u043C\u043E\u0436\u0435\u0442 \u0441\u043A\u0430\u0437\u0430\u0442\u044C: '\u0417\u0430\u043A\u0440\u044B\u043B \u0437\u0430\u044F\u0432\u043A\u0443 45. \u041A\u043B\u0438\u0435\u043D\u0442 \u0440\u0430\u0441\u043F\u043B\u0430\u0442\u0438\u043B\u0441\u044F. \u0422\u043E\u043F\u043B\u0438\u0432\u0430 40 \u043B\u0438\u0442\u0440\u043E\u0432. \u0417\u0430\u0441\u0442\u0443\u0447\u0430\u043B\u0430 \u043F\u0440\u0430\u0432\u0430\u044F \u0441\u0442\u043E\u0439\u043A\u0430.'",1,"block","w-full","rounded-md","border-gray-300","border","p-3","text-sm","focus:border-purple-500","focus:ring-purple-500","shadow-sm",3,"ngModelChange","ngModel"],[1,"flex","gap-2","mt-3"],[1,"text-xs","bg-gray-100","hover:bg-gray-200","px-3","py-1","rounded-full","text-gray-600","border","border-gray-200",3,"click"],[1,"text-xs","bg-red-50","hover:bg-red-100","px-3","py-1","rounded-full","text-red-600","border","border-red-100",3,"click"],[1,"mt-4","w-full","bg-purple-600","text-white","py-2","px-4","rounded-md","shadow","hover:bg-purple-700","transition-colors","flex","justify-center","items-center","font-medium",3,"click","disabled"],[1,"bg-gray-900","rounded-lg","p-6","font-mono","text-sm","text-green-400","overflow-auto","border","border-gray-800","relative"],[1,"flex","justify-between","items-start","mb-2","border-b","border-gray-700","pb-2"],[1,"text-gray-400","font-bold"],[1,"text-green-500","text-xs","font-bold","bg-green-900","bg-opacity-30","px-2","py-0.5","rounded"],[1,"flex","flex-col","items-center","justify-center","h-32","text-gray-600"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-sm","text-gray-500","mb-1"],[1,"text-4xl","font-extrabold","text-slate-900","mb-2"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-bold","bg-blue-100","text-blue-800","border","border-blue-200"],[1,"mt-6","text-left","bg-white","p-4","rounded","border","border-gray-200","shadow-sm"],[1,"text-xs","font-bold","text-gray-400","uppercase","mb-1"],[1,"text-sm","text-gray-700"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-12","w-12","mx-auto","mb-2","opacity-20"],[1,"space-y-1"],[1,"text-purple-400"],[1,"mt-6","pt-4","border-t","border-gray-700"],[1,"w-full","bg-green-700","hover:bg-green-600","text-white","py-2","px-3","rounded","text-xs","font-bold","uppercase","tracking-wide","transition-colors",3,"click"]],template:function(n,o){n&1&&(C(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),de(),C(4,"svg",4),fe(5,"path",5),E()(),_e(),C(6,"div")(7,"h2",6),D(8,"\u041A\u0430\u043B\u044C\u043A\u0443\u043B\u044F\u0442\u043E\u0440 \u0440\u0435\u043D\u0442\u0430\u0431\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u0438 \u0440\u0435\u0439\u0441\u0430"),E(),C(9,"p",7),D(10,"\u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0440\u0430\u0441\u0447\u0435\u0442 \u043D\u0430\u0446\u0435\u043D\u043E\u043A (\u041A\u043E\u044D\u0444\u0444\u0438\u0446\u0438\u0435\u043D\u0442\u044B: \u041F\u043E\u0433\u043E\u0434\u0430, \u041F\u0440\u043E\u0431\u043A\u0438, \u0421\u0440\u043E\u0447\u043D\u043E\u0441\u0442\u044C)"),E()()(),C(11,"div",8)(12,"div",9)(13,"div")(14,"label",10),D(15,"\u0411\u0430\u0437\u043E\u0432\u044B\u0439 \u0442\u0430\u0440\u0438\u0444 (RUB)"),E(),C(16,"input",11),Je("ngModelChange",function(i){return Qe(o.pricingInput.base,i)||(o.pricingInput.base=i),i}),E()(),C(17,"div",12)(18,"div")(19,"label",10),D(20,"\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u043D\u043E\u0441\u0442\u044C \u0434\u043E\u0440\u043E\u0433 (1-10)"),E(),C(21,"input",13),Je("ngModelChange",function(i){return Qe(o.pricingInput.traffic,i)||(o.pricingInput.traffic=i),i}),E()(),C(22,"div")(23,"label",10),D(24,"\u041C\u0435\u0442\u0435\u043E\u0443\u0441\u043B\u043E\u0432\u0438\u044F"),E(),C(25,"select",14),Je("ngModelChange",function(i){return Qe(o.pricingInput.weather,i)||(o.pricingInput.weather=i),i}),C(26,"option",15),D(27,"\u041D\u043E\u0440\u043C\u0430 (\u042F\u0441\u043D\u043E)"),E(),C(28,"option",16),D(29,"\u0414\u043E\u0436\u0434\u044C (+ \u041A\u043E\u044D\u0444\u0444.)"),E(),C(30,"option",17),D(31,"\u0421\u043D\u0435\u0433\u043E\u043F\u0430\u0434 (+ \u041A\u043E\u044D\u0444\u0444.)"),E(),C(32,"option",18),D(33,"\u0428\u0442\u043E\u0440\u043C (\u041E\u043F\u0430\u0441\u043D\u043E)"),E()()()(),C(34,"div")(35,"label",10),D(36,"\u0412\u0440\u0435\u043C\u044F \u043F\u043E\u0434\u0430\u0447\u0438"),E(),C(37,"select",14),Je("ngModelChange",function(i){return Qe(o.pricingInput.time,i)||(o.pricingInput.time=i),i}),C(38,"option",19),D(39,"\u0421\u0442\u0430\u043D\u0434\u0430\u0440\u0442 (\u0414\u0435\u043D\u044C)"),E(),C(40,"option",20),D(41,"\u0427\u0430\u0441 \u043F\u0438\u043A (\u0423\u0442\u0440\u043E/\u0412\u0435\u0447\u0435\u0440)"),E(),C(42,"option",21),D(43,"\u041D\u043E\u0447\u043D\u043E\u0439 \u0442\u0430\u0440\u0438\u0444"),E()()(),C(44,"button",22),K("click",function(){return o.calculatePrice()}),me(45,tN,4,0)(46,nN,1,0),E()(),C(47,"div",23),me(48,oN,13,5,"div",24)(49,rN,5,0,"div",25),E()()(),C(50,"div",1)(51,"div",2)(52,"div",26),de(),C(53,"svg",4),fe(54,"path",27),E()(),_e(),C(55,"div")(56,"h2",6),D(57,"\u041C\u043E\u0434\u0443\u043B\u044C \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0438 \u0433\u043E\u043B\u043E\u0441\u043E\u0432\u044B\u0445 \u043E\u0442\u0447\u0435\u0442\u043E\u0432"),E(),C(58,"p",7),D(59,"\u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u0435 \u043F\u0443\u0442\u0435\u0432\u044B\u0445 \u043B\u0438\u0441\u0442\u043E\u0432 \u0438\u0437 \u0430\u0443\u0434\u0438\u043E\u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u0432\u043E\u0434\u0438\u0442\u0435\u043B\u044F."),E()()(),C(60,"div",8)(61,"div")(62,"label",28),D(63,"\u0412\u0445\u043E\u0434\u044F\u0449\u0435\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435 (\u0422\u0440\u0430\u043D\u0441\u043A\u0440\u0438\u043F\u0446\u0438\u044F)"),E(),C(64,"textarea",29),Je("ngModelChange",function(i){return Qe(o.voiceInput,i)||(o.voiceInput=i),i}),E(),C(65,"div",30)(66,"button",31),K("click",function(){return o.fillDemoVoice("standard")}),D(67,"\u0428\u0430\u0431\u043B\u043E\u043D: \u0423\u0441\u043F\u0435\u0448\u043D\u044B\u0439 \u0440\u0435\u0439\u0441"),E(),C(68,"button",32),K("click",function(){return o.fillDemoVoice("issue")}),D(69,"\u0428\u0430\u0431\u043B\u043E\u043D: \u0418\u043D\u0446\u0438\u0434\u0435\u043D\u0442/\u0420\u0435\u043C\u043E\u043D\u0442"),E()(),C(70,"button",33),K("click",function(){return o.processVoice()}),me(71,iN,1,0)(72,sN,1,0),E()(),C(73,"div",34)(74,"div",35)(75,"span",36),D(76,"\u0421\u0418\u0421\u0422\u0415\u041C\u041D\u042B\u0419 \u0416\u0423\u0420\u041D\u0410\u041B"),E(),me(77,aN,2,0,"span",37),E(),me(78,uN,24,5)(79,lN,3,0,"div",38),E()()()()),n&2&&(w(16),ze("ngModel",o.pricingInput.base),w(5),ze("ngModel",o.pricingInput.traffic),w(4),ze("ngModel",o.pricingInput.weather),w(12),ze("ngModel",o.pricingInput.time),w(7),lt("disabled",o.pricingLoading()),w(),ye(o.pricingLoading()?45:46),w(3),ye(o.pricingResult()?48:49),w(16),ze("ngModel",o.voiceInput),w(6),lt("disabled",o.voiceLoading()),w(),ye(o.voiceLoading()?71:72),w(6),ye(o.voiceResult()?77:-1),w(),ye(o.voiceResult()?78:79))},dependencies:[Ft,As,Ss,ws,To,Ar,So,Is,Fc,Pc,wr,$n],encapsulation:2})}};function cN(t,e){t&1&&D(0," \u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0435\u043B\u0438 \u044D\u0444\u0444\u0435\u043A\u0442\u0438\u0432\u043D\u043E\u0441\u0442\u0438 ")}function dN(t,e){t&1&&D(0," \u0414\u0438\u0441\u043F\u0435\u0442\u0447\u0435\u0440\u0441\u043A\u0438\u0439 \u043F\u0443\u043B\u044C\u0442 ")}function fN(t,e){t&1&&D(0," \u041B\u0430\u0431\u043E\u0440\u0430\u0442\u043E\u0440\u0438\u044F \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u0438 ")}function pN(t,e){t&1&&D(0," \u041E\u043F\u0435\u0440\u0430\u0442\u0438\u0432\u043D\u0430\u044F \u0441\u0432\u043E\u0434\u043A\u0430 \u043F\u043E \u0430\u0432\u0442\u043E\u043F\u0430\u0440\u043A\u0443 \u0438 \u0444\u0438\u043D\u0430\u043D\u0441\u0430\u043C. ")}function hN(t,e){t&1&&D(0," \u0415\u0434\u0438\u043D\u043E\u0435 \u043E\u043A\u043D\u043E \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u0437\u0430\u044F\u0432\u043A\u0430\u043C\u0438 \u0438 \u0432\u043E\u0434\u0438\u0442\u0435\u043B\u044F\u043C\u0438. ")}function gN(t,e){t&1&&D(0," \u0418\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u044B \u043F\u043E\u0432\u044B\u0448\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0436\u0438\u043D\u0430\u043B\u044C\u043D\u043E\u0441\u0442\u0438 \u0438 \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044F (AI). ")}function mN(t,e){t&1&&fe(0,"app-dashboard")}function yN(t,e){t&1&&fe(0,"app-orders")}function vN(t,e){t&1&&fe(0,"app-ai-lab")}var ga=class t{constructor(){this.view=ae("dashboard")}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=Gt({type:t,selectors:[["app-root"]],decls:51,vars:27,consts:[[1,"flex","h-screen","bg-gray-50","font-sans","text-gray-900"],[1,"w-64","bg-slate-900","text-white","flex","flex-col","shadow-2xl","z-20"],[1,"p-6","border-b","border-slate-800"],[1,"flex","items-center","gap-3"],[1,"h-8","w-8","bg-blue-600","rounded-lg","flex","items-center","justify-center","font-bold","text-lg"],[1,"text-xl","font-bold","tracking-tight"],[1,"mt-2","text-xs","text-slate-400","font-mono"],[1,"flex-1","p-4","space-y-1"],[1,"w-full","flex","items-center","gap-3","px-4","py-3","rounded-lg","text-sm","font-medium","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["d","M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"],["d","M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"],["fill-rule","evenodd","d","M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z","clip-rule","evenodd"],["fill-rule","evenodd","d","M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"p-4","border-t","border-slate-800"],[1,"h-8","w-8","rounded-full","bg-slate-700"],[1,"text-xs","font-medium","text-white"],[1,"text-xs","text-slate-500"],[1,"flex-1","overflow-y-auto","p-8"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-500","text-sm","mt-1"],[1,"flex","gap-2"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","bg-green-100","text-green-800","border","border-green-200"],[1,"w-2","h-2","bg-green-500","rounded-full","mr-2"],[1,"max-w-7xl","mx-auto"]],template:function(n,o){if(n&1&&(C(0,"div",0)(1,"aside",1)(2,"div",2)(3,"div",3)(4,"div",4),D(5,"A"),E(),C(6,"h1",5),D(7,"ATK Transit"),E()(),C(8,"div",6),D(9,"OS: \u041B\u043E\u0433\u0438\u0441\u0442\u0438\u043A\u0430 (\u0411\u0435\u0442\u0430)"),E()(),C(10,"nav",7)(11,"button",8),K("click",function(){return o.view.set("dashboard")}),de(),C(12,"svg",9),fe(13,"path",10),E(),D(14," \u0421\u0432\u043E\u0434\u043D\u0430\u044F \u043F\u0430\u043D\u0435\u043B\u044C "),E(),_e(),C(15,"button",8),K("click",function(){return o.view.set("orders")}),de(),C(16,"svg",9),fe(17,"path",11)(18,"path",12),E(),D(19," \u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0440\u0435\u0439\u0441\u0430\u043C\u0438 "),E(),_e(),C(20,"button",8),K("click",function(){return o.view.set("ai")}),de(),C(21,"svg",9),fe(22,"path",13),E(),D(23," \u041C\u043E\u0434\u0443\u043B\u0438 \u0430\u0432\u0442\u043E\u043F\u0438\u043B\u043E\u0442\u0430 "),E()(),_e(),C(24,"div",14)(25,"div",3),fe(26,"div",15),C(27,"div")(28,"p",16),D(29,"\u0421\u0442\u0430\u0440\u0448\u0438\u0439 \u0434\u0438\u0441\u043F\u0435\u0442\u0447\u0435\u0440"),E(),C(30,"p",17),D(31,"\u0421\u043C\u0435\u043D\u0430 \u043E\u0442\u043A\u0440\u044B\u0442\u0430"),E()()()()(),C(32,"main",18)(33,"header",19)(34,"div")(35,"h2",20),me(36,cN,1,0)(37,dN,1,0)(38,fN,1,0),E(),C(39,"p",21),me(40,pN,1,0)(41,hN,1,0)(42,gN,1,0),E()(),C(43,"div",22)(44,"span",23),fe(45,"span",24),D(46," \u0421\u0438\u0441\u0442\u0435\u043C\u0430 \u0430\u043A\u0442\u0438\u0432\u043D\u0430 "),E()()(),C(47,"div",25),me(48,mN,1,0,"app-dashboard")(49,yN,1,0,"app-orders")(50,vN,1,0,"app-ai-lab"),E()()()),n&2){let r,i,s;w(11),bt("bg-blue-600",o.view()==="dashboard")("text-white",o.view()==="dashboard")("text-slate-400",o.view()!=="dashboard")("hover:bg-slate-800",o.view()!=="dashboard"),w(4),bt("bg-blue-600",o.view()==="orders")("text-white",o.view()==="orders")("text-slate-400",o.view()!=="orders")("hover:bg-slate-800",o.view()!=="orders"),w(5),bt("bg-purple-600",o.view()==="ai")("text-white",o.view()==="ai")("text-slate-400",o.view()!=="ai")("hover:bg-slate-800",o.view()!=="ai"),w(16),ye((r=o.view())==="dashboard"?36:r==="orders"?37:r==="ai"?38:-1),w(4),ye((i=o.view())==="dashboard"?40:i==="orders"?41:i==="ai"?42:-1),w(8),ye((s=o.view())==="dashboard"?48:s==="orders"?49:s==="ai"?50:-1)}},dependencies:[Ft,ys,Ms,ha],encapsulation:2})}};Sc(ga,{providers:[ic()]}).catch(t=>console.error(t));
